<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Student Welfare Association</title>
    <meta name="description" content="Student Welfare Association - supporting students through events, resources and community." />
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;800&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Libraries for Excel parsing and PDF generation (client-side) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
  <body>
    
  <div id="top" class="site-tile" role="banner" aria-label="Site title">
    <div class="container site-tile-inner" style="padding-top: 2px; padding-bottom: 2px;">
        <div>
            <img src="assets/images/swalogo.png" width="170" height="170" style="margin: 0;"> 
        </div>
        <div class="site-title-wrap">
          <div class="site-subtitle">Education ! Discipline !! Employment !!!</div>
          <h1 class="site-title" style="margin-top: 0.2rem; margin-bottom: 0.2rem;">Student Welfare Association</h1>
        </div>
    </div>
</div>


      <header class="site-header">
      <div class="container header-inner">
  <a class="brand" href="#"></a>
        <nav class="nav" aria-label="Primary">
          <button class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation">
            <span class="hamburger"></span>
            <span class="sr-only">Menu</span>
          </button>
          <ul id="primary-navigation" class="nav-list" role="menubar">
            <li role="none"><a role="menuitem" href="#top" class="home-link">Home</a></li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">About Us</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#about">Vision &amp; Mission </a></li>
                <li role="none"><a role="menuitem" href="#executive-council">Executive Council</a></li>
                <li role="none"><a role="menuitem" href="#faculty-advisors">Advisor Committee</a></li>
                <li role="none"><a role="menuitem" href="#important-committees">Important Committees</a></li>
                <li role="none"><a role="menuitem" href="#office-bearers">Administrative Staff</a></li>
                <li role="none"><a role="menuitem" href="#committees" class="open-committees" data-panel="committees">Committee Details</a></li>
                <li role="none"><a role="menuitem" href="#life-members" class="open-life" data-panel="life">Life Members</a></li>
                <li role="none"><a role="menuitem" href="#student-members" class="open-students" data-panel="students">Student Members</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Welfare Services</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#financial-aid" class="open-welfare" data-key="financial">Financial Aid &amp; Scholarships</a></li>
                <li role="none"><a role="menuitem" href="#counseling" class="open-welfare" data-key="counseling">Counseling &amp; Wellness</a></li>
                <li role="none"><a role="menuitem" href="#health-insurance" class="open-welfare" data-key="health">Health &amp; Insurance</a></li>
                <li role="none"><a role="menuitem" href="#accommodation" class="open-welfare" data-key="accommodation">Accommodation Support</a></li>
                <li role="none"><a role="menuitem" href="#career-placement" class="open-welfare" data-key="career">Career &amp; Placement Assistance</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Campus Life &amp; Activities</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#clubs">Registered Clubs Directory</a></li>
                <li role="none"><a role="menuitem" href="#start-club">Start a New Club</a></li>
                <li role="none"><a role="menuitem" href="#calendar" class="open-calendar">Event Calendar</a></li>
                <li role="none"><a role="menuitem" href="#sports" class="open-sports">Sports &amp; Recreation</a></li>
                <li role="none"><a role="menuitem" href="#culture" class="open-culture">Cultural &amp; Arts Programs</a></li>
                <li role="none"><a role="menuitem" href="#gallery">Photo Gallery</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Governance &amp; Policy</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#bylaws" class="open-bylaws">SWA Constitution &amp; By-Laws</a></li>
                <li role="none"><a role="menuitem" href="#bylaws-manager" class="open-bylaws-manager">Manage Documents (Secretary)</a></li>
                <li role="none"><a role="menuitem" href="#elections">Elections &amp; Voting</a></li>
                <li role="none"><a role="menuitem" href="#minutes" class="open-minutes">Meeting Minutes (Archive)</a></li>
                <li role="none"><a role="menuitem" href="#minutes-manager" class="open-minutes-manager">Manage Minutes (Secretary)</a></li>
                <li role="none"><a role="menuitem" href="#budget">Budget &amp; Financial Statements</a></li>
                <li role="none"><a role="menuitem" href="#budget-manager" class="open-financials-manager">Manage Financials (Secretary)</a></li>
                <li role="none"><a role="menuitem" href="#notifications">Official Notifications &amp; Circulars</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Support &amp; Grievance</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#grievance">Report a Grievance (Confidential)</a></li>
                <li role="none"><a role="menuitem" href="#antiragging">Anti-Ragging Policy</a></li>
                <li role="none"><a role="menuitem" href="#icc">Internal Complaints Committee (ICC)</a></li>
                <li role="none"><a role="menuitem" href="#code-of-conduct">Code of Conduct</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Resources &amp; Downloads</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#forms">All Forms (PDF/Doc)</a></li>
                <li role="none"><a role="menuitem" href="#annual-reports" class="open-annual" data-panel="annual">Annual Reports</a></li>
                <li role="none"><a role="menuitem" href="#links">Important University Links</a></li>
                <li role="none"><a role="menuitem" href="#handbooks">Student Handbooks</a></li>
                <li role="none"><a role="menuitem" href="#faqs">FAQs</a></li>
                <li role="none"><a role="menuitem" href="#download-certificates" class="open-download-certs">Download Certificates</a></li>
              </ul>
            </li>

            <li class="dropdown" role="none">
              <button class="dropdown-toggle donate" aria-expanded="false" aria-haspopup="true">Donate</button>
              <ul class="dropdown-menu" role="menu">
                <li role="none"><a role="menuitem" href="#donate-ways">Ways to Donate</a></li>
                <li role="none"><a role="menuitem" href="#donate-online">Donate Online</a></li>
                <li role="none"><a role="menuitem" href="#corporate">Corporate Sponsors</a></li>
                <li role="none"><a role="menuitem" href="#scholarship-funds">Scholarship Funds</a></li>
                <li role="none"><a role="menuitem" href="#donation-transparency">Donation Transparency</a></li>
                <li role="none"><a role="menuitem" href="#volunteer-donor">Volunteer as Donor</a></li>
              </ul>
            </li>

            <li role="none"><button id="login-btn" class="btn btn-ghost" role="menuitem" aria-haspopup="dialog">Login</button></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Login modal -->
     
 <div id="login-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="login-title">
    <div class="modal-panel" style="background-color: #000033; color: #FFFFFF;">
        <button class="modal-close" aria-label="Close login" style="color: #FFFFFF;">✕</button>
        <h2 id="login-title">Member Login</h2>
        <form id="login-form" class="login-form">
            <label style="color: #FFFFFF;">Username<input type="text" name="username" required></label>
            <label style="color: #FFFFFF;">Password<input type="password" name="password" required></label>
            <div style="display:flex;gap:0.6rem;margin-top:0.6rem">
                <button type="submit" class="btn btn-primary">Sign in</button>
                <button type="button" class="btn btn-outline modal-close">Cancel</button>
            </div>
        </form>
    </div>
<div id="welcome-message-container" style="text-align: center; padding: 10px; background-color: #f0f0f0; display: none;" >
    Welcome, <span id="display-username" style="font-weight: bold;"></span>!
</div>
  </div>

    <!-- Active content panel shown when a submenu is clicked -->
    <div id="active-panel" class="panel" aria-live="polite" aria-hidden="true">
      <div class="panel-inner container">
        <button class="panel-close" aria-label="Close">✕</button>
        <div id="panel-content"></div>
      </div>
    </div>

    <!-- Horizontal photo gallery immediately below the menu -->
    <section id="gallery" class="section gallery-section" aria-label="Photo gallery" role="region">
      <div class="container">
        <h2 class="sr-only">Gallery</h2>
        <div class="gallery-wrap">
          <button class="gallery-nav prev" aria-label="Previous photos">◀</button>
          <div class="gallery-scroller" tabindex="0">
            <figure><img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=001" alt="Students in a study group"></figure>
            <figure><img src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=002" alt="Graduation ceremony"></figure>
            <figure><img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=003" alt="Workshop session"></figure>
            <figure><img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=004" alt="Counseling session"></figure>
            <figure><img src="https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=005" alt="Student volunteers"></figure>
          </div>
          <button class="gallery-nav next" aria-label="Next photos">▶</button>
        </div>
        <!-- Add Life Member button moved to footer beside the visits counter -->
      </div>
    </section>

    <main>
      <section id="about" class="section container reveal collapsed" aria-hidden="true">
        <div class="about-grid">
          <div class="about-text">
           
            <h1><u><b>Vision</b></u> </h1> 
          <p>To be the driving force in creating an empowered community where every student and woman achieves their full potential through holistic development, active participation, and equitable opportunity.</p>
          <h1><u>Mission </u></h1>
         
         <h3> <p> 1. The mission of the Student Welfare Association is to ensure a thriving environment by:</p>

         <p> 2. Academic & Skill Enrichment: Planning and executing diverse academic and practical skill-building activities for students, alongside vocational and digital literacy training for local women, to enhance employability and self-reliance. </p>

         <p> 3. Social & Cultural Engagement: Promoting community well-being by organizing inclusive social, sports, and cultural events that build confidence, foster collaboration, and celebrate local heritage among all participants. </p>

         <p> 4. Core Welfare & Advocacy: Serving as the principal advocate for all students, providing essential support services (financial aid, counseling) and ensuring that student needs for clean facilities and resources are met. </p>

         <p> 5. Safety & Inclusion: Upholding the highest standards of safety by implementing and enforcing policies that guarantee an equitable and harassment-free campus for students and secure engagement for visiting women. </p>
         </h3>
          </div>
         
         <div>   
        <br>
          <div class="hero-visual" aria-hidden="true">
            <div class="card-visual">
              <img src="./assets/images/vision.jpg" alt="Students collaborating" />
            </div>
          </div>
          <br>
                    
          <div class="hero-visual" aria-hidden="true">
            <div class="card-visual">
              <img src="./assets/images/mission.png" alt="Students collaborating" />
            </div>
          </div>
          </div>     
        </div>
        </section>

      

      <section id="team" class="section container reveal">
        <h2 class="sr-only">Our Team</h2>
        <div class="team-feature">
          <div class="president">
            <img src="./assets/images/karuna1.jpg" alt="President" class="portrait-large" />
            <h3 ><b>Karuna Karoo</b></h3>
            <p class="Menu">President</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:president@swa.edu">president@swa.edu</a></p>
          </div>

          <div class="officers">
            <figure class="officer-card">
              <img src="./assets/images/President.jpeg" alt="Vice President" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Krishna Karoo</h3>
                  <p class="officer-role">Vice President</p>
                  <p class="small">Student Welfare Association <br> <a href="mailto:vice.president@swa.edu">vice.president@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            <figure class="officer-card">
              <img src="./assets/images/ashpak.jpg" alt="Secretary" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Ashpak Ansari</h3>
                  <p class="officer-role">Secretary</p>
                  <P class="small">Student Welfare Association <br> <a href="mailto:secretary@swa.edu">secretary@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            <figure class="officer-card">
              <img src="./assets/images/Prachi.jpg" alt="Treasurer" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Prachi Ghugal</h3>
                  <p class="officer-role">Treasurer</p>
                  <P class="small">Student Welfare Association <br> <a href="mailto:treasurer@swa.edu">treasurer@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            <figure class="officer-card">
              <img src="./assets/images/kshirsagar.jpg" alt="Executive Member" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Prashnat Kshirsagar</h3>
                  <p class="officer-role">Executive Director</p>
                  <P class="small">Student Welfare Association <br> <a href="mailto:executive.director@swa.edu">executive.director@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            <figure class="officer-card">
              <img src="./assets/images/govindani.jpeg" alt="Joint Secretary" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Nikhil Govindani</h3>
                  <p class="officer-role">Joint Secretary</p>
                  <P class="small">Student Welfare Association <br> <a href="mailto:joint.secretary@swa.edu">joint.secretary@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            <figure class="officer-card">
              <img src="./assets/images/ashwni.jpg" alt="Executive Member" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Ashwini Deoke</h3>
                  <p class="officer-role">Joint Treasurer</p>
                  <P class="small">Student Welfare Association <br> <a href="mailto:joint.treasurer@swa.edu">joint.treasurer@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
            
          </div>
        </div>
      </section>

      <!-- Wellness Week event template -->
      <template id="tpl-event-wellness">
        <section class="section container">
          <div class="wellness-container" style="max-width:720px">
            <h2>🌿 Wellness Week 🧘‍♀️</h2>
            <p class="event-details">Join us for a week dedicated to well-being! Featuring <strong>daily workshops on mental health</strong>, rejuvenating <strong>yoga sessions</strong>, and supportive <strong>peer circles</strong>.</p>
            <p class="pricing"><strong>Free for members.</strong></p>
            <div style="display:flex;gap:8px;margin-top:12px;margin-bottom:12px">
            <p> <h2> <U>Register Now</U></h2></p>
              
            </div>
            <section id="registration" class="registration-form" style="margin-top:12px">
              <h3>Member Registration</h3>
              <form id="wellness-registration-form">
                <div style="margin-bottom:8px"><label>Full Name:<br><input name="fullName" type="text" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>Email Address:<br><input name="email" type="email" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>Member ID (If applicable):<br><input name="memberId" type="text" placeholder="Optional for verification" style="width:100%" /></label></div>
                <div style="margin-bottom:12px"><label>Interested In:<br><select name="interest" style="width:100%"><option value="all">All Sessions</option><option value="mental-health">Mental Health Workshops</option><option value="yoga">Yoga Sessions</option><option value="peer-circles">Peer Circles</option></select></label></div>
                <div><button type="submit" class="btn btn-primary">Confirm Registration</button></div>
              </form>
            </section>
          </div>
        </section>
      </template>
      
      <!-- Meeting Minutes — public download list -->
      <template id="tpl-minutes">
        <section class="section container">
          <h2 tabindex="-1">Meeting Minutes — Public Archive</h2>
          <p class="muted small">Minutes of General Body and Executive Council meetings. Secretary may publish minutes for public download.</p>
          <div style="max-width:820px;display:grid;gap:12px">
            <div class="card" style="padding:12px">
              <h3>Available Minutes</h3>
              <ul id="public-minutes-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
                <li class="muted">No minutes published yet.</li>
              </ul>
              <div id="minutes-storage-status" class="muted small" style="margin-top:8px"></div>
            </div>
          </div>
        </section>
      </template>

      <!-- Meeting Minutes Manager — Secretary only -->
      <template id="tpl-minutes-manager">
        <section class="section container">
          <h2 tabindex="-1">Manage Meeting Minutes — Secretary</h2>
          <p class="muted small">Authenticate to add, replace, or delete meeting minutes. Public users only see the public archive.</p>
          <div style="max-width:820px;display:grid;gap:12px">
            <div class="card" style="padding:12px">
              <div style="display:flex;gap:8px;align-items:center">
                <input id="min-secret" type="password" placeholder="Secretary password" style="flex:1;min-width:200px" />
                <button id="min-unlock" class="btn btn-primary">Unlock</button>
                <button id="min-lock" class="btn btn-outline" style="display:none">Lock</button>
              </div>
              <div id="min-controls" style="margin-top:12px;display:none">
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
                  <button id="min-add" class="btn btn-primary">Add New Minute</button>
                  <div class="muted small">Add a titled minute entry with meeting date and type (e.g., GBM, EC). Files should be PDF.</div>
                </div>

                <div id="min-add-form" style="display:none;border:1px dashed #e6e6e6;padding:8px;border-radius:6px;margin-bottom:8px">
                  <label style="display:block;margin-bottom:6px">Title<br><input id="min-new-title" type="text" style="width:100%" placeholder="E.g. GBM Minutes - 21 Oct 2025"></label>
                  <label style="display:block;margin-bottom:6px">Meeting Date<br><input id="min-new-date" type="date" style="width:220px" /></label>
                  <label style="display:block;margin-bottom:6px">Nature / Type<br><input id="min-new-type" type="text" style="width:100%" placeholder="E.g. General Body Meeting (GBM)" /></label>
                  <label style="display:block;margin-bottom:6px">Upload PDF<br><input id="min-new-file" type="file" accept="application/pdf"></label>
                  <div style="display:flex;gap:8px;margin-top:6px"><button id="min-create" class="btn btn-primary">Create</button><button id="min-cancel" class="btn btn-outline">Cancel</button></div>
                </div>

                <div>
                  <h4>Managed Minutes</h4>
                  <ul id="min-doc-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px"></ul>
                </div>

                <div id="min-msg" class="muted small" style="margin-top:8px;display:none"></div>
              </div>
            </div>
          </div>
        </section>
      </template>

    
      <!-- Financials — public download list -->
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>
     <template id="tpl-finan">
  <section class="section container">
    <h2 tabindex="-1">Budget &amp; Financials — Public Download</h2>
    <p class="muted small">Available financial statements, including audit reports, budgets, and final accounts, published for public download.</p>
    <div style="max-width:820px;display:grid;gap:12px">
      <div class="card" style="padding:12px">
        <h3>Available Financials</h3>
        
        <ul id="public-financials-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
          <li class="muted">No financial statements published yet.</li>
        </ul>
        
        <div id="fin-status" class="muted small" style="margin-top:8px"></div>
        
      </div>
    </div>
  </section>
</template>

      <!-- Financials Manager — Secretary only (full CRUD) -->
      <template id="tpl-financials-manager">
        <section class="section container">
          <h2 tabindex="-1">Manage Budget &amp; Financial Statements — Secretary</h2>
          <p class="muted small">Authenticate to add, replace, or delete financial statements (audit reports, budgets, final accounts). Public users only see the download list.</p>
          <div style="max-width:820px;display:grid;gap:12px">
            <div class="card" style="padding:12px">
              <div style="display:flex;gap:8px;align-items:center">
                <input id="fin-secret" type="password" placeholder="Secretary password" style="flex:1;min-width:200px" />
                <button id="fin-unlock" class="btn btn-primary">Unlock</button>
                <button id="fin-lock" class="btn btn-outline" style="display:none">Lock</button>
              </div>
              <div id="fin-controls" style="margin-top:12px;display:none">
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
                  <button id="fin-add" class="btn btn-primary">Add New Financial Document</button>
                  <div class="muted small">Add a titled document and upload a PDF. Replacements and deletes are available per item.</div>
                </div>

                <div id="fin-add-form" style="display:none;border:1px dashed #e6e6e6;padding:8px;border-radius:6px;margin-bottom:8px">
                  <label style="display:block;margin-bottom:6px">Title<br><input id="fin-new-title" type="text" style="width:100%" placeholder="E.g. Audit Report 2024"></label>
                  <label style="display:block;margin-bottom:6px">Type (optional)<br><input id="fin-new-type" type="text" style="width:100%" placeholder="E.g. Audit Report, Annual Accounts, Budget"></label>
                  <label style="display:block;margin-bottom:6px">Upload PDF<br><input id="fin-new-file" type="file" accept="application/pdf"></label>
                  <div style="display:flex;gap:8px;margin-top:6px"><button id="fin-create" class="btn btn-primary">Create</button><button id="fin-cancel" class="btn btn-outline">Cancel</button></div>
                </div>

                <div>
                  <h4>Managed Financial Documents</h4>
                  <ul id="fin-doc-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px"></ul>
                </div>

                <div id="fin-msg" class="muted small" style="margin-top:8px;display:none"></div>
              </div>
            </div>
          </div>
        </section>
      </template>
      

      
      

      <!-- Cultural & Arts Programs panel -->
      <template id="tpl-culture">
        <section class="section container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
    <style>
        .section.container {
            font-family: Arial, sans-serif;
        }
        .lead.muted {
            text-align: justify; 
            margin-bottom: 25px; 
            color: #666; 
            font-size: 1.1em;
        }
        h2 {
            text-align: center; 
            margin-bottom: 5px;
        }
        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
    .card h3 {
      margin-bottom: 5px;
    }
        .card p.muted {
            color: #444; 
            text-align: justify;
        }
    </style>
    
    <h2 tabindex="-1">Cultural &amp; Arts Programs 🎭</h2>
    <p class="lead muted">Festivals, literary events and arts programs — opportunities to express creativity and celebrate our cultural life.</p>

    <div style="display:grid;grid-template-columns:1fr;gap:1rem;">
        <article class="card" style="padding:12px">
            <h3>Programs & Events</h3>
            <p class="muted">We host dance, music, theatre, and literary events throughout the year. There are workshops on scriptwriting, stagecraft, creative writing and more.</p>
            <ul style="padding-left: 20px;">
                <li style="text-align: justify; margin-bottom: 5px;"><strong>Annual Cultural Fest:</strong> A two-day campus-wide celebration featuring music, dance, theatre and film.</li>
                <li style="text-align: justify; margin-bottom: 5px;"><strong>Open Mic &amp; Poetry Nights:</strong> Monthly events for performers and writers.</li>
            </ul>
        </article>

        <article class="card" style="padding:12px;">
            <div style="margin-bottom: 15px;">
                <img src="./assets/images/cultural1.png" alt="Cultural performance" style="width:100%;height:auto;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,0.08)">
            </div>
            <h3>How to Participate</h3>
            <p class="muted">Sign up as a performer, volunteer backstage, or join a production team. Most events accept solo acts and groups; check event-specific guidelines for set lengths and technical requirements.</p>
            <p><strong>Contact:</strong> <a href="mailto:arts@swa.edu" style="color: #007bff; text-decoration: none;">arts@swa.edu</a> for registrations and sponsorship opportunities.</p>
        </article>

        <article class="card" style="padding:12px">
            <h3>Student Clubs & Societies</h3>
            <p class="muted">Our cultural clubs include drama, music, dance, film, and literary societies. Visit the Registered Clubs Directory to see contact details and how to join.</p>
        </article>
    </div>
</section>
      </template>

      <!-- Event Calendar template -->
      <template id="tpl-calendar">
        <section class="section container">
          <h2 tabindex="-1">Event Calendar 📅</h2>
          <p class="lead muted">See upcoming SWA events and jump to details or register.</p>
          <div class="calendar-list" style="max-width:720px;margin-top:12px">
            <ul style="list-style:none;padding:0;margin:0;display:grid;grid-template-columns:1fr;gap:10px">
              <li style="padding:10px;border:1px solid #eee;border-radius:8px;display:flex;justify-content:space-between;align-items:center">
                <div>
                  <strong>Wellness Week</strong>
                  <div class="muted small">Mon–Fri — Mental health workshops & yoga</div>
                </div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm learn-more-event" data-event="wellness">Details</button>
                </div>
              </li>

              <li style="padding:10px;border:1px solid #eee;border-radius:8px;display:flex;justify-content:space-between;align-items:center">
                <div>
                  <strong>Career Clinic</strong>
                  <div class="muted small">CV reviews, mock interviews and alumni panels</div>
                </div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm learn-more-event" data-event="career">Register</button>
                </div>
              </li>

              <li style="padding:10px;border:1px solid #eee;border-radius:8px;display:flex;justify-content:space-between;align-items:center">
                <div>
                  <strong>Financial Aid Workshop</strong>
                  <div class="muted small">Scholarship applications & emergency fund guidance</div>
                </div>
                <div style="display:flex;gap:8px">
                  <button class="btn btn-sm learn-more-event" data-event="financial">Sign Up</button>
                </div>
              </li>
            </ul>
          </div>
          <p class="muted small" style="margin-top:12px">Tip: Use the buttons to open each event's detail panel and register.</p>
        </section>
      </template>

      <!-- Career Clinic event template -->
      <template id="tpl-event-career">
        <section class="section container">
          <div style="max-width:720px">
            <h2>💼 Career Clinic</h2>
            <p class="event-details">CV reviews, mock interviews and alumni panels to prepare you for the job market.</p>
            <p class="pricing"><strong>Free for members.</strong></p>
            <section id="registration" class="registration-form" style="margin-top:12px">
              <h3>Register for Career Clinic</h3>
              <form id="career-registration-form">
                <div style="margin-bottom:8px"><label>Full Name:<br><input name="fullName" type="text" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>Email Address:<br><input name="email" type="email" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>Current Study / Year:<br><input name="studyYear" type="text" placeholder="e.g., BSc II" style="width:100%" /></label></div>
                <div style="margin-bottom:12px"><label>Preferred Slot:<br><select name="slot" style="width:100%"><option value="morning">Morning</option><option value="afternoon">Afternoon</option><option value="evening">Evening</option></select></label></div>
                <div><button type="submit" class="btn btn-primary">Confirm Registration</button></div>
              </form>
            </section>
          </div>
        </section>
      </template>

      <!-- Financial Aid Workshop event template -->
      <template id="tpl-event-financial">
        <section class="section container">
          <div style="max-width:720px">
            <h2>💡 Financial Aid Workshop</h2>
            <p class="event-details">Learn how to apply for scholarships and emergency support schemes available on campus.</p>
            <p class="pricing"><strong>Free for members.</strong></p>
            <section id="registration" class="registration-form" style="margin-top:12px">
              <h3>Sign Up for Financial Aid Workshop</h3>
              <form id="financial-registration-form">
                <div style="margin-bottom:8px"><label>Full Name:<br><input name="fullName" type="text" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>Email Address:<br><input name="email" type="email" required style="width:100%" /></label></div>
                <div style="margin-bottom:8px"><label>College / Department:<br><input name="dept" type="text" placeholder="Your department" style="width:100%" /></label></div>
                <div style="margin-bottom:12px"><label>Tell us what you need help with:<br><select name="helpWith" style="width:100%"><option value="scholarships">Scholarships</option><option value="emergency">Emergency support</option><option value="both">Both</option></select></label></div>
                <div><button type="submit" class="btn btn-primary">Sign Up</button></div>
              </form>
            </section>
          </div>
        </section>
      </template>


      <section class="hero">
        <div class="container hero-grid">
          <div class="hero-content">
            <h1>Student Welfare Association</h2>
            <p class="lead">Empowering students with resources, events and a caring community. Join hands to build a better campus life.</p>
            <div class="hero-ctas">
              <a href="#student-members" class="btn btn-primary open-students">Become a Member</a>
              <a href="#events" class="btn btn-outline">See Events</a>
            </div>
            <ul class="highlights">
              <li><strong>Peer Support</strong> — Counseling and mentorship</li>
              <li><strong>Workshops</strong> — Life skills & career prep</li>
              <li><strong>Financial Aid</strong> — Guidance & emergency support</li>
            </ul>
          </div>
          <div class="hero-visual" aria-hidden="true">
            <div class="card-visual">
              <img src="./assets/images/Join.png" alt="Students collaborating" />
            </div>
          </div>
        </div>
      </section>

  <section id="events" class="section section-alt reveal deferred">
        <div class="container">
          <h2>Upcoming Events</h2>
          <div class="grid cards">
            <article class="card">
              <div class="card-body">
                <h3>Wellness Week</h3>
                <p>Daily workshops on mental health, yoga sessions and peer circles. Free for members.</p>
                <a href="#" class="btn btn-sm learn-more-event" data-event="wellness">Learn More</a>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                <h3>Career Clinic</h3>
                <p>CV reviews, mock interviews and alumni panels to prepare you for the job market.</p>
                <a href="#" class="btn btn-sm learn-more-event" data-event="career">Register</a>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                <h3>Financial Aid Workshop</h3>
                <p>Learn how to apply for scholarships and emergency support schemes available on campus.</p>
                <a href="#" class="btn btn-sm learn-more-event" data-event="financial">Sign Up</a>
 if(idx!==-1){ arr[idx]=d; saveFinancials(arr); renderList(); renderPublicList(); try{ showPublicPanel(); }catch(e){} try{ swaToast('Replaced "'+ (d.title||'document') +'"',1500); }catch(e){} if(msg){ msg.style.display='block'; msg.textContent='Replaced.'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1500); } }
            </article>
          </div>
        </div>
      </section>

      <!-- Services removed per request; content available via menu when needed -->

  <section id="join" class="section section-cta reveal deferred">
        <div class="container cta-grid">
          <div>
            <h2>Join the Student Welfare Association</h2>
            <p>Become part of a community that looks out for one another. Membership is open to all students.</p>
          </div>
          <form class="join-form" aria-label="Join form">
            <label>
              Full name
              <input type="text" name="name" placeholder="Your name" required>
            </label>
            <label>
              Email
              <input type="email" name="email" placeholder="you@university.edu" required>
            </label>
            <label>
              Name of College
              <input type="text" name="dept" placeholder="Your department">
            </label>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </section>

  
    <section id="contact" class="section container-wide reveal">
    <div class="officers contact-officers">
      <figure class="officer-card">
        <img src="./assets/images/karuna1.jpg" alt="President" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Karuna Karoo</h3>
            <p class="officer-role">President</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:president@swa.edu">president@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      <figure class="officer-card">
        <img src="./assets/images/President.jpeg" alt="Vice President" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Krishna Karoo</h3>
            <p class="officer-role">Vice President</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:vice.president@swa.edu">vice.president@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      <figure class="officer-card">
        <img src="./assets/images/ashpak.jpg" alt="Secretary" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Ashpak Ansari</h3>
            <p class="officer-role">Secretary</p>
            <P class="small">Student Welfare Association <br> <a href="mailto:secretary@swa.edu">secretary@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      <figure class="officer-card">
        <img src="./assets/images/Prachi.jpg" alt="Treasurer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Prachi Ghugal</h3>
            <p class="officer-role">Treasurer</p>
            <P class="small">Student Welfare Association <br> <a href="mailto:treasurer@swa.edu">treasurer@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
    </div>
  </section>

  
      
      <!-- --- Scaffoled content sections for navigation targets --- -->
      <section id="executive-council" class="section container reveal">
        <h2>Executive Council</h2>
        <p>The Executive Council comprises elected student representatives including the President, Vice President, Secretary and Treasurer. Profiles, responsibilities, and contact details for each member are listed here when available.</p>
      </section>

      <!-- Important Committees (matches site card/grid style like other team panels) -->
      <section id="important-committees" class="section container reveal">
        <h2>CEO & Convener's of Important Committees</h2>
        <p class="lead muted">To consolidate the various functions of the Student Welfare Association, the standing committees are shown below. Click "View Committee" under any convener to open the details panel.</p>

        <div class="team-feature" style="margin-top:1.2rem;">
          <!-- Left: Lead convener / coordinator -->
          <div class="president">
            <img src="./assets/images/Prachi1.jpeg" alt="Committee Convenor" class="portrait-large" />
            <h3><b>Prachi Ghugal</b></h3>
            <p class="Menu">Chief Executive Officer<br>Student Development &amp; Implementation</p>
            <p class="small">Student Welfare Association<br><a href="mailto:prachi.ghugal@swa.edu">prachi.ghugal@swa.edu</a></p>
          </div>

          <!-- Right: Conveners grid (arranged like Executive Council) -->
          <div class="officers" role="list">
            <figure class="officer-card" role="listitem">
              <img src="./assets/images/President.jpeg" alt="Ashwini Deoke" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Krishna Karoo</h3>
                  <p class="officer-role">Convener </br> Governance Committee</p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:aksingh@swa.edu">krishna.karoo@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="executive" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/kshirsagar.jpg" alt="Prof. S. Rao" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Prashnat Kshirsagar</h3>
                  <p class="officer-role">Convener</br>Grievance &amp; Discipline Committee </p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:srao@swa.edu">prashnat.kshirsagar@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="grievance" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/thakare.jpeg" alt="Dr. R. Mehta" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Prashnat Thakare</h3>
                  <p class="officer-role">Convener </br> Academic &amp; Career Committee</p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:rmehta@swa.edu">prashnat.thakare@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="academic" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/ashwni.jpg" alt="Ms. P. Sharma" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Ashwini Deoke</h3>
                  <p class="officer-role">Convener </br> Cultural &amp; Literary Committee</p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:psharma@swa.edu">ashwini.deoke@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="cultural" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/deshpand.jpeg" alt="Mr. N. Patel" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Maneesh Deshpande</h3>
                  <p class="officer-role">Convener </br> Sports &amp; Physical Welfare Committee</p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:npatel@swa.edu">maneesh.deshpande@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="sports" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/govindani.jpeg" alt="Dr. V. Rao" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Nikhil Govindani</h3>
                  <p class="officer-role">Convener </br>  Support Services &amp; Infrastructure Committee </p>
                  <p class="small muted">Student Welfare Association<br><a href="mailto:vrao@swa.edu">nikhil.govindani@swa.edu</a></p>
                  <div style="margin-top:0.6rem">
                    <button class="btn btn-sm committee-btn" data-committee="support" type="button">View Committee</button>
                  </div>
                </div>
              </figcaption>
            </figure>
          </div>
        </div>

        <p class="muted small" style="margin-top:0.6rem">Click "View Committee" under any convener to open the details panel. Replace placeholder images in assets/images with real photos when ready.</p>
      </section>
      
      <!-- Inline script: open panel and show committee details (placeholders) -->
      <script>
        (function(){
          // centralized IDB helpers for file storage (shared by managers)
          function openFilesDB(){
            return new Promise(function(resolve,reject){
              try{
                var req = indexedDB.open('swa_files_db',1);
                req.onupgradeneeded = function(ev){ var db = ev.target.result; if(!db.objectStoreNames.contains('files')) db.createObjectStore('files',{keyPath:'key'}); };
                req.onsuccess = function(ev){ resolve(ev.target.result); };
                req.onerror = function(ev){ reject(ev.target.error||new Error('IDB open error')); };
              }catch(e){ reject(e); }
            });
          }
          function idbPut(key, blob, meta){
            return openFilesDB().then(function(db){
              return new Promise(function(resolve,reject){
                try{
                  var tx = db.transaction('files','readwrite'); var store = tx.objectStore('files'); var rec = { key:key, blob:blob, meta: meta || { ts: Date.now() } };
                  var r = store.put(rec);
                  r.onsuccess = function(){ resolve(true); };
                  r.onerror = function(ev){ reject(ev.target.error||new Error('IDB put failed')); };
                }catch(e){ reject(e); }
              });
            });
          }
          function idbGet(key){
            return openFilesDB().then(function(db){
              return new Promise(function(resolve,reject){
                try{
                  var tx = db.transaction('files','readonly'); var store = tx.objectStore('files'); var r = store.get(key);
                  r.onsuccess = function(){ resolve(r.result||null); };
                  r.onerror = function(ev){ reject(ev.target.error||new Error('IDB get failed')); };
                }catch(e){ reject(e); }
              });
            });
          }
          const panel = document.getElementById('active-panel');
          const content = document.getElementById('panel-content');

          if (!panel || !content) {
            console.error('Panel or panel content element missing:', panel, content);
            return;
          }

          function openCommittee(key) {
            try {
              const tpl = document.getElementById('tpl-' + key);
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Details will be added soon.</p>';

              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });

              requestAnimationFrame(() => {
                const h = content.querySelector('h2');
                if (h) h.focus();
              });
            } catch (err) {
              console.error('openCommittee error', err);
            }
          }

          // Event delegation for committee buttons
          document.addEventListener('click', function (e) {
            const btn = e.target.closest && e.target.closest('.committee-btn');
            if (btn) {
              e.preventDefault();
              const key = btn.dataset && btn.dataset.committee;
              if (!key) { console.warn('committee button missing data-committee'); return; }
              openCommittee(key);
              return;
            }

            // open Annual Reports panel from nav (class .open-annual)
            const annual = e.target.closest && e.target.closest('.open-annual');
            if (annual) {
              e.preventDefault();
              // load the annual reports index template
              const tpl = document.getElementById('tpl-annual');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Reports will be added soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => {
                const h = content.querySelector('h2');
                if (h) h.focus();
              });
              return;
            }

            // open Committee Details consolidated tables (class .open-committees)
            const comm = e.target.closest && e.target.closest('.open-committees');
            if (comm) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-committees');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Committee details will be added soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              // Center tables and reorder columns to: Photo | Name | Designation | Email | Contact
              try {
                const tables = content.querySelectorAll('.committee-table');
                tables.forEach(t => { t.style.margin = '0.6rem auto'; t.style.textAlign = 'center'; });
                tables.forEach(t => {
                  const theadTr = t.querySelector('thead tr');
                  if (theadTr) {
                    theadTr.innerHTML = '<th scope="col">Photo</th><th scope="col">Name</th><th scope="col">Designation</th><th scope="col">Email</th><th scope="col">Contact</th>';
                  }
                  const bodyRows = t.querySelectorAll('tbody tr');
                  bodyRows.forEach(tr => {
                    const tds = Array.from(tr.children);
                    const photo = tds[0] || document.createElement('td');
                    const role  = tds[1] || document.createElement('td'); // Role/Designation in current markup
                    const name  = tds[2] || document.createElement('td');
                    const email = tds[3] || document.createElement('td');
                    const contact = document.createElement('td');
                    contact.textContent = '—';
                    tr.innerHTML = '';
                    tr.append(photo, name, role, email, contact);
                  });
                });
              } catch (err) {
                console.warn('committee table normalize error', err);
              }
              requestAnimationFrame(() => {
                const h = content.querySelector('h2');
                if (h) h.focus();
              });
              return;
            }

            // open About Us from footer (class .open-about)
            const aboutBtn = e.target.closest && e.target.closest('.open-about');
            if (aboutBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-about');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>About Us content coming soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Event Calendar from nav (class .open-calendar)
            const calBtn = e.target.closest && e.target.closest('.open-calendar');
            if (calBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-calendar');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Event calendar will be added soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Disclaimer from footer (class .open-disclaimer)
            const discBtn = e.target.closest && e.target.closest('.open-disclaimer');
            if (discBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-disclaimer');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Disclaimer content coming soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Life Members panel from nav (class .open-life)
            

            const life = e.target.closest && e.target.closest('.open-life');
            if (life) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-life-members');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Life members will be added soon.</p>';
              // gather member elements from the page (president, officers, contact officers)
              try {
                const grid = content.querySelector('.members-grid');
                const members = [];
                // helper to normalize an element into a member object
                function readMember(imgEl, nameEl, roleEl, emailEl){
                  return {
                    photo: imgEl ? imgEl.getAttribute('src') || './assets/images/dummy-person.svg' : './assets/images/dummy-person.svg',
                    name: nameEl ? nameEl.textContent.trim() : '—',
                    role: roleEl ? roleEl.textContent.trim() : '—',
                    email: emailEl ? (emailEl.querySelector && emailEl.querySelector('a') ? emailEl.querySelector('a').textContent.trim() : emailEl.textContent.trim()) : '—'
                  };
                }

                // President
                var presImg = document.querySelector('.president img') || document.querySelector('.president .portrait-large');
                var presName = document.querySelector('.president h3');
                var presRole = document.querySelector('.president .Menu') || document.querySelector('.president .officer-role');
                var presEmail = document.querySelector('.president .small');
                if (presName) members.push(readMember(presImg, presName, presRole, presEmail));

                // officers and contact officers
                var officerCards = document.querySelectorAll('.officer-card');
                officerCards.forEach(fc => {
                  const img = fc.querySelector('img');
                  const name = fc.querySelector('.officer-name') || fc.querySelector('h3');
                  const role = fc.querySelector('.officer-role') || fc.querySelector('p');
                  const email = fc.querySelector('.small');
                  members.push(readMember(img, name, role, email));
                });

                // contact/officers in contact section
                var contactCards = document.querySelectorAll('.contact-officers .officer-card');
                contactCards.forEach(fc => {
                  const img = fc.querySelector('img');
                  const name = fc.querySelector('.officer-name') || fc.querySelector('h3');
                  const role = fc.querySelector('.officer-role') || fc.querySelector('p');
                  const email = fc.querySelector('.small');
                  members.push(readMember(img, name, role, email));
                });

                // remove duplicates by name
                const seen = new Set();
                const unique = members.filter(m => {
                  const key = (m.name||'').toLowerCase();
                  if(seen.has(key)) return false; seen.add(key); return true;
                });

                // render cards (scanned members from page)
                grid.innerHTML = unique.map(m => `
                  <article class="card member-card" style="padding:10px;text-align:center;">
                    <div style="height:140px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                      <img src="${m.photo}" alt="${m.name}" style="max-width:100%;max-height:100%;border-radius:8px;object-fit:cover;" onerror="this.src='./assets/images/dummy-person.svg'"/>
                    </div>
                    <h3 style="margin:6px 0 4px;font-size:1rem">${m.name}</h3>
                    <div style="font-size:0.9rem;color:#4b5563">${m.role}</div>
                    <div style="margin-top:6px;font-size:0.85rem;color:#334155">${m.email}</div>
                  </article>
                `).join('');

                // append stored members from localStorage (so newly added members show after existing page members)
                try{
                  var raw = localStorage.getItem('swa_life_members');
                  var stored = raw ? JSON.parse(raw) : [];
                  if(stored && stored.length){
                    var toAppend = stored.filter(function(m){
                      var key = (m.name||'').toLowerCase();
                      return !seen.has(key);
                    }).map(function(m){
                      var photo = m.photo || './assets/images/dummy-person.svg';
                      var name = m.name || '—';
                      var role = m.role || '—';
                      var email = m.email || '—';
                      return '\n                  <article class="card member-card" style="padding:10px;text-align:center;">'
                        + '<div style="height:140px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">'
                        + '<img src="'+photo.replace(/"/g,'')+'" alt="'+name+'" style="max-width:100%;max-height:100%;border-radius:8px;object-fit:cover;" onerror="this.src=\'./assets/images/dummy-person.svg\'"/>'
                        + '</div>'
                        + '<h3 style="margin:6px 0 4px;font-size:1rem">'+name+'</h3>'
                        + '<div style="font-size:0.9rem;color:#4b5563">'+role+'</div>'
                        + '<div style="margin-top:6px;font-size:0.85rem;color:#334155">'+email+'</div>'
                        + '</article>';
                    }).join('');
                    if(toAppend) grid.innerHTML += toAppend;
                  }
                }catch(err){ console.warn('append stored life members error', err); }
              } catch (err) {
                console.warn('life members render error', err);
              }
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => {
                const h = content.querySelector('h2');
                if (h) h.focus();
              });
              return;
            }

            // open Sports & Recreation panel from nav (class .open-sports)
            const sportsBtn = e.target.closest && e.target.closest('.open-sports');
            if (sportsBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-sports-rec');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Sports & Recreation content coming soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });

              // wire booking form
              setTimeout(function(){
                try{
                  const form = content.querySelector('#sports-booking-form');
                  const result = content.querySelector('#booking-result');
                  const clearBtn = content.querySelector('#clear-booking');
                  if(form && form.dataset && form.dataset.wired !== '1'){
                    form.dataset.wired = '1';
                    form.addEventListener('submit', function(ev){
                      ev.preventDefault();
                      try{
                        const fd = new FormData(form);
                        const booking = {
                          id: 'bk_' + Date.now(),
                          name: fd.get('name'),
                          email: fd.get('email'),
                          facility: fd.get('facility'),
                          slot: fd.get('slot'),
                          notes: fd.get('notes'),
                          createdAt: new Date().toISOString()
                        };
                        // persist to localStorage (append)
                        try{
                          const raw = localStorage.getItem('swa_sports_bookings');
                          const arr = raw ? JSON.parse(raw) : [];
                          arr.push(booking);
                          localStorage.setItem('swa_sports_bookings', JSON.stringify(arr));
                        }catch(err){ console.warn('save booking error', err); }

                        if(result){ result.style.display = 'block'; result.textContent = 'Booking request saved locally. The Sports Convener will confirm via email.'; }
                        form.reset();
                      }catch(err){ console.warn('sports booking submit error', err); alert('Could not save booking locally.'); }
                    });
                  }
                  if(clearBtn){ clearBtn.addEventListener('click', function(){ if(form) form.reset(); if(result) { result.style.display='none'; result.textContent=''; } }); }
                }catch(err){ console.warn('wire sports booking error', err); }
              },60);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Cultural & Arts Programs panel (class .open-culture)
            const cultureBtn = e.target.closest && e.target.closest('.open-culture');
            if (cultureBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-culture');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Cultural & Arts Programs content coming soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

           

            // open public Bylaws panel (class .open-bylaws)
            const bylBtn = e.target.closest && e.target.closest('.open-bylaws');
            if (bylBtn) {
              e.preventDefault();
              const tpl = document.getElementById('tpl-bylaws');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Bylaws content coming soon.</p>';
              panel.classList.add('show');
              panel.setAttribute('aria-hidden', 'false');
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });

              // render public list from manager index
              setTimeout(function(){
                try{
                  var publicList = content.querySelector('#public-bylaw-list');
                  function loadDocsIndex(){ try{ var raw = localStorage.getItem('swa_bylaw_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function getFileUrl(storageKey){ try{ var data = localStorage.getItem(storageKey); if(data) return data; var idbMarker = localStorage.getItem(storageKey + '_idb'); if(idbMarker){ return idbGet(storageKey).then(function(rec){ if(rec && rec.blob){ return URL.createObjectURL(rec.blob); } return null; }).catch(function(){ return null; }); } return null; }catch(e){ return null; } }

                  function renderPublic(){ var docs = loadDocsIndex(); if(!publicList) return; publicList.innerHTML = ''; if(!docs.length){ publicList.innerHTML = '<li class="muted">No documents published yet.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); var a = document.createElement('a'); a.href = '#'; a.textContent = d.title || 'Untitled'; a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); // attempt immediate download
                        // try localStorage first
                        try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2 = document.createElement('a'); a2.href = data; a2.download = (d.meta && d.meta.name) ? d.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){}
                        var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; }
                        alert('File not available.'); }); li.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent = d.meta.name + ' — ' + (d.meta.ts ? (new Date(d.meta.ts)).toLocaleString() : ''); li.appendChild(meta); publicList.appendChild(li); }); }

                  // idb helper reused from elsewhere in file
                  function openFilesDB(){ return new Promise(function(resolve,reject){ try{ var req = indexedDB.open('swa_files_db',1); req.onupgradeneeded = function(ev){ var db = ev.target.result; if(!db.objectStoreNames.contains('files')) db.createObjectStore('files',{keyPath:'key'}); }; req.onsuccess = function(ev){ resolve(ev.target.result); }; req.onerror = function(ev){ reject(ev.target.error||new Error('IDB open error')); }; }catch(e){ reject(e);} }); }
                  function idbGet(key){ return openFilesDB().then(function(db){ return new Promise(function(resolve,reject){ try{ var tx = db.transaction('files','readonly'); var store = tx.objectStore('files'); var r = store.get(key); r.onsuccess=function(){ resolve(r.result||null); }; r.onerror=function(ev){ reject(ev.target.error||new Error('IDB get failed')); }; }catch(e){ reject(e); } }); }); }

                  renderPublic();
                }catch(err){ console.warn('render public bylaws error', err); }
              },60);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open public Meeting Minutes panel (class .open-minutes)
            const minBtn = e.target.closest && e.target.closest('.open-minutes');
            if(minBtn){
              e.preventDefault();
              const tpl = document.getElementById('tpl-minutes');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Minutes archive coming soon.</p>';
              panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });

              setTimeout(function(){
                try{
                  var publicList = content.querySelector('#public-minutes-list');
                  function loadMinutes(){ try{ var raw = localStorage.getItem('swa_minutes_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function idbGetLocal(key){ return new Promise(function(res){ try{ var raw = localStorage.getItem(key); if(raw) return res(raw); var idbMarker = localStorage.getItem(key + '_idb'); if(idbMarker){ idbGet(key).then(function(rec){ if(rec && rec.blob){ res(URL.createObjectURL(rec.blob)); } else res(null); }).catch(function(){ res(null); }); return; } res(null); }catch(e){ res(null); } }); }

                  function renderMinutes(){ var docs = loadMinutes(); if(!publicList) return; publicList.innerHTML=''; if(!docs.length){ publicList.innerHTML='<li class="muted">No minutes published yet.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); var left = document.createElement('div'); var a = document.createElement('a'); a.href='#'; a.textContent = d.title || ('Minutes ' + (d.date || '')); a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2 = document.createElement('a'); a2.href = data; a2.download = (d.meta && d.meta.name) ? d.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); left.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; var dt = d.date ? ('Date: ' + d.date) : ''; var nt = d.type ? (' — ' + d.type) : ''; if(d.meta && d.meta.name) meta.textContent = (d.meta.name) + ' ' + dt + nt + (d.meta.ts ? (' — ' + (new Date(d.meta.ts)).toLocaleString()) : ''); else meta.textContent = dt + nt; left.appendChild(meta); li.appendChild(left); publicList.appendChild(li); }); }

                  renderMinutes();
                }catch(err){ console.warn('render public minutes error', err); }
              },60);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open public Financials panel (class .open-financials)
            const finBtn = e.target.closest && e.target.closest('.open-financials');
            if(finBtn){
              e.preventDefault();
              const tpl = document.getElementById('tpl-financials');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Financial statements coming soon.</p>';
              panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });

              setTimeout(function(){
                try{
                  var publicList = content.querySelector('#public-fin-list');
                  function loadFinancials(){ try{ var raw = localStorage.getItem('swa_fin_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function idbGetLocal(key){ return new Promise(function(res){ try{ var raw = localStorage.getItem(key); if(raw) return res(raw); var idbMarker = localStorage.getItem(key + '_idb'); if(idbMarker){ idbGet(key).then(function(rec){ if(rec && rec.blob){ res(URL.createObjectURL(rec.blob)); } else res(null); }).catch(function(){ res(null); }); return; } res(null); }catch(e){ res(null); } }); }

                  function renderFinancials(){ var docs = (loadFinancials()||[]).filter(function(d){ return d && d.managed; }); if(!publicList) return; publicList.innerHTML=''; if(!docs.length){ publicList.innerHTML='<li class="muted">No financial documents published yet.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); var a = document.createElement('a'); a.href='#'; a.textContent = d.title || 'Untitled'; a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2 = document.createElement('a'); a2.href = data; a2.download = (d.meta && d.meta.name) ? d.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); li.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent = d.meta.name + ' — ' + (d.meta.ts ? (new Date(d.meta.ts)).toLocaleString() : ''); li.appendChild(meta); publicList.appendChild(li); }); }

                  renderFinancials();
                }catch(err){ console.warn('render public financials error', err); }
              },60);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Financials Manager panel (class .open-financials-manager)
            const finMgrBtn = e.target.closest && e.target.closest('.open-financials-manager');
            if(finMgrBtn){
              e.preventDefault();
              const tpl = document.getElementById('tpl-financials-manager');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Manager panel coming soon.</p>';
              panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });

              setTimeout(function(){
                try{
                  var secret = content.querySelector('#fin-secret');
                  var unlock = content.querySelector('#fin-unlock');
                  var lockBtn = content.querySelector('#fin-lock');
                  var controls = content.querySelector('#fin-controls');
                  var addBtn = content.querySelector('#fin-add');
                  var addForm = content.querySelector('#fin-add-form');
                  var createBtn = content.querySelector('#fin-create');
                  var cancelBtn = content.querySelector('#fin-cancel');
                  var newTitle = content.querySelector('#fin-new-title');
                  var newType = content.querySelector('#fin-new-type');
                  var newFile = content.querySelector('#fin-new-file');
                  var docList = content.querySelector('#fin-doc-list');
                  var msg = content.querySelector('#fin-msg');

                  // storage index key
                  function loadFinancials(){ try{ var raw = localStorage.getItem('swa_fin_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function saveFinancials(arr){ try{ localStorage.setItem('swa_fin_docs', JSON.stringify(arr||[])); }catch(e){ console.warn('saveFinancials failed', e); } }

                  // One-time migration: ensure existing financial entries are marked as managed
                  (function migrateFinancialsToManaged(){
                    try{
                      if(localStorage.getItem('swa_fin_docs_migrated')) return;
                      var raw = localStorage.getItem('swa_fin_docs');
                      if(!raw){ localStorage.setItem('swa_fin_docs_migrated','1'); return; }
                      var arr = JSON.parse(raw || '[]');
                      var changed = false;
                      if(Array.isArray(arr)){
                        arr = arr.map(function(d){ if(d && typeof d === 'object' && !('managed' in d)){ d.managed = true; changed = true; } return d; });
                        if(changed){ try{ localStorage.setItem('swa_fin_docs', JSON.stringify(arr || [])); }catch(e){} }
                      }
                      localStorage.setItem('swa_fin_docs_migrated','1');
                    }catch(e){ try{ localStorage.setItem('swa_fin_docs_migrated','1'); }catch(_){} }
                  })();

  function renderPublicList(){ try{ var pubPanel = document.getElementById('panel-content'); var pubList = pubPanel ? pubPanel.querySelector('#public-fin-list') : null; if(!pubList) return; var docs = (loadFinancials()||[]).filter(function(d){ return d && d.managed; }); pubList.innerHTML=''; if(!docs.length){ pubList.innerHTML='<li class="muted">No financial documents published yet.</li>'; return; } docs.forEach(function(d){ var li=document.createElement('li'); var a=document.createElement('a'); a.href='#'; a.textContent=d.title + (d.type?(' — '+d.type):''); a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2=document.createElement('a'); a2.href=data; a2.download=(d.meta&&d.meta.name)?d.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url=URL.createObjectURL(rec.blob); var a2=document.createElement('a'); a2.href=url; a2.download=(rec.meta&&rec.meta.name)?rec.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else alert('File not available.'); }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); li.appendChild(a); var meta=document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent = d.meta.name + ' — ' + (d.meta.ts?(new Date(d.meta.ts)).toLocaleString():''); li.appendChild(meta); pubList.appendChild(li); }); }catch(e){ console.warn('renderPublicList financials', e); } }

  // optional debug flag: set window._swa_fin_debug = true in console to enable
  try {
    if (typeof window !== 'undefined' && window._swa_fin_debug) {
      try {
        console.log('[swa-fin] renderPublicList called, docs:', loadFinancials());
        var dbg = document.getElementById('swa-fin-debug-badge');
        if (!dbg) {
          dbg = document.createElement('div');
          dbg.id = 'swa-fin-debug-badge';
          dbg.style.position = 'fixed';
          dbg.style.right = '12px';
          dbg.style.bottom = '12px';
          dbg.style.background = '#111';
          dbg.style.color = '#fff';
          dbg.style.padding = '8px 10px';
          dbg.style.borderRadius = '6px';
          dbg.style.zIndex = 99999;
          dbg.style.fontSize = '12px';
          dbg.style.boxShadow = '0 2px 6px rgba(0,0,0,0.3)';
          document.body.appendChild(dbg);
        }
        try { dbg.textContent = 'Financials refreshed: ' + (loadFinancials().length || 0); } catch (e) {}
        setTimeout(function () { try { if (dbg) dbg.style.opacity = '0.9'; setTimeout(function () { if (dbg) dbg.style.opacity = '0.6'; }, 800); } catch (e) { } }, 50);
      } catch (innerErr) { console.warn('[swa-fin] debug inner error', innerErr); }
    }
  } catch (e) { /* no-op */ }

      // helper to show the public Financials panel and render its list
      function showPublicPanel(){ try{ var pubTpl = document.getElementById('tpl-financials'); if(!pubTpl) return; content.innerHTML = pubTpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); // render list into the newly inserted public panel
        // debug trace
        try{ if(typeof window !== 'undefined' && window._swa_fin_debug) console.log('[swa-fin] showPublicPanel invoked'); }catch(e){}
        // slight delay to allow DOM insertion
        setTimeout(function(){ try{ renderPublicList(); requestAnimationFrame(function(){ var h = content.querySelector('h2'); if(h) h.focus(); }); }catch(e){} },30);
      }catch(e){ console.warn('showPublicPanel err', e); } }

                  function renderList(){ var docs = loadFinancials(); if(!docList) return; docList.innerHTML=''; if(!docs.length){ docList.innerHTML='<li class="muted">No managed financial documents.</li>'; return; } docs.forEach(function(d){ var li=document.createElement('li'); li.style.display='flex'; li.style.justifyContent='space-between'; li.style.alignItems='center'; li.style.padding='8px'; li.style.border='1px solid #eee'; li.style.borderRadius='6px'; var left=document.createElement('div'); var a=document.createElement('a'); a.href='#'; a.textContent = d.title + (d.type?(' — '+d.type):''); a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2=document.createElement('a'); a2.href=data; a2.download=(d.meta&&d.meta.name)?d.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url=URL.createObjectURL(rec.blob); var a2=document.createElement('a'); a2.href=url; a2.download=(rec.meta&&rec.meta.name)?rec.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else alert('File not available.'); }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); left.appendChild(a); var meta=document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent=d.meta.name + ' — ' + (d.meta.ts?(new Date(d.meta.ts)).toLocaleString():''); left.appendChild(meta); li.appendChild(left); var actions=document.createElement('div'); actions.style.display='flex'; actions.style.gap='8px'; var rep=document.createElement('button'); rep.className='btn btn-sm'; rep.textContent='Replace'; rep.addEventListener('click', function(){ var fi=document.createElement('input'); fi.type='file'; fi.accept='application/pdf'; fi.addEventListener('change', function(){ if(fi.files && fi.files[0]){ storeFileForKey(d.storageKey, fi.files[0], function(err,meta){ if(err){ alert('Replace failed'); } else { d.meta = meta; var arr=loadFinancials(); var idx = arr.findIndex(function(x){ return x.id===d.id }); if(idx!==-1){ arr[idx]=d; saveFinancials(arr); renderList(); renderPublicList(); if(msg){ msg.style.display='block'; msg.textContent='Replaced.'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1500); } } } }); } }); fi.click(); }); var del=document.createElement('button'); del.className='btn btn-sm'; del.textContent='Delete'; del.addEventListener('click', function(){ if(confirm('Delete "'+d.title+'"?')){ deleteFinancial(d.id); } }); actions.appendChild(rep); actions.appendChild(del); li.appendChild(actions); docList.appendChild(li); }); }

                  function storeFileForKey(storageKey, file, cb){ var r=new FileReader(); r.onload=function(ev){ var dataUrl=ev.target.result; var meta={ name:file.name, size:file.size, ts:Date.now() }; try{ localStorage.setItem(storageKey, dataUrl); localStorage.setItem(storageKey + '_meta', JSON.stringify(meta)); saveFinancials(loadFinancials()); if(cb) cb(null, meta); return; }catch(e){ console.warn('localStorage failed, fallback to IDB', e); } fetch(dataUrl).then(function(res){ return res.blob(); }).then(function(blob){ idbPut(storageKey, blob, meta).then(function(){ try{ localStorage.setItem(storageKey + '_idb','1'); }catch(e){} if(cb) cb(null, meta); }).catch(function(err){ if(cb) cb(err); }); }).catch(function(err){ if(cb) cb(err); }); }; r.onerror=function(){ if(cb) cb(new Error('read failed')); }; r.readAsDataURL(file); }

                  // small toast helper for visible feedback
                  function swaToast(text, timeout){ try{ var el = document.getElementById('swa-toast'); if(!el){ el = document.createElement('div'); el.id = 'swa-toast'; el.style.position='fixed'; el.style.left='50%'; el.style.transform='translateX(-50%)'; el.style.bottom='24px'; el.style.background='rgba(0,0,0,0.85)'; el.style.color='#fff'; el.style.padding='10px 14px'; el.style.borderRadius='6px'; el.style.zIndex=999999; el.style.fontSize='14px'; document.body.appendChild(el); } el.textContent = text || ''; el.style.display='block'; el.style.opacity='1'; setTimeout(function(){ try{ el.style.transition='opacity 300ms'; el.style.opacity='0'; setTimeout(function(){ try{ el.style.display='none'; }catch(e){} },350); }catch(e){} }, timeout && typeof timeout==='number' ? timeout : 2200); }catch(e){ console.warn('swaToast failed', e); } }

                  function deleteFinancial(id){ var docs = loadFinancials(); var idx = docs.findIndex(function(d){ return d.id===id; }); if(idx===-1) return; var ent = docs[idx]; try{ localStorage.removeItem(ent.storageKey); localStorage.removeItem(ent.storageKey + '_meta'); localStorage.removeItem(ent.storageKey + '_idb'); }catch(e){} try{ idbPut && openFilesDB && openFilesDB().then(function(db){ var tx = db.transaction('files','readwrite'); tx.objectStore('files').delete(ent.storageKey); }).catch(function(){}); }catch(e){} docs.splice(idx,1); saveFinancials(docs); renderList(); renderPublicList(); }

                  // auth & wiring
                  if(sessionStorage.getItem('swa_fin_mgr_auth')){ controls.style.display='block'; lockBtn.style.display='inline-block'; unlock.style.display='none'; secret.style.display='none'; renderList(); renderPublicList(); } else { controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block'; secret.style.display='inline-block'; }
                  unlock.addEventListener('click', function(){ var v = secret && secret.value ? secret.value.trim() : ''; if(v==='123'){ sessionStorage.setItem('swa_fin_mgr_auth','1'); controls.style.display='block'; lockBtn.style.display='inline-block'; unlock.style.display='none'; secret.style.display='none'; renderList(); renderPublicList(); if(msg){ msg.style.display='block'; msg.textContent='Unlocked'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1200); } } else { if(msg){ msg.style.display='block'; msg.textContent='Incorrect password'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } });
                  lockBtn.addEventListener('click', function(){ sessionStorage.removeItem('swa_fin_mgr_auth'); controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block'; secret.style.display='inline-block'; });

                  addBtn.addEventListener('click', function(){ addForm.style.display='block'; });
                  cancelBtn.addEventListener('click', function(){ addForm.style.display='none'; newTitle.value=''; newType.value=''; newFile.value=''; });
                  createBtn.addEventListener('click', function(){ var title = newTitle && newTitle.value ? newTitle.value.trim() : ''; var type = newType && newType.value ? newType.value.trim() : ''; var file = newFile && newFile.files && newFile.files[0] ? newFile.files[0] : null; if(!title){ alert('Enter title'); return; } var docs = loadFinancials(); var id = 'fin_' + Date.now(); var storageKey = 'swa_fin_' + Date.now(); var entry = { id:id, title:title, type:type, storageKey:storageKey, meta:null, managed:true }; docs.push(entry); saveFinancials(docs); if(file){ storeFileForKey(storageKey, file, function(err,meta){ if(!err){ entry.meta = meta; saveFinancials(docs); renderList(); renderPublicList(); try{ showPublicPanel(); }catch(e){} if(msg){ msg.style.display='block'; msg.textContent='Created'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } else { if(msg){ msg.style.display='block'; msg.textContent='Could not store file'; } } }); } else { renderList(); renderPublicList(); try{ showPublicPanel(); }catch(e){} } addForm.style.display='none'; newTitle.value=''; newType.value=''; newFile.value=''; });

                }catch(err){ console.warn('financials manager wire error', err); }
              },80);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Minutes Manager panel (class .open-minutes-manager)
            const minMgrBtn = e.target.closest && e.target.closest('.open-minutes-manager');
            if(minMgrBtn){
              e.preventDefault();
              const tpl = document.getElementById('tpl-minutes-manager');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Manager panel coming soon.</p>';
              panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });

              setTimeout(function(){
                try{
                  var secret = content.querySelector('#min-secret');
                  var unlock = content.querySelector('#min-unlock');
                  var lockBtn = content.querySelector('#min-lock');
                  var controls = content.querySelector('#min-controls');
                  var addBtn = content.querySelector('#min-add');
                  var addForm = content.querySelector('#min-add-form');
                  var createBtn = content.querySelector('#min-create');
                  var cancelBtn = content.querySelector('#min-cancel');
                  var newTitle = content.querySelector('#min-new-title');
                  var newDate = content.querySelector('#min-new-date');
                  var newType = content.querySelector('#min-new-type');
                  var newFile = content.querySelector('#min-new-file');
                  var docList = content.querySelector('#min-doc-list');
                  var msg = content.querySelector('#min-msg');

                  function loadMinutes(){ try{ var raw = localStorage.getItem('swa_minutes_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function saveMinutes(arr){ try{ localStorage.setItem('swa_minutes_docs', JSON.stringify(arr||[])); }catch(e){ console.warn('saveMinutes failed', e); } }

                  function renderList(){ var docs = loadMinutes(); if(!docList) return; docList.innerHTML=''; if(!docs.length){ docList.innerHTML='<li class="muted">No managed minutes.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); li.style.display='flex'; li.style.justifyContent='space-between'; li.style.alignItems='center'; li.style.padding='8px'; li.style.border='1px solid #eee'; li.style.borderRadius='6px'; var left = document.createElement('div'); var a = document.createElement('a'); a.href='#'; a.textContent=d.title + (d.date ? (' — ' + d.date) : ''); a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2 = document.createElement('a'); a2.href = data; a2.download = (d.meta && d.meta.name) ? d.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); left.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.type) meta.textContent = d.type + (d.meta && d.meta.ts ? (' — ' + (new Date(d.meta.ts)).toLocaleString()) : ''); left.appendChild(meta); li.appendChild(left);
                        var actions = document.createElement('div'); actions.style.display='flex'; actions.style.gap='8px'; var replaceBtn = document.createElement('button'); replaceBtn.className='btn btn-sm'; replaceBtn.textContent='Replace'; replaceBtn.addEventListener('click', function(){ var fi = document.createElement('input'); fi.type='file'; fi.accept='application/pdf'; fi.addEventListener('change', function(){ if(fi.files && fi.files[0]){ storeFileForKey(d.storageKey, fi.files[0], function(err,meta){ if(err){ alert('Replace failed'); } else { d.meta = meta; var arr = loadMinutes(); var idx = arr.findIndex(function(x){ return x.id===d.id }); if(idx!==-1){ arr[idx]=d; saveMinutes(arr); renderList(); renderMinutesPublic(); if(msg){ msg.style.display='block'; msg.textContent='Replaced.'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1500); } } } }); } }); fi.click(); });
                        var delBtn = document.createElement('button'); delBtn.className='btn btn-sm'; delBtn.textContent='Delete'; delBtn.addEventListener('click', function(){ if(confirm('Delete "'+d.title+'"?')){ deleteMinute(d.id); } }); actions.appendChild(replaceBtn); actions.appendChild(delBtn); li.appendChild(actions); docList.appendChild(li); }); }

                  function storeFileForKey(storageKey, file, cb){ var r = new FileReader(); r.onload = function(ev){ var dataUrl = ev.target.result; var meta = { name: file.name, size: file.size, ts: Date.now() }; try{ localStorage.setItem(storageKey, dataUrl); localStorage.setItem(storageKey + '_meta', JSON.stringify(meta)); saveMinutes(loadMinutes()); if(cb) cb(null, meta); return; }catch(e){ console.warn('localStorage failed, fallback to IDB', e); } fetch(dataUrl).then(function(res){ return res.blob(); }).then(function(blob){ idbPut(storageKey, blob, meta).then(function(){ try{ localStorage.setItem(storageKey + '_idb','1'); }catch(e){} if(cb) cb(null, meta); }).catch(function(err){ if(cb) cb(err); }); }).catch(function(err){ if(cb) cb(err); }); }; r.onerror=function(){ if(cb) cb(new Error('read failed')); }; r.readAsDataURL(file); }

                  function deleteMinute(id){ var docs = loadMinutes(); var idx = docs.findIndex(function(d){ return d.id===id; }); if(idx===-1) return; var ent = docs[idx]; try{ localStorage.removeItem(ent.storageKey); localStorage.removeItem(ent.storageKey + '_meta'); localStorage.removeItem(ent.storageKey + '_idb'); }catch(e){} try{ openFilesDB().then(function(db){ var tx = db.transaction('files','readwrite'); var store = tx.objectStore('files'); store.delete(ent.storageKey); }).catch(function(){}); }catch(e){} docs.splice(idx,1); saveMinutes(docs); renderList(); renderMinutesPublic(); }

                  // reuse IDB helpers
                  function openFilesDB(){ return new Promise(function(resolve,reject){ try{ var req = indexedDB.open('swa_files_db',1); req.onupgradeneeded=function(ev){ var db=ev.target.result; if(!db.objectStoreNames.contains('files')) db.createObjectStore('files',{keyPath:'key'}); }; req.onsuccess=function(ev){ resolve(ev.target.result); }; req.onerror=function(ev){ reject(ev.target.error||new Error('IDB open error')); }; }catch(e){ reject(e);} }); }
                  function idbPut(key, blob, meta){ return openFilesDB().then(function(db){ return new Promise(function(resolve,reject){ try{ var tx = db.transaction('files','readwrite'); var store = tx.objectStore('files'); var rec = { key:key, blob:blob, meta: meta || { ts: Date.now() } }; var r = store.put(rec); r.onsuccess=function(){ resolve(true); }; r.onerror=function(ev){ reject(ev.target.error||new Error('IDB put failed')); }; }catch(e){ reject(e);} }); }); }
                  function idbGet(key){ return openFilesDB().then(function(db){ return new Promise(function(resolve,reject){ try{ var tx = db.transaction('files','readonly'); var store = tx.objectStore('files'); var r = store.get(key); r.onsuccess=function(){ resolve(r.result||null); }; r.onerror=function(ev){ reject(ev.target.error||new Error('IDB get failed')); }; }catch(e){ reject(e);} }); }); }

                  function renderMinutesPublic(){ try{ var pubPanel = document.getElementById('panel-content'); var pubList = pubPanel ? pubPanel.querySelector('#public-minutes-list') : null; if(!pubList) return; var docs = loadMinutes(); pubList.innerHTML=''; if(!docs.length){ pubList.innerHTML='<li class="muted">No minutes published yet.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); var a = document.createElement('a'); a.href='#'; a.textContent = d.title + (d.date?(' — '+d.date):''); a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2=document.createElement('a'); a2.href=data; a2.download=(d.meta&&d.meta.name)?d.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); li.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.type) meta.textContent = d.type + (d.meta && d.meta.ts ? (' — ' + (new Date(d.meta.ts)).toLocaleString()) : ''); li.appendChild(meta); pubList.appendChild(li); }); }catch(e){}
                  }

                  // auth & wiring
                  if(sessionStorage.getItem('swa_min_mgr_auth')){ controls.style.display='block'; lockBtn.style.display='inline-block'; unlock.style.display='none'; secret.style.display='none'; renderList(); renderMinutesPublic(); } else { controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block'; secret.style.display='inline-block'; }
                  unlock.addEventListener('click', function(){ var v = secret && secret.value ? secret.value.trim() : ''; if(v==='123'){ sessionStorage.setItem('swa_min_mgr_auth','1'); controls.style.display='block'; lockBtn.style.display='inline-block'; unlock.style.display='none'; secret.style.display='none'; renderList(); renderMinutesPublic(); if(msg){ msg.style.display='block'; msg.textContent='Unlocked'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1200); } } else { if(msg){ msg.style.display='block'; msg.textContent='Incorrect password'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } });
                  lockBtn.addEventListener('click', function(){ sessionStorage.removeItem('swa_min_mgr_auth'); controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block'; secret.style.display='inline-block'; });

                  addBtn.addEventListener('click', function(){ addForm.style.display='block'; });
                  cancelBtn.addEventListener('click', function(){ addForm.style.display='none'; newTitle.value=''; newDate.value=''; newType.value=''; newFile.value=''; });
                  createBtn.addEventListener('click', function(){ var title = newTitle && newTitle.value ? newTitle.value.trim() : ''; var date = newDate && newDate.value ? newDate.value : ''; var type = newType && newType.value ? newType.value.trim() : ''; var file = newFile && newFile.files && newFile.files[0] ? newFile.files[0] : null; if(!title){ alert('Enter title'); return; } var docs = loadMinutes(); var id = 'min_' + Date.now(); var storageKey = 'swa_minute_' + Date.now(); var entry = { id:id, title:title, date:date, type:type, storageKey:storageKey, meta:null }; docs.push(entry); saveMinutes(docs); if(file){ storeFileForKey(storageKey, file, function(err,meta){ if(!err){ entry.meta = meta; saveMinutes(docs); renderList(); renderMinutesPublic(); if(msg){ msg.style.display='block'; msg.textContent='Created'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } else { if(msg){ msg.style.display='block'; msg.textContent='Could not store file'; } } }); } else { renderList(); renderMinutesPublic(); } addForm.style.display='none'; newTitle.value=''; newDate.value=''; newType.value=''; newFile.value=''; });

                }catch(err){ console.warn('minutes manager wire error', err); }
              },80);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // open Bylaws Manager panel (class .open-bylaws-manager)
            const mgrBtn = e.target.closest && e.target.closest('.open-bylaws-manager');
            if(mgrBtn){
              e.preventDefault();
              const tpl = document.getElementById('tpl-bylaws-manager');
              content.innerHTML = tpl ? tpl.innerHTML : '<p>Manager panel coming soon.</p>';
              panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });

              // wire manager controls
              setTimeout(function(){
                try{
                  var secret = content.querySelector('#mgr-secret');
                  var unlock = content.querySelector('#mgr-unlock');
                  var lockBtn = content.querySelector('#mgr-lock');
                  var controls = content.querySelector('#mgr-controls');
                  var addBtn = content.querySelector('#mgr-add');
                  var addForm = content.querySelector('#mgr-add-form');
                  var createBtn = content.querySelector('#mgr-create');
                  var cancelBtn = content.querySelector('#mgr-cancel');
                  var newTitle = content.querySelector('#mgr-new-title');
                  var newFile = content.querySelector('#mgr-new-file');
                  var docList = content.querySelector('#mgr-doc-list');
                  var msg = content.querySelector('#mgr-msg');

                  function loadDocs(){ try{ var raw = localStorage.getItem('swa_bylaw_docs'); return raw ? JSON.parse(raw) : []; }catch(e){ return []; } }
                  function saveDocs(arr){ try{ localStorage.setItem('swa_bylaw_docs', JSON.stringify(arr||[])); }catch(e){ console.warn('saveDocs failed', e); } }

                  function renderList(){ var docs = loadDocs(); if(!docList) return; docList.innerHTML=''; if(!docs.length){ docList.innerHTML='<li class="muted">No managed documents.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); li.style.display='flex'; li.style.justifyContent='space-between'; li.style.alignItems='center'; li.style.padding='8px'; li.style.border='1px solid #eee'; li.style.borderRadius='6px'; var left = document.createElement('div'); var a = document.createElement('a'); a.href='#'; a.textContent=d.title; a.style.fontWeight='600'; a.addEventListener('click', function(ev){ ev.preventDefault(); // download
                          try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2 = document.createElement('a'); a2.href = data; a2.download = (d.meta && d.meta.name) ? d.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){}
                          var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; }
                          alert('File not available.'); }); left.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent = d.meta.name + ' — ' + (d.meta.ts ? (new Date(d.meta.ts)).toLocaleString() : ''); left.appendChild(meta); li.appendChild(left);
                        var actions = document.createElement('div'); actions.style.display='flex'; actions.style.gap='8px'; var replaceBtn = document.createElement('button'); replaceBtn.className='btn btn-sm'; replaceBtn.textContent='Replace'; replaceBtn.addEventListener('click', function(){ var fi = document.createElement('input'); fi.type='file'; fi.accept='application/pdf'; fi.addEventListener('change', function(){ if(fi.files && fi.files[0]){ storeFileForKey(d.storageKey, fi.files[0], function(err,meta){ if(err){ alert('Replace failed'); } else { d.meta = meta; var arr = loadDocs(); var idx = arr.findIndex(function(x){ return x.id===d.id }); if(idx!==-1){ arr[idx]=d; saveDocs(arr); renderList(); renderPublicList(); if(msg){ msg.style.display='block'; msg.textContent='Replaced.'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1500); } } } }); } }); fi.click(); });
                        var delBtn = document.createElement('button'); delBtn.className='btn btn-sm'; delBtn.textContent='Delete'; delBtn.addEventListener('click', function(){ if(confirm('Delete "'+d.title+'"?')){ deleteDoc(d.id); } }); actions.appendChild(replaceBtn); actions.appendChild(delBtn); li.appendChild(actions); docList.appendChild(li); }); }

                  function storeFileForKey(storageKey, file, cb){ var r = new FileReader(); r.onload = function(ev){ var dataUrl = ev.target.result; var meta = { name: file.name, size: file.size, ts: Date.now() }; try{ localStorage.setItem(storageKey, dataUrl); localStorage.setItem(storageKey + '_meta', JSON.stringify(meta)); saveDocs(loadDocs()); if(cb) cb(null, meta); return; }catch(e){ console.warn('localStorage failed, fallback to IDB', e); } fetch(dataUrl).then(function(res){ return res.blob(); }).then(function(blob){ idbPut(storageKey, blob, meta).then(function(){ try{ localStorage.setItem(storageKey + '_idb','1'); }catch(e){} if(cb) cb(null, meta); }).catch(function(err){ if(cb) cb(err); }); }).catch(function(err){ if(cb) cb(err); }); }; r.onerror=function(){ if(cb) cb(new Error('read failed')); }; r.readAsDataURL(file); }

                  function deleteDoc(id){ var docs = loadDocs(); var idx = docs.findIndex(function(d){ return d.id===id; }); if(idx===-1) return; var ent = docs[idx]; try{ localStorage.removeItem(ent.storageKey); localStorage.removeItem(ent.storageKey + '_meta'); localStorage.removeItem(ent.storageKey + '_idb'); }catch(e){} try{ openFilesDB().then(function(db){ var tx = db.transaction('files','readwrite'); var store = tx.objectStore('files'); store.delete(ent.storageKey); }).catch(function(){}); }catch(e){} docs.splice(idx,1); saveDocs(docs); renderList(); renderPublicList(); }

                  // reuse IDB helpers defined earlier in this function scope
                  function openFilesDB(){ return new Promise(function(resolve,reject){ try{ var req = indexedDB.open('swa_files_db',1); req.onupgradeneeded=function(ev){ var db=ev.target.result; if(!db.objectStoreNames.contains('files')) db.createObjectStore('files',{keyPath:'key'}); }; req.onsuccess=function(ev){ resolve(ev.target.result); }; req.onerror=function(ev){ reject(ev.target.error||new Error('IDB open error')); }; }catch(e){ reject(e);} }); }
                  function idbPut(key, blob, meta){ return openFilesDB().then(function(db){ return new Promise(function(resolve,reject){ try{ var tx = db.transaction('files','readwrite'); var store = tx.objectStore('files'); var rec = { key:key, blob:blob, meta: meta || { ts: Date.now() } }; var r = store.put(rec); r.onsuccess=function(){ resolve(true); }; r.onerror=function(ev){ reject(ev.target.error||new Error('IDB put failed')); }; }catch(e){ reject(e);} }); }); }
                  function idbGet(key){ return openFilesDB().then(function(db){ return new Promise(function(resolve,reject){ try{ var tx = db.transaction('files','readonly'); var store = tx.objectStore('files'); var r = store.get(key); r.onsuccess=function(){ resolve(r.result||null); }; r.onerror=function(ev){ reject(ev.target.error||new Error('IDB get failed')); }; }catch(e){ reject(e);} }); }); }

                  function renderPublicList(){ // also update the public panel if open
                    try{ var pubTpl = document.querySelector('#tpl-bylaws'); if(!pubTpl) return; var pubPanel = document.getElementById('panel-content'); var pubList = pubPanel ? pubPanel.querySelector('#public-bylaw-list') : null; if(!pubList) return; var docs = loadDocs(); pubList.innerHTML=''; if(!docs.length){ pubList.innerHTML='<li class="muted">No documents published yet.</li>'; return; } docs.forEach(function(d){ var li = document.createElement('li'); var a = document.createElement('a'); a.href='#'; a.textContent=d.title; a.addEventListener('click', function(ev){ ev.preventDefault(); try{ var data = localStorage.getItem(d.storageKey); if(data){ var a2=document.createElement('a'); a2.href=data; a2.download=(d.meta&&d.meta.name)?d.meta.name:(d.title+'.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); return; } }catch(e){} var idbMarker = localStorage.getItem(d.storageKey + '_idb'); if(idbMarker){ idbGet(d.storageKey).then(function(rec){ if(rec && rec.blob){ var url = URL.createObjectURL(rec.blob); var a2 = document.createElement('a'); a2.href = url; a2.download = (rec.meta && rec.meta.name) ? rec.meta.name : (d.title + '.pdf'); document.body.appendChild(a2); a2.click(); a2.remove(); } else { alert('File not available.'); } }).catch(function(){ alert('File not available.'); }); return; } alert('File not available.'); }); li.appendChild(a); var meta = document.createElement('div'); meta.className='muted small'; if(d.meta && d.meta.name) meta.textContent = d.meta.name + ' — ' + (d.meta.ts ? (new Date(d.meta.ts)).toLocaleString() : ''); li.appendChild(meta); pubList.appendChild(li); }); }catch(e){ }
                  }

                  // auth & event wiring
                  if(unlock){ /* no-op here */ }
                  if(unlock){}
                  if(unlock){}

                  if(unlock){}

                  unlock = unlock || null; // silence unused

                  // wire manager auth
                  if(unlock === null){};
                  if(unlock){}

                  // actual manager unlock wiring
                  unlock = content.querySelector('#mgr-unlock');
                  secret = content.querySelector('#mgr-secret');
                  lockBtn = content.querySelector('#mgr-lock');
                  controls = content.querySelector('#mgr-controls');
                  addBtn = content.querySelector('#mgr-add');
                  addForm = content.querySelector('#mgr-add-form');
                  createBtn = content.querySelector('#mgr-create');
                  cancelBtn = content.querySelector('#mgr-cancel');
                  newTitle = content.querySelector('#mgr-new-title');
                  newFile = content.querySelector('#mgr-new-file');
                  docList = content.querySelector('#mgr-doc-list');
                  msg = content.querySelector('#mgr-msg');

                  function signedIn(){ try{ controls.style.display='block'; lockBtn.style.display='inline-block'; unlock.style.display='none'; secret.style.display='none'; renderList(); renderPublicList(); }catch(e){} }
                  function signedOut(){ try{ controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block'; secret.style.display='inline-block'; }catch(e){} }

                  if(sessionStorage.getItem('swa_mgr_auth')){ signedIn(); } else { signedOut(); }
                  unlock.addEventListener('click', function(){ var v = secret && secret.value ? secret.value.trim() : ''; if(v==='123'){ sessionStorage.setItem('swa_mgr_auth','1'); signedIn(); if(msg){ msg.style.display='block'; msg.textContent='Unlocked'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1200); } } else { if(msg){ msg.style.display='block'; msg.textContent='Incorrect password'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } });
                  lockBtn.addEventListener('click', function(){ sessionStorage.removeItem('swa_mgr_auth'); signedOut(); });

                  addBtn.addEventListener('click', function(){ addForm.style.display='block'; });
                  cancelBtn.addEventListener('click', function(){ addForm.style.display='none'; newTitle.value=''; newFile.value=''; });
                  createBtn.addEventListener('click', function(){ var title = (newTitle && newTitle.value) ? newTitle.value.trim() : ''; var file = (newFile && newFile.files && newFile.files[0]) ? newFile.files[0] : null; if(!title){ alert('Enter title'); return; } var docs = loadDocs(); var id = 'doc_' + Date.now(); var storageKey = 'swa_doc_' + Date.now(); var entry = { id:id, title:title, storageKey:storageKey, meta:null }; docs.push(entry); saveDocs(docs); if(file){ storeFileForKey(storageKey, file, function(err,meta){ if(!err){ entry.meta = meta; saveDocs(docs); renderList(); renderPublicList(); if(msg){ msg.style.display='block'; msg.textContent='Created'; setTimeout(function(){ msg.style.display='none'; msg.textContent=''; },1400); } } else { if(msg){ msg.style.display='block'; msg.textContent='Could not store file'; } } }); } else { renderList(); renderPublicList(); } addForm.style.display='none'; newTitle.value=''; newFile.value=''; });

                }catch(err){ console.warn('bylaws manager wire error', err); }
              },80);

              requestAnimationFrame(() => { const h = content.querySelector('h2'); if (h) h.focus(); });
              return;
            }

            // report link clicked inside panel - open specific report template
            const rlink = e.target.closest && e.target.closest('.report-link');
            if (rlink) {
              e.preventDefault();
              const year = rlink.dataset && rlink.dataset.year;
              if (!year) return;
              const rptTpl = document.getElementById('report-' + year);
              content.innerHTML = rptTpl ? rptTpl.innerHTML : '<p>Report content will be added soon.</p>';
              panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
              requestAnimationFrame(() => {
                const h = content.querySelector('h2');
                if (h) h.focus();
              });
              return;
            }

            // close panel (delegation for panel-close buttons)
            const close = e.target.closest && e.target.closest('.panel-close');
            if (close) {
              e.preventDefault();
              panel.classList.remove('show');
              panel.setAttribute('aria-hidden', 'true');
              content.innerHTML = '';
              return;
            }

            // open event Learn More buttons (class .learn-more-event)
            const evBtn = e.target.closest && e.target.closest('.learn-more-event');
              if(evBtn){
                e.preventDefault();
                const key = evBtn.dataset && evBtn.dataset.event;
                if(!key) return;
                const tpl = document.getElementById('tpl-event-' + key);
                content.innerHTML = tpl ? tpl.innerHTML : '<p>Event details coming soon.</p>';
                panel.classList.add('show'); panel.setAttribute('aria-hidden','false');
                // wire any registration form inside the loaded template (generic)
                setTimeout(function(){
                  const forms = content.querySelectorAll('form');
                  forms.forEach(function(form){
                    if(form.dataset && form.dataset.wired) return; // avoid double wiring
                    form.dataset.wired = '1';
                    form.addEventListener('submit', function(ev){
                      ev.preventDefault();
                      try{
                        const fd = new FormData(form);
                        // Basic client-side success behavior: show a small inline message and close panel
                        const msg = document.createElement('div');
                        msg.className = 'muted small';
                        msg.textContent = 'Registration received. Thank you!';
                        form.parentNode.insertBefore(msg, form.nextSibling);
                        setTimeout(function(){
                          panel.classList.remove('show');
                          panel.setAttribute('aria-hidden','true');
                          content.innerHTML = '';
                        }, 900);
                      }catch(err){
                        console.warn('event form submit error', err);
                        alert('Could not submit form locally.');
                      }
                    });

                      // Capturing-phase listener to ensure Budget & Financials nav clicks are caught
                      (function(){
                        try{
                          document.addEventListener('click', function(ev){
                            try{
                              var btn = ev.target.closest && ev.target.closest('a[href="#budget"], a[href="#budget-manager"], .open-financials, .open-financials-manager');
                              if(!btn) return;
                              // avoid double-handling if fallback already processed it
                              if(btn._swa_fin_captured) return;
                              btn._swa_fin_captured = true;
                              console.debug('[swa-fin][capture] caught click on', btn, 'class:', btn.className || btn.getAttribute('href'));
                              ev.preventDefault();
                              // decide manager vs public
                              var isMgr = (btn.classList && btn.classList.contains('open-financials-manager')) || (btn.getAttribute && btn.getAttribute('href') === '#budget-manager');
                              var tplId = isMgr ? 'tpl-financials-manager' : 'tpl-financials';
                              var tpl = document.getElementById(tplId);
                              var panel = document.getElementById('active-panel');
                              var content = document.getElementById('panel-content');
                              if(tpl && content){ content.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' });
                                // attempt to run manager wiring if manager template loaded
                                setTimeout(function(){ try{ if(isMgr && typeof initCertPanel === 'function'){ /* noop */ } }catch(e){} },80);
                              }
                            }catch(err){ console.error('[swa-fin][capture] handler error', err); }
                          }, true); // useCapture = true
                        }catch(e){ console.error('[swa-fin][capture] attach error', e); }
                      })();
                  });
                },60);
                return;
              }
          });

          console.log('Committee & Annual Reports panel script loaded');
        })();
      </script>
      
      <!-- Committee detail templates (rendered into #panel-content on demand) -->
      <template id="tpl-executive">
        <section class="section container">
          <h2 tabindex="-1"> Governance Committee</h2>
          <p class="lead muted">Focus: Overall strategy, budgeting, policy setting, and representing the student body.</p>
          <div class="team-feature">
            <div class="president">
              <img src="./assets/images/President.jpeg" alt="Convener: Ashwini Deoke" class="portrait-large" />
              <h3><b>Dr. Krishna Karoo</b></h3>
              <p class="Menu">Convener </br> Governance Committee</p>
              <p class="small">Student Welfare Association <br><a href="mailto:ashwini.deoke@swa.edu">krishna.karoo@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/Prachi.jpg" alt="Rohit Sharma" class="officer-portrait" />
                  <center>
                  <h3>Prachi Ghugal</h3>
                  <p class="small muted"> Treasurer <br> Student Welfare Association </p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/ashpak.jpg" alt="Priya Singh" class="officer-portrait" />
                  <center>
                  <h3>Ashpak Ansari</h3>
                  <p class="small muted">Secretary <br>Student Welfare Association </p>
                 </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/kshirsagar.jpg" alt="Amit Patel" class="officer-portrait" />
                  <center>
                  <h3>Prashant Kshirsagar</h3>
                  <p class="small muted">Executive Director<br>Student Welfare Association</p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/ashwni.jpg" alt="Sneha Rao" class="officer-portrait" />
                 <center>
                  <h3>Ashwini Deoke</h3>
                  <p class="small muted">Joint Tresurar<br>Student Welfare Association</p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/govindani.jpeg" alt="Karan Verma" class="officer-portrait" />
                  <center>
                  <h3>Nikil Govindani</h3>
                  <p class="small muted">Joint Secretary<br>Student Welfare Association</p>
                   </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/gher.jpeg" alt="Meera Joshi" class="officer-portrait" />
                  <center>
                  <h3>Bharat Gher</h3>
                  <p class="small muted">Project Director<br>Student Welfare Association</p>
                </center>
                </div>
              </article>
            </div>
          </div>
        </section>
      </template>
      
      <template id="tpl-grievance">
        <section class="section container">
          <h2 tabindex="-1">Grievance &amp; Discipline Committee</h2>
          <p class="lead muted">Focus: Grievance redressal, anti-ragging, anti-bullying and ICC/POSH matters.</p>
          <div class="team-feature">
            <div class="president">
              <img src="./assets/images/kshirsagar.jpg" alt="Convener: Prof. S. Rao" class="portrait-large" />
              <h3><b>Dr. Prashant Kshirsagar</b></h3>
              <p class="Menu">Convener <br> Grievance &amp; Discipline Commmittee</p>
              <p class="small">Student Welfare Association <br> <a href="mailto:srao@swa.edu">prashant.kshirsagar@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Anita Kulkarni" class="officer-portrait" />
                  <center><h3>Anita Kulkarni</h3>
                  <p class="small muted">Member <br> Student Affairs </p>
                  <p> Student welfate Association <br><a href="mailto:grv.anita@swa.edu">grv.anita@swa.edu</a></p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Sahil Gupta" class="officer-portrait" />
                  <center><h3>Sahil Gupta</h3>
                  <p class="small muted">Member <br> Legal Support </p> 
                  <p> Student Welfare Association<br><a href="mailto:grv.sahil@swa.edu">grv.sahil@swa.edu</a></p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Nora Iyer" class="officer-portrait" />
                 <center> <h3>Nora Iyer</h3>
                  <p class="small muted">Member <br>Anti-Ragging </p>
                  <p> Student Welfare Association<br><a href="mailto:grv.nora@swa.edu">grv.nora@swa.edu</a></p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Ramesh Kul" class="officer-portrait" />
                 <center> <h3>Ramesh Kul</h3>
                  <p class="small muted">Member <br>Discipline</p>
                  <p> Student Welfare Association<br><a href="mailto:grv.ramesh@swa.edu">grv.ramesh@swa.edu</a></p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Divya Menon" class="officer-portrait" />
                  <center> <h3>Divya Menon</h3>
                  <p class="small muted">Member <br>Counselling Liaison</p>
                  <p> Student Welfare Association<br><a href="mailto:grv.divya@swa.edu">grv.divya@swa.edu</a></p>
                </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Vikram Desai" class="officer-portrait" />
                  <center><h3>Vikram Desai</h3>
                  <p class="small muted">Member <br>Investigations</p>
                  <p> Student Welfare Association<br><a href="mailto:grv.vikram@swa.edu">grv.vikram@swa.edu</a></p>
                </center>
              </div>
              </article>
            </div>
          </div>
        </section>
      </template>
      
      <template id="tpl-academic">
        <section class="section container">
          <h2 tabindex="-1">Academic &amp; Career Committee</h2>
          <p class="lead muted">Focus: Placements, career counselling, scholarships and academic programs.</p>
            <!-- add-life-member form was moved to the dedicated template below -->
            <div class="team-feature">
            <div class="president">
              <img src="./assets/images/thakare.jpeg" alt="Convener: Prof. S. Rao" class="portrait-large" />
              <h3><b>Dr. Prashant Thakare</b></h3>
              <p class="Menu">Convener <br> Academic &amp; Career Committee</p>
              <p class="small">Student Welfare Association <br> <a href="mailto:srao@swa.edu">prashant.kshirsagar@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Anita Kulkarni" class="officer-portrait" />
                  <center><h3>Anita Kulkarni</h3>
                     
            <p class="small muted">Placement Coordinator</p>
                  <p> Student Welfare Association<br><a href="mailto:acd.lakshmi@swa.edu">acd.lakshmi@swa.edu</a></p>
                </center>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                <img src="./assets/images/dummy.jpg" alt="Rohit Deshpande" class="officer-portrait" />
                <center><h3>Rohit Deshpande</h3>
                  <p class="small muted">Career Counsellor</p>
                  <p> Student Welfare Association<br><a href="mailto:acd.rohit@swa.edu">acd.rohit@swa.edu</a></p>
                </center>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Sneha Kulkarni" class="officer-portrait" />
                  <center><h3>Sneha Kulkarni</h3>
                  <p class="small muted">Scholarship Admin</p>
                  <p> Student Welfare Association<br><a href="mailto:acd.sneha@swa.edu">acd.sneha@swa.edu</a></p>
                </center>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                <img src="./assets/images/dummy.jpg" alt="Aditya Rao" class="officer-portrait" />
                <center><h3>Aditya Rao</h3>
                <p class="small muted">Workshop Lead</p>
                <p> Student Welfare Association<br><a href="mailto:acd.aditya@swa.edu">acd.aditya@swa.edu</a></p>
                </center>
              </div>
            </article>
            <article class="card">
              <div class="card-body">
                <img src="./assets/images/dummy.jpg" alt="Maya Pillai" class="officer-portrait" />

                <center><h3>Maya Pillai</h3>
                  <p class="small muted">Academic Events</p>
                  <p> Student Welfare Association<br><a href="mailto:acd.maya@swa.edu">acd.maya@swa.edu</a></p>
                </center>
              </div>
            </article>
            <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Vivek Sharma" class="officer-portrait" />
                  <center><h3>Vivek Sharma</h3>
                  <p class="small muted">Industry Relations</p>
                  <p> Student Welfare Association<br><a href="mailto:acd.vivek@swa.edu">acd.vivek@swa.edu</a></p>
                </center>
              </div>
              </article>
            </div>
          </div>
        </section>
      </template>
      
      <template id="tpl-cultural">
        <section class="section container">
          <h2 tabindex="-1">Cultural &amp; Literary Committee</h2>
          <p class="lead muted">Focus: Festivals, literary events and student publications.</p>
          <div class="team-feature">
            <div class="president">
              <img src="./assets/images/ashwni.jpg" alt="Convener: Ms. P. Sharma" class="portrait-large" />
              <h3><b>Ashwini Deoke</b></h3>
              <p class="Menu">Convener <br> Cultural &amp; Literary Committee</p>
              <p class="small">Student Welfare Association <br><a href="mailto:psharma@swa.edu">ashwini.deoke@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Arjun Menon" class="officer-portrait" />
                  <center><<h3>Arjun Menon</h3>
                  <p class="small muted">Festival Lead</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.arjun@swa.edu">cult.arjun@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Priya Nair" class="officer-portrait" />
                  <center><h3>Priya Nair</h3>
                  <p class="small muted">Literary Events</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.priya@swa.edu">cult.priya@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Manav Desai" class="officer-portrait" />
                  <center><h3>Manav Desai</h3>
                  <p class="small muted">Media & Publications</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.manav@swa.edu">cult.manav@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Sakshi Patel" class="officer-portrait" />
                  <center><h3>Sakshi Patel</h3>
                  <p class="small muted">Performing Arts</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.sakshi@swa.edu">cult.sakshi@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Ritu Verma" class="officer-portrait" />
                  <center><h3>Ritu Verma</h3>
                  <p class="small muted">Logistics</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.ritu@swa.edu">cult.ritu@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Kabir Khan" class="officer-portrait" />
                  <center><h3>Kabir Khan</h3>
                  <p class="small muted">Student Publications</p>
                  <p> Student Welfare Association<br><a href="mailto:cult.kabir@swa.edu">cult.kabir@swa.edu</a></p>
                  </center>
                </div>
              </article>
            </div>
          </div>
        </section>
      </template>
      
      <template id="tpl-sports">
        <section class="section container">
          <h2 tabindex="-1">Sports &amp; Physical Welfare Committee</h2>
          <p class="lead muted">Focus: Sports events, fitness and facility management.</p>
          <div class="team-feature">
            <div class="president">
              <img src="./assets/images/deshpand.jpeg" alt="Convener: Mr. N. Patel" class="portrait-large" />
              <h3><b>Dr. Maneesh Deshpande</b></h3>
              <p class="Menu">Convener<br> Sports &amp; Physical Welfare Committee</p>
              <p class="small">Student Welfare Association <br><a href="mailto:npatel@swa.edu">maneesh.deshpande@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Anup Roy" class="officer-portrait" />
                  
                 <center> <h3>Anup Roy</h3>
                  <p class="small muted">Athletics Coordinator</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.anup@swa.edu">spt.anup@swa.edu</a></p>
               </center>
               </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Nidhi Sharma" class="officer-portrait" />
                  <center><h3>Nidhi Sharma</h3>
                  <p class="small muted">Team Manager</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.nidhi@swa.edu">spt.nidhi@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Harish Patel" class="officer-portrait" />
                  <center><h3>Harish Patel</h3>
                  <p class="small muted">Facilities Lead</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.harish@swa.edu">spt.harish@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Isha Reddy" class="officer-portrait" />
                  <center><h3>Isha Reddy</h3>
                  <p class="small muted">Fitness Programs</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.isha@swa.edu">spt.isha@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Samar Khan" class="officer-portrait" />
                  <center><h3>Samar Khan</h3>
                  <p class="small muted">Coaching Liaison</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.samar@swa.edu">spt.samar@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Pooja Gupta" class="officer-portrait" />
                  <center><h3>Pooja Gupta</h3>
                  <p class="small muted">Event Safety</p>
                  <p> Student Welfare Association<br><a href="mailto:spt.pooja@swa.edu">spt.pooja@swa.edu</a></p>
                  </center>
                </div>
              </article>
            </div>
          </div>
        </section>
      </template>
      
      <template id="tpl-support">
        <section class="section container">
          <h2 tabindex="-1">Support Services &amp; Infrastructure Committee</h2>
          <p class="lead muted">Focus: Hostels, mess, campus safety and counselling coordination.</p>
          <div class="team-feature">
            <div class="president">
              <img src="./assets/images/govindani.jpeg" alt="Convener: Dr. V. Rao" class="portrait-large" />
              <h3><b>Nikhil Govindani</b></h3>
              <p class="Menu">Convener <br> Support Services &amp; Infrastructure Committee </p>  
              <p class="small"> Student Welfare Association <br> <a href="mailto:vrao@swa.edu">nikhil.govindani@swa.edu</a></p>
            </div>
            <div class="officers grid cards">
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Sunita Rao" class="officer-portrait" />
                  <center><h3>Sunita Rao</h3>
                  <p class="small muted">Hostel Manager</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.sunita@swa.edu">sup.sunita@swa.edu</a></p>
               </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Gautam Iyer" class="officer-portrait" />
                  <center><h3>Gautam Iyer</h3>
                  <p class="small muted">Mess Coordinator</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.gautam@swa.edu">sup.gautam@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Rekha Singh" class="officer-portrait" />
                  <center><h3>Rekha Singh</h3>
                  <p class="small muted">Security Liaison</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.rekha@swa.edu">sup.rekha@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Anil Kumar" class="officer-portrait" />
                  <center><h3>Anil Kumar</h3>
                  <p class="small muted">Maintenance Lead</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.anil@swa.edu">sup.anil@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Neha Patil" class="officer-portrait" />
                  <center><h3>Neha Patil</h3>
                  <p class="small muted">Counselling Liaison</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.neha@swa.edu">sup.neha@swa.edu</a></p>
                  </center>
                </div>
              </article>
              <article class="card">
                <div class="card-body">
                  <img src="./assets/images/dummy.jpg" alt="Rajat Mehra" class="officer-portrait" />
                  <center><h3>Rajat Mehra</h3>
                  <p class="small muted">Logistics &amp; Safety</p>
                  <p> Student Welfare Association<br><a href="mailto:sup.rajat@swa.edu">sup.rajat@swa.edu</a></p>
                  </center>
                </div>
              </article>
            </div>
          </div>
        </section>
      </template>

      <!-- Sports & Recreation panel template -->
      <template id="tpl-sports-rec">
       <section id="sports-rec" class="section container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
    <h2 style="text-align: center; margin-bottom: 5px;">Sports & Recreation 🏅</h2>
    <p style="text-align: justify; margin-bottom: 25px; color: #666; font-size: 1.1em;">Information on intramural leagues, facility booking, fitness centre access, and upcoming tournaments, managed in coordination with the SWA.</p>

    <div style="display: flex; flex-direction: column; gap: 20px;">

        <article style="padding: 15px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);">
            <h3 style="margin-top: 0; color: #0056b3;">Intramural Leagues 🏆</h3>
            <p style="text-align: justify; color: #444; margin-bottom: 10px;">Sign up as a team or individual for our intramural leagues across sports—football, cricket, volleyball, badminton, and table tennis. Competitions are divided by year/department where possible to keep play competitive and fair.</p>
            
            <ul style="margin: 0; padding-left: 20px;">
                <li style="text-align: justify; margin-bottom: 5px;"><strong>How to join:</strong> Form a team (5–11 players depending on sport) or register as a free agent; the coach or captain will complete the team registration.</li>
                <li style="text-align: justify; margin-bottom: 5px;"><strong>Eligibility:</strong> Enrolled students in the current academic year.</li>
                <li style="text-align: justify;"><strong>League duration:</strong> Typically 4–8 weeks depending on sport and entries.</li>
            </ul>
        </article>

        <article style="padding: 15px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);">
            <h3 style="margin-top: 0; color: #0056b3;">Sports Facility & Equipment Booking 📅</h3>
            
            <div style="margin-bottom: 15px;">
                <img src="./assets/images/sports.png" alt="Sports hall" style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            </div>
            
            <p style="text-align: justify; color: #444;">Reserve courts, fields, and equipment using the booking form below. Bookings are processed on a **first-come, first-served basis**—priority is always given to scheduled tournaments and official team practices.</p>

            <form id="sports-booking-form" style="margin-top: 15px; padding: 10px; background-color: #ffffff; border-radius: 6px; border: 1px dashed #ccc;">
                <label style="display: block; margin-bottom: 12px; font-weight: bold;">
                    Name<br>
                    <input name="name" type="text" required style="width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
                </label>
                <label style="display: block; margin-bottom: 12px; font-weight: bold;">
                    Email<br>
                    <input name="email" type="email" required style="width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
                </label>
                <label style="display: block; margin-bottom: 12px; font-weight: bold;">
                    Facility<br>
                    <select name="facility" required style="width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
                        <option value="football-field">Football Field</option>
                        <option value="cricket-ground">Cricket Ground</option>
                        <option value="volleyball-court">Volleyball Court</option>
                        <option value="badminton-court">Badminton Court</option>
                        <option value="table-tennis-room">Table Tennis Room</option>
                        <option value="gym">Fitness Centre (Gym)</option>
                    </select>
                </label>
                <label style="display: block; margin-bottom: 12px; font-weight: bold;">
                    Date and Time<br>
                    <input name="slot" type="datetime-local" required style="width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
                </label>
                <label style="display: block; margin-bottom: 12px; font-weight: bold;">
                    Purpose / Notes<br>
                    <input name="notes" type="text" placeholder="Practice / Match / Coaching" style="width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">
                </label>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button type="submit" style="padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">Request Booking</button>
                    <button type="button" id="clear-booking" style="padding: 10px 15px; background-color: white; color: #007bff; border: 1px solid #007bff; border-radius: 4px; cursor: pointer;">Clear</button>
                </div>
            </form>

            <div id="booking-result" style="margin-top: 10px; font-size: 0.85em; color: #999; text-align: justify; display: none;"></div>
        </article>

        <article style="padding: 15px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);">
            <h3 style="margin-top: 0; color: #0056b3;">Fitness Centre Access 💪</h3>
            <p style="text-align: justify; color: #444; margin-bottom: 10px;">The campus fitness centre is open to SWA members and registered students. Access levels may vary; SWA members receive priority access during peak hours.</p>
            
            <ul style="margin: 0; padding-left: 20px;">
                <li style="text-align: justify; margin-bottom: 5px;"><strong>Hours:</strong> Mon–Fri 6:00–9:00 & 16:00–20:00, Sat 8:00–12:00 (check updates with gym staff).</li>
                <li style="text-align: justify; margin-bottom: 5px;"><strong>Membership:</strong> Day passes and semester memberships available. Contact the SWA for **subsidized membership options**.</li>
                <li style="text-align: justify;"><strong>Safety:</strong> All users must follow gym safety rules and show their student ID upon entry.</li>
            </ul>
        </article>

        <article style="padding: 15px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);">
            <h3 style="margin-top: 0; color: #0056b3;">Upcoming Tournaments 🗓️</h3>
            <div id="tournaments-list">
                <ul style="margin: 0; padding-left: 20px; list-style-type: square; color: #444;">
                    <li style="text-align: justify; margin-bottom: 5px;"><strong>Inter-College Football Cup</strong> — Registration closes: 15 Nov 2025.</li>
                    <li style="text-align: justify; margin-bottom: 5px;"><strong>Annual Cricket Tournament</strong> — Matchdays: 20–30 Dec 2025.</li>
                    <li style="text-align: justify;"><strong>Campus Badminton Open</strong> — 10 Jan 2026 (singles & doubles).</li>
                </ul>
            </div>
            <p style="text-align: justify; margin-top: 10px; font-size: 0.9em; color: #666;">For tournament enquiries, contact the Sports Convener via email: <a href="mailto:sports@swa.edu" style="color: #007bff; text-decoration: none;">sports@swa.edu</a>.</p>
        </article>
    </div>
</section>
      </template>
      
      <template id="tpl-committees">
        <section class="section container">
          <h2 tabindex="-1">Committee Details of Student Welfare Association</h2>
          <p class="lead muted"> </p>

          <h3>Executive Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Executive Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr>
                <td><img src="./assets/images/karuna1.jpg" alt="Karuna Karoo" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>President</td><td>Karuna Karoo</td><td>president@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/President.jpeg" alt="Krishna Karoo" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Vice President</td><td>Dr. Krishna Karoo</td><td>vice.president@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/ashpak.jpg" alt="Ashpak Ansari" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Secretary</td><td>Ashpak Ansari</td><td>secretary@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/Prachi.jpg" alt="Prachi Ghugal" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Treasurer</td><td>Prachi Ghugal</td><td>treasurer@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/kshirsagar.jpg" alt="Prashnat Kshirsagar" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Executive Director</td><td>Dr. Prashnat Kshirsagar</td><td>executive.director@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/govindani.jpeg" alt="Nikhil Govindani" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Joint Secretary</td><td>Nikhil Govindani</td><td>joint.secretary@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/ashwni.jpg" alt="Ashwini Deoke" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Joint Treasurer</td><td>Ashwini Deoke</td><td>joint.treasurer@swa.edu</td>
              </tr>
            </tbody>
          </table>

          <h3>Advisor Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Advisor Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr>
                <td><img src="./assets/images/President.jpeg" alt="Dr. Krishna Karoo" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Chairman</td><td>Dr. Krishna Karoo</td><td>krishna.karoo@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/Manish_Tiwary.webp" alt="Manish Tiwari" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Manish Tiwari</td><td>manish.tiwari@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/Dr_ Daf.jpg" alt="Dr. Sanjay Daf" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Dr. Sanjay Daf</td><td>sanjay.daf@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/thakare.jpeg" alt="Dr. Prashnat Thakare" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Dr. Prashnat Thakare</td><td>prashnat.thakare@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/Meshram Sir.jpg" alt="Dr. Nandkishor Meshram" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Dr. Nandkishor Meshram</td><td>nandkishor.meshram@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/akhare.jpg" alt="Dr. Sudhakar Akhare" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Dr. Sudhakar Akhare</td><td>sudhakar.akhare@swa.edu</td>
              </tr>
              <tr>
                <td><img src="./assets/images/lepse.png" alt="Dr. Vijay Lepse" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td>
                <td>Advisor</td><td>Dr. Vijay Lepse</td><td>vijay.lepse@swa.edu</td>
              </tr>
            </tbody>
          </table>

          <h3>Governance Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Governance Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/President.jpeg" alt="Dr. Krishna Karoo" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Dr. Krishna Karoo</td><td>krishna.karoo@swa.edu</td></tr>
              <tr><td><img src="./assets/images/Prachi.jpg" alt="Prachi Ghugal" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Treasurer</td><td>Prachi Ghugal</td><td>treasurer@swa.edu</td></tr>
              <tr><td><img src="./assets/images/ashpak.jpg" alt="Ashpak Ansari" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Secretary</td><td>Ashpak Ansari</td><td>secretary@swa.edu</td></tr>
              <tr><td><img src="./assets/images/kshirsagar.jpg" alt="Dr. Prashant Kshirsagar" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Executive Director</td><td>Dr. Prashant Kshirsagar</td><td>executive.director@swa.edu</td></tr>
              <tr><td><img src="./assets/images/ashwni.jpg" alt="Ashwini Deoke" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Joint Treasurer</td><td>Ashwini Deoke</td><td>joint.treasurer@swa.edu</td></tr>
              <tr><td><img src="./assets/images/govindani.jpeg" alt="Nikhil Govindani" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Joint Secretary</td><td>Nikhil Govindani</td><td>joint.secretary@swa.edu</td></tr>
              <tr><td><img src="./assets/images/gher.jpeg" alt="Bharat Gher" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Project Director</td><td>Bharat Gher</td><td>project.director@swa.edu</td></tr>
            </tbody>
          </table>

          <h3>Grievance &amp; Discipline Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Grievance &amp; Discipline Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/kshirsagar.jpg" alt="Dr. Prashant Kshirsagar" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Dr. Prashant Kshirsagar</td><td>prashant.kshirsagar@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Anita Kulkarni" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Student Affairs</td><td>Anita Kulkarni</td><td>grv.anita@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Sahil Gupta" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Legal Support</td><td>Sahil Gupta</td><td>grv.sahil@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Nora Iyer" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Anti-Ragging</td><td>Nora Iyer</td><td>grv.nora@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Ramesh Kul" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Discipline</td><td>Ramesh Kul</td><td>grv.ramesh@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Divya Menon" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Counselling Liaison</td><td>Divya Menon</td><td>grv.divya@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Vikram Desai" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Member — Investigations</td><td>Vikram Desai</td><td>grv.vikram@swa.edu</td></tr>
            </tbody>
          </table>

          <h3>Academic &amp; Career Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Academic &amp; Career Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/thakare.jpeg" alt="Dr. Prashnat Thakare" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Dr. Prashnat Thakare</td><td>prashnat.thakare@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Lakshmi Nair" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Placement Coordinator</td><td>Lakshmi Nair</td><td>acd.lakshmi@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Rohit Deshpande" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Career Counsellor</td><td>Rohit Deshpande</td><td>acd.rohit@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Sneha Kulkarni" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Scholarship Admin</td><td>Sneha Kulkarni</td><td>acd.sneha@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Aditya Rao" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Workshop Lead</td><td>Aditya Rao</td><td>acd.aditya@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Maya Pillai" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Academic Events</td><td>Maya Pillai</td><td>acd.maya@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Vivek Sharma" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Industry Relations</td><td>Vivek Sharma</td><td>acd.vivek@swa.edu</td></tr>
            </tbody>
          </table>

          <h3>Cultural &amp; Literary Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Cultural &amp; Literary Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/ashwni.jpg" alt="Ashwini Deoke" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Ashwini Deoke</td><td>ashwini.deoke@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Arjun Menon" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Festival Lead</td><td>Arjun Menon</td><td>cult.arjun@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Priya Nair" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Literary Events</td><td>Priya Nair</td><td>cult.priya@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Manav Desai" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Media &amp; Publications</td><td>Manav Desai</td><td>cult.manav@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Sakshi Patel" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Performing Arts</td><td>Sakshi Patel</td><td>cult.sakshi@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Ritu Verma" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Logistics</td><td>Ritu Verma</td><td>cult.ritu@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Kabir Khan" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Student Publications</td><td>Kabir Khan</td><td>cult.kabir@swa.edu</td></tr>
            </tbody>
          </table>

          <h3>Sports &amp; Physical Welfare Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Sports &amp; Physical Welfare Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/deshpand.jpeg" alt="Dr. Maneesh Deshpande" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Dr. Maneesh Deshpande</td><td>maneesh.deshpande@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Anup Roy" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Athletics Coordinator</td><td>Anup Roy</td><td>spt.anup@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Nidhi Sharma" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Team Manager</td><td>Nidhi Sharma</td><td>spt.nidhi@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Harish Patel" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Facilities Lead</td><td>Harish Patel</td><td>spt.harish@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Isha Reddy" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Fitness Programs</td><td>Isha Reddy</td><td>spt.isha@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Samar Khan" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Coaching Liaison</td><td>Samar Khan</td><td>spt.samar@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Pooja Gupta" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Event Safety</td><td>Pooja Gupta</td><td>spt.pooja@swa.edu</td></tr>
            </tbody>
          </table>

          <h3>Support Services &amp; Infrastructure Committee</h3>
          <table class="committee-table" role="table">
            <caption class="sr-only">Support Services &amp; Infrastructure Committee</caption>
            <thead>
              <tr><th scope="col">Photo</th><th scope="col">Role</th><th scope="col">Name</th><th scope="col">Email</th></tr>
            </thead>
            <tbody>
              <tr><td><img src="./assets/images/govindani.jpeg" alt="Nikhil Govindani" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Convener</td><td>Nikhil Govindani</td><td>nikhil.govindani@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Sunita Rao" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Hostel Manager</td><td>Sunita Rao</td><td>sup.sunita@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Gautam Iyer" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Mess Coordinator</td><td>Gautam Iyer</td><td>sup.gautam@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Rekha Singh" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Security Liaison</td><td>Rekha Singh</td><td>sup.rekha@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Anil Kumar" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Maintenance Lead</td><td>Anil Kumar</td><td>sup.anil@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Neha Patil" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Counselling Liaison</td><td>Neha Patil</td><td>sup.neha@swa.edu</td></tr>
              <tr><td><img src="./assets/images/dummy.jpg" alt="Rajat Mehra" style="width:48px;height:48px;border-radius:6px;object-fit:cover"></td><td>Logistics &amp; Safety</td><td>Rajat Mehra</td><td>sup.rajat@swa.edu</td></tr>
            </tbody>
          </table>
        </section>
      </template>

      <section id="faculty-advisors" class="section container reveal">
        <h2>Advisors of Student Welfare Association</h2>
        <p class="lead muted"> Advisors provide administrative oversight, mentorship and support to the Student Welfare Association.</p>

        <div class="team-feature">
          <!-- Lead / Chief Advisor (left column similar to Executive Council president block) -->
          <div class="president">
            <img src="./assets/images/President.jpeg" alt="Prof. Dr. Nandkishor Meshram - Chief Advisor" class="portrait-large" />
            <h3>Dr. Krishna Karoo</h3>
            <p class="muted">Chairman <br> Advisor Committee </p>
            <p class="small"> Student Welfare Association<br> <a href="mailto:Krishna.karoo@swa.edu">krishna.karoo@swa.edu</a></p>
          </div>

          <!-- Advisors grid (right column) — matches Executive Council officer layout -->
          <div class="officers" role="list">
            <figure class="officer-card" role="listitem">
              <img src="./assets/images/Manish_Tiwary.webp" alt="Manish Tiwari" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Manish Tiwari</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">Student Welfare Association <br> <a href="mailto:cd.Manish.tiwari@swa.edu">manish.tiwari@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/Dr_ Daf.jpg" alt="Dr. Sanjay Daf" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Sanjay Daf</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">Student Welfare Association <a href="mailto:sanjay.daf@swa.edu">sanjay.daf@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/thakare.jpeg" alt="Dr. Prashnat Thakare" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Prashnat Thakare</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">Student Welfare Association <a href="mailto:prashnat.thakare@swa.edu">prashnat.thakare@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/Meshram Sir.jpg" alt="Dr. Nandkishor Mesham" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Nandkishor Meshram</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">  Student Welfare<br> Association  <a href="mailto:nandkishor.meshram@swa.edu">nandkishor.meshram@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/akhare.jpg" alt="Dr. Sudhakar Akhare" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Sudhakar Akhare</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">Student Welfare Association <a href="mailto:sudhakar.akhare@swa.edu">sudhakar.akhare@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>

            <figure class="officer-card" role="listitem">
              <img src="./assets/images/lepse.png" alt="Prof. M. N. Coordinator" class="officer-portrait" />
              <figcaption>
                <div class="officer-info">
                  <h3 class="officer-name">Dr. Vijay Lepse</h3>
                  <p class="officer-role">Advisor</p>
                  <p class="small muted">student Welfare Association <a href="mailto:vijay.lepse@university.edu">vijay.lepse@swa.edu</a></p>
                </div>
              </figcaption>
            </figure>
          </div>
        </div>

        <p class="muted small" style="margin-top:0.6rem">Want to contact an advisor? Use the email links above or visit the <a href="#contact">Contact</a> section.</p>
      </section>

      <section id="annual-reports" class="section container reveal">
        <h2>Annual Reports</h2>
        <p>Summaries of SWA activities, membership, and financial statements for previous years. Downloadable PDFs with program highlights and outcomes will be available here.</p>
      </section>
<section id="financial-aid" class="section container">
    <h2>Financial Aid & Support 💸</h2>

    <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap; margin-bottom: 2rem;">

        <div style="flex: 1 1 55%; min-width: 350px; text-align: justify;">
            <p><strong>Student Welfare Association (SWA), Umred</strong></p>
            <p>The SWA, Umred, is committed to ensuring that financial limitations don't become a barrier to a student's education and well-being. It manages a dedicated pool of funds, often sourced from donations and membership fees, to provide targeted financial assistance to students in need.</p>

            ---

            <h3>Key Financial Programs Managed by SWA</h3>
            <h4>1. Benevolent Funds / SWA Scholarships 🎓</h4>
            <p>These funds assist students who demonstrate academic potential and significant financial need, covering costs beyond tuition.</p>
            
            <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #eee; border-radius: 8px; overflow: hidden;">
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; width: 34%; color: #f3f1f1;">Purpose</th>
                        <td style="padding: 8px; text-align: justify;">To provide financial support for tuition fees, examination fees, essential study materials, or accommodation costs.</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Eligibility</th>
                        <td style="padding: 8px; text-align: justify;">Merit-cum-Means basis: minimum academic performance plus economic need (parent/guardian income below a specified limit).</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Criteria</th>
                        <td style="padding: 8px; text-align: justify;">Must be a currently enrolled student in a recognized institution in the Umred area and demonstrate genuine financial hardship.</td>
                    </tr>
                    <tr>
                        <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Nature of Aid</th>
                        <td style="padding: 8px; text-align: justify;">Non-repayable grant or scholarship (not a loan).</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="flex: 1 1 35%; min-width: 250px;">
            <img src="./assets/images/fainance.png" alt="Financial Aid" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);">
        </div>
    </div>

    <div style="width: 100%; margin-top: 1.5rem; text-align: justify;">
        <h4>2. Emergency Grants 🆘</h4>
        <p>Immediate, short-term funds provided to students facing unexpected and critical financial crises.</p>

        <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #ccc; border-radius: 8px; overflow: hidden;">
            <tbody>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; width: 25%; color: #f3f1f1;">Purpose</th>
                    <td style="padding: 8px; text-align: justify;">Rapid assistance for sudden unavoidable expenses, such as medical emergencies, loss of family income, or natural disaster impact.</td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Eligibility</th>
                    <td style="padding: 8px; text-align: justify;">Based on immediacy and severity of the crisis; academic status is secondary.</td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Criteria</th>
                    <td style="padding: 8px; text-align: justify;">Requires documentation (e.g., medical bills, proof of family loss) to verify the emergency.</td>
                </tr>
                <tr>
                    <th style="padding: 8px; vertical-align: top; color: #f3f1f1;">Nature of Aid</th>
                    <td style="padding: 8px; text-align: justify;">Small, one-time, non-repayable grant.</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>Application Process and Requirements 📋</h3>
        <p>The process generally follows these steps:</p>
        <ol style="margin-left: 1.5rem;">
            <li><strong>Information & Forms</strong>
                <ul style="margin-top: 0.5rem;">
                    <li>**Location:** Application forms are available at the SWA office, Student Services/Welfare desk of affiliated colleges, or on the SWA website (if available).</li>
                    <li>Separate forms usually exist for Scholarships (long-term aid) and Emergency Grants (immediate aid).</li>
                </ul>
            </li>
            <li><strong>Eligibility Documents</strong>
                <p>Applicants typically submit the following with the completed form:</p>
                <ol type="a" style="margin-top: 0.5rem; margin-left: 1.5rem;">
                    <li>Proof of Enrolment (current fee receipt or institutional letter).</li>
                    <li>Income Certificate (official, from competent authority).</li>
                    <li>Academic Records (previous year mark sheets).</li>
                    <li>Bank Details (passbook copy or cancelled cheque).</li>
                    <li>Aadhaar/Identity Proof and Student ID.</li>
                </ol>
            </li>
            <li><strong>Deadlines & Disbursement</strong>
                <ul style="margin-top: 0.5rem;">
                    <li>**Scholarship deadlines** are usually annual and strictly enforced (often within 30–60 days of session start).</li>
                    <li>**Emergency Grants** are accepted on a rolling basis.</li>
                    <li>**Disbursement:** Funds are typically sent directly to the student's bank account or paid to the institution.</li>
                </ul>
            </li>
        </ol>
    </div>

    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>How to Get Current Information ℹ️</h3>
        <p>For the latest details on deadlines, income cut-offs, and forms, students should:</p>
        <ul style="margin-left: 1.5rem;">
            <li>Contact the SWA Office directly (visit or call).</li>
            <li>Monitor institutional notices and the college website.</li>
        </ul>
    </div>
</section>

    <section id="counseling" class="section container">
    <h2>Counseling & Wellness 🧘‍♀️</h2>

    <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap; margin-bottom: 2rem;">
        
        <div style="flex: 1 1 55%; min-width: 350px; text-align: justify;">
            <p><strong>Student Welfare Association (SWA), Umred</strong></p>
            <p>The Student Welfare Association (SWA), Umred, provides essential **Counseling & Wellness** support to promote the holistic mental and emotional health of students. Services are structured for accessibility, confidentiality, and preventive care.</p>

            ---

            <h3>1. Mental Health Services & Counseling</h3>
            <p>The SWA provides access to confidential counseling services, either directly through an affiliated professional or by coordinating with external mental health providers.</p>
            
            <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left;">
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px 0; vertical-align: top; width: 36%;">Type of Counseling</th>
                        <td style="padding: 8px 0; text-align: justify;">**Individual Counseling:** One-on-one sessions for stress management, anxiety, academic pressure, relationship issues, time management, and emotional distress.</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px 0; vertical-align: top;">Confidentiality</th>
                        <td style="padding: 8px 0; text-align: justify;">All sessions and personal information are strictly **confidential**. Information is not shared without explicit written consent except in cases of immediate harm to self or others.</td>
                    </tr>
                    <tr>
                        <th style="padding: 8px 0; vertical-align: top;">Counselor Info</th>
                        <td style="padding: 8px 0; text-align: justify;">**Contact:** Students can usually reach the SWA Welfare Coordinator or Mental Health Partner via phone/email. For immediate SWA Umred contact try: **+91-9423403193**.</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div style="flex: 1 1 35%; min-width: 250px;">
            <img src="./assets/images/counseling and wellness.png" alt="counseling and wellness" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);">
        </div>
    </div>
    
    <div style="width: 100%; margin-top: 1.5rem; text-align: justify;">
        <h4>Booking Procedures 📝</h4>
        <ol style="margin-left: 1.5rem;">
            <li>**Initial Contact:** Contact the SWA office or the designated counseling service via phone, email, or online booking form (if available).</li>
            <li>**Triage/Assessment:** A brief assessment may be conducted to determine appropriate support.</li>
            <li>**Scheduling:** Appointments scheduled based on counselor availability; request private time slots that do not conflict with classes.</li>
            <li>**Walk-in Hours:** Limited walk-in hours may be offered for immediate, non-crisis consultations—check with SWA for current times.</li>
        </ol>
    </div>

    <div style="width: 100%; margin-top: 2.5rem; text-align: justify;">
        <h3>2. Wellness Programs & Support Groups 💖</h3>
        <p>The SWA promotes preventative mental health through group activities that build resilience and community. </p>
        <p>*Schedules may vary; announcements are posted on college notice boards and SWA channels.*</p>
        
        <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left;">
            <thead>
                <tr style="border-bottom: 2px solid #aaa;"><th style="padding: 8px 0;">Program Type</th><th style="padding: 8px 0;">Description</th><th style="padding: 8px 0;">Schedule Example</th></tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #ddd;"><td style="padding: 4px 0; vertical-align: top; width: 33%;">Stress & Time Management Workshops</td><td style="padding: 4px 0; text-align: justify;">Sessions on study habits, exam anxiety reduction, and time allocation skills.</td><td style="padding: 4px 0;">Monthly — Last Saturday, 10:00 AM - 12:00 PM</td></tr>
                <tr style="border-bottom: 1px solid #ddd;"><td style="padding: 4px 0; vertical-align: top;">Yoga & Mindfulness Sessions</td><td style="padding: 4px 0; text-align: justify;">Guided meditation and yoga to reduce stress and improve concentration.</td><td style="padding: 4px 0;">Weekly — Wednesday, 6:00 PM - 7:00 PM</td></tr>
                <tr><td style="padding: 4px 0; vertical-align: top;">Financial Literacy Seminars</td><td style="padding: 4px 0; text-align: justify;">Practical budgeting and personal finance to reduce money-related stress.</td><td style="padding: 4px 0;">Quarterly — Check SWA notice board</td></tr>
            </tbody>
        </table>

        <h4>Peer-Support Groups</h4>
        <p style="text-align: justify;">Student-led groups overseen by an SWA representative or counselor. Examples:</p>
        <ul style="margin-left: 1.5rem; text-align: justify;">
            <li>Academic Pressure Group — weekly meetings for those facing heavy workloads.</li>
            <li>General Support Circle — bi-weekly open forum for discussing day-to-day challenges.</li>
        </ul>
        <p style="text-align: justify;">How to join: register via email to SWA or attend the first scheduled meeting.</p>
    </div>

    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>3. Crisis & Emergency Support 📞</h3>
        <p style="text-align: justify;">For immediate mental health crises, use emergency medical services or national helplines.</p>
        <ul style="margin-left: 1.5rem; text-align: justify;">
            <li>**Emergency Contact:** In severe crisis, call the national emergency number (**112** in India) or nearest hospital ER.</li>
            <li>**National Helplines:** SWA maintains a list of 24/7 mental health crisis helplines; check SWA notices for numbers.</li>
        </ul>
    </div>
</section>

    <section id="health-insurance" class="section container">
    <h2>Health & Insurance ⚕️</h2>

    <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap; margin-bottom: 2rem;">

        <div style="flex: 1 1 55%; min-width: 350px; text-align: justify;">
            <p><strong>Student Welfare Association (SWA), Umred</strong></p>
            <p>The Student Welfare Association (SWA), Umred, collaborates with educational institutions and local healthcare providers to ensure students have access to essential medical services, insurance coverage, and emergency contacts. The goal is to safeguard student well-being during their academic tenure.</p>

            ---

            <h3>1. Student Health Plans & Insurance 🛡️</h3>
            <p>The SWA typically facilitates understanding and access to student health plans rather than providing insurance directly.</p>
            
            <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #eee; border-radius: 8px; overflow: hidden;">
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; width: 36%; color: #f2eeee;">Mandatory Coverage</th>
                        <td style="padding: 8px; text-align: justify;">All enrolled students are generally required to have a basic **Student Health Plan** or **Group Insurance** provided by the institution; the fee is often included in annual fees.</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #f2eeee">SWA Role</th>
                        <td style="padding: 8px; text-align: justify;">SWA acts as **facilitator**: helping students understand coverage, file claims, and apply for **Benevolent Fund** support for major uninsured expenses.</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #f2eeee;">Key Coverage</th>
                        <td style="padding: 8px; text-align: justify;">Basic plans commonly cover hospitalization, accidental injuries on campus, and essential primary care at the campus clinic or referral center.</td>
                    </tr>
                    <tr>
                        <th style="padding: 8px; vertical-align: top; color: #f2eeee;">Accessing Coverage</th>
                        <td style="padding: 8px; text-align: justify;">Carry your **Student ID Card** and Health Card/Policy Number when accessing facilities to avail cashless or subsidized services.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="flex: 1 1 35%; min-width: 250px;">
            <img src="./assets/images/health.png" alt="Health and insurance" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);">
        </div>
    </div>

    <div style="width: 100%; margin-top: 1.5rem; text-align: justify;">
        <h3>2. On-Campus Health Services & Clinic Hours 🩺</h3>
        <p>Access to primary health services is essential for minor ailments and immediate care. The SWA encourages students to familiarize themselves with the available resources immediately upon enrollment.</p>

        <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #ccc; border-radius: 8px; overflow: hidden;">
            <tbody>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; width: 25%; color: #f2eeee;">Campus Clinic / Tie-up</th>
                    <td style="padding: 8px; text-align: justify;">Confirm the designated on-campus clinic location or the primary off-campus clinic partnered with your institution (e.g., local **Public Health Center** in Umred).</td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; color: #f2eeee;">Clinic Hours (Typical)</th>
                    <td style="padding: 8px; text-align: justify;">**Monday to Friday: 10:00 AM – 5:00 PM.** Hours may be reduced during holidays or breaks. Always check institutional notices.</td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <th style="padding: 8px; vertical-align: top; color: #f2eeee;">Services Provided</th>
                    <td style="padding: 8px; text-align: justify;">**First aid**, basic consultations for minor injuries and common illnesses (fever, cold), OTC medication (as available), and basic health check-ups.</td>
                </tr>
                <tr>
                    <th style="padding: 8px; vertical-align: top; color: #f2eeee;">Access Procedure</th>
                    <td style="padding: 8px; text-align: justify;">Present your **Student ID Card** at reception. For specialized treatment or conditions, a formal referral to a local hospital may be issued.</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>Emergency Medical Contacts 🚨</h3>
        <p>In any medical emergency, prioritize reaching the nearest professional help immediately:</p>
        <ul style="margin-left: 1.5rem;">
            <li>**Ambulance / General Emergency:** Call **108** or **112** (National Emergency Response).</li>
            <li>**SWA Contact:** Inform the SWA (through the general number or Welfare Coordinator) as soon as possible for support and coordination with family.</li>
        </ul>
        <p>It is **highly recommended** to save the Campus Security/Hostel Warden number as they are often the fastest on-site responders.</p>
    </div>
</section>

       <section id="accommodation" class="section container">
       <h2>Accommodation Support 🧘‍♀️</h2>

    <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap;">
        
        <div style="flex: 1 1 55%; min-width: 350px; text-align: justify;">
            <p><strong>Student Welfare Association (SWA), Umred</strong></p>
            <p>The Student Welfare Association (SWA), Umred, assists students with accommodation needs — from guiding official hostel allotment processes to providing help in emergency or temporary housing situations.</p>

            ---

            <h3>1. Hostel Allotment: Policies & Application Guidance</h3>
            <p>The SWA typically acts as a liaison between students and institutional housing authorities, providing guidance rather than directly managing hostels.</p>
            
            <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left;">
                <tbody>
                    <tr style="border-bottom: 1px solid #eee;"><th style="padding: 8px 0; vertical-align: top; width: 36%;">Official Policy Source</th><td style="padding: 8px 0; text-align: justify;">Hostel allotment policies are set by respective institutions. Refer to your institution's prospectus or website for official rules.</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><th style="padding: 8px 0; vertical-align: top;">SWA's Role in Allotment</th><td style="padding: 8px 0; text-align: justify;">Clarifying policies, guiding applications, and disseminating information about openings, interviews, and waiting lists.</td></tr>
                    <tr style="border-bottom: 1px solid #eee;"><th style="padding: 8px 0; vertical-align: top;">Eligibility & Criteria</th><td style="padding: 8px 0; text-align: justify;">Typical criteria include academic merit, distance from campus, gender-based allocations, and provisions for special needs.</td></tr>
                    <tr><th style="padding: 8px 0; vertical-align: top;">Documents Required</th><td style="padding: 8px 0; text-align: justify;">Admission confirmation, transcripts, parental income proof, address proof, and passport-sized photos.</td></tr>
                </tbody>
            </table>
        </div>
        
        <div style="flex: 1 1 35%; min-width: 250px;">
            <img src="./assets/images/Accommodation .png" alt="Accommodation Support" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);">
        </div>
    </div>

    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>2. Temporary Housing Support</h3>
        <p>For students facing immediate housing challenges, the SWA provides practical assistance.</p>
        
        <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left;">
            <tbody>
                <tr style="border-bottom: 1px solid #eee;"><th style="padding: 8px 0; vertical-align: top; width: 25%;">Purpose</th><td style="padding: 8px 0; text-align: justify;">Assist students awaiting hostel allotment, experiencing emergencies, or new arrivals needing short-term lodging.</td></tr>
                <tr style="border-bottom: 1px solid #eee;"><th style="padding: 8px 0; vertical-align: top;">Types of Support</th><td style="padding: 8px 0; text-align: justify;">Referral network of trusted PGs, emergency lodging coordination, and information on subsidized or NGO-supported temporary housing.</td></tr>
                <tr><th style="padding: 8px 0; vertical-align: top;">Application for Temporary Aid</th><td style="padding: 8px 0; text-align: justify;">Submit an application detailing the situation, duration required, and supporting documentation for verification.</td></tr>
            </tbody>
        </table>
    </div>

    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>3. Appeals for Lodging-Related Issues</h3>
        <p>The SWA advocates for students in cases of unfair allotment, grievances, off-campus disputes, and health & safety concerns.</p>
        <ul>
            <li>**Grounds:** Unfair allotment, hostel grievances, landlord disputes, health & safety risks.</li>
            <li>**Procedure:** Prepare written complaint with evidence; SWA reviews and may represent the student to institutional authorities or mediate for external disputes.</li>
        </ul>

        <p style="margin-top: 20px;">**How to Access Support:** Visit the SWA office during working hours or contact the SWA helpline/email. Early engagement helps prevent or resolve issues more effectively.</p>
    </div>
</section>

      <section id="career-placement" class="section container">
    <h2>Career & Placement Assistance 💼</h2>

    <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap; margin-bottom: 2rem;">

        <div style="flex: 1 1 55%; min-width: 350px; text-align: justify;">
            <p><strong>Student Welfare Association (SWA), Umred</strong></p>
            <p>The SWA acts as a crucial link between students and the institutional **Training & Placement (T&P) Cell**, ensuring all students are aware of and can access career services, placement opportunities, and essential employability resources.</p>

            ---

            <h3>1. Career Center Access & Key Links 🔗</h3>
            <p>While the SWA focuses on student welfare, it provides direct links and access guidance to the professional bodies responsible for placements.</p>
            
            <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #eee; border-radius: 8px; overflow: hidden;">
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; width: 34%; color: #333;">Primary Placement Body</th>
                        <td style="padding: 8px; text-align: justify;">Students should primarily contact their **Institution's Training & Placement (T&P) Cell**. The SWA can facilitate initial contact or grievance resolution.</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #333;">Career Portal Link</th>
                        <td style="padding: 8px; text-align: justify;">Check your affiliated college's official T&P website for **job postings, eligibility criteria, and application forms**. Example: [Link to Institutional T&P Cell Website]</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <th style="padding: 8px; vertical-align: top; color: #333;">SWA Support in Careers</th>
                        <td style="padding: 8px; text-align: justify;">The SWA disseminates notices on placement activities, helps coordinate student participation, and provides support for career-related anxiety through the Counseling Cell.</td>
                    </tr>
                    <tr>
                        <th style="padding: 8px; vertical-align: top; color: #333;">Alumni Network Access</th>
                        <td style="padding: 8px; text-align: justify;">The SWA works with the Alumni Association to arrange **mentorship opportunities** and industry expert talks.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="flex: 1 1 35%; min-width: 250px;">
            <img src="./assets/images/career-assistance.png" alt="Career and Placement Assistance" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);">
        </div>
    </div>

    <div style="width: 100%; margin-top: 1.5rem; text-align: justify;">
        <h3>2. Placement Drives & Employability Workshops 🚀</h3>
        <p>The SWA and the T&P Cell organize events designed to enhance job readiness and maximize placement opportunities.</p>

        <h4>Upcoming Placement Drives & Job Fairs</h4>
        <p>Students must register with their institutional T&P Cell to participate in these events. Notices will be circulated on SWA channels.</p>
        
        <table style="width:100%; border-collapse: collapse; margin-bottom: 1.5rem; font-size: 0.95rem; text-align: left; border: 1px solid #ccc; border-radius: 8px; overflow: hidden;">
            <thead>
                <tr style="border-bottom: 2px solid #aaa;"><th style="padding: 8px;">Event Type</th><th style="padding: 8px;">Target Audience</th><th style="padding: 8px;">Typical Schedule</th></tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 8px; vertical-align: top; width: 33%;">On-Campus Drives</td>
                    <td style="padding: 8px; text-align: justify;">Final-year and pre-final year students (Engineering, MBA, Science, Arts).</td>
                    <td style="padding: 8px;">Peak Season: October – March.</td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 8px; vertical-align: top;">Off-Campus/Pool Drives</td>
                    <td style="padding: 8px; text-align: justify;">Students meeting specific company criteria (often organized by clusters of colleges).</td>
                    <td style="padding: 8px;">Year-round; notification times vary.</td>
                </tr>
                <tr>
                    <td style="padding: 8px; vertical-align: top;">Mega Job Fair</td>
                    <td style="padding: 8px; text-align: justify;">All graduates seeking entry-level positions.</td>
                    <td style="padding: 8px;">Annual event (usually summer or winter break).</td>
                </tr>
            </tbody>
        </table>

        <h4>CV Clinics and Skill Enhancement Workshops</h4>
        <p>These workshops are critical for building employability skills and are often organized in partnership with industry experts.</p>
        <ul style="margin-left: 1.5rem;">
            <li>**CV Clinics:** Hands-on sessions focused on formatting, keyword optimization, and structuring resumes to pass Applicant Tracking Systems (ATS).</li>
            <li>**Soft Skill Training:** Essential sessions covering professional etiquette, communication skills, presentation abilities, and Group Discussion (GD) strategies.</li>
            <li>**Aptitude Training (CRT):** Specialized programs to prepare students for the quantitative, logical reasoning, and verbal assessment rounds used in most recruitment processes.</li>
            <li>**Mock Interview Sessions:** Conducted with faculty and/or industry veterans to simulate real job interviews (Technical & HR rounds).</li>
        </ul>
    </div>
    
    <div style="width: 100%; margin-top: 2rem; text-align: justify;">
        <h3>3. How to Maximize Your Employability 💡</h3>
        <p>Your proactive involvement is key to successful placement:</p>
        <ol style="margin-left: 1.5rem;">
            <li>**Register Early:** Ensure your details are updated and registered with the T&P Cell database every academic year.</li>
            <li>**Maintain Grades:** Placement eligibility for many top companies requires a consistent academic record (often no backlogs/minimum CGPA).</li>
            <li>**Attend Workshops:** Prioritize attending Soft Skills, CV, and Aptitude training sessions as these build the foundation for selection processes.</li>
            <li>**Internships:** Seek out and complete relevant internships; practical experience is the most valued credential on a resume.</li>
        </ol>
    </div>
</section>

      <section id="clubs" class="section container reveal">
   
        <p class="lead muted">Alphabetical directory of recognized student clubs with summaries, faculty coordinators and primary contact links. Use the search and filters below to find a club.</p>

        <div class="club-controls" style="display:flex;gap:12px;align-items:center;margin:1rem 0;flex-wrap:wrap;">
          <input id="club-search" type="search" placeholder="Search clubs by name or keyword" style="flex:1 1 340px;padding:8px;border-radius:6px;border:1px solid #d1d5db" />
          <select id="club-filter" style="padding:8px;border-radius:6px;border:1px solid #d1d5db">
            <option value="all">All categories</option>
            <option value="academic">Academic</option>
            <option value="sports">Sports</option>
            <option value="cultural">Cultural</option>
            <option value="social">Social &amp; Service</option>
            <option value="technical">Technical</option>
          </select>
          <button id="club-clear" class="btn" style="padding:8px 12px">Clear</button>
        </div>

        <div id="clubs-grid" class="grid cards" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:12px"></div>

        <script>
        (function(){
          var KEY = 'swa_clubs';
          function load(){ try{ var s=localStorage.getItem(KEY); return s?JSON.parse(s):[] }catch(e){return[]} }
          function save(arr){ try{ localStorage.setItem(KEY, JSON.stringify(arr||[])); }catch(e){console.error(e);} }

          // seed sample clubs and merge with any existing stored clubs
          var clubs = load() || [];
          var seeded = [
              { id: 'c1', name: 'Debate & Literary Club', category: 'cultural', desc: 'Fosters public speaking, debating, creative writing and literary events.', contact: 'debate@swa.edu', faculty: 'Prof. Lakshmi Rao' },
              { id: 'c2', name: 'Robotics & Coding Society', category: 'technical', desc: 'Hands-on workshops, hackathons and project mentorship in robotics and software development.', contact: 'robotics@swa.edu', faculty: 'Dr. Prashant Thakare' },
              { id: 'c3', name: 'Sports Club', category: 'sports', desc: 'Organizes intramurals, coaching sessions and fitness activities across multiple sports.', contact: 'sports@swa.edu', faculty: 'Coach Anup Roy' },
              { id: 'c4', name: 'Community Service Circle', category: 'social', desc: 'Student-led outreach, volunteering and community engagement programs in Umred.', contact: 'service@swa.edu', faculty: 'Sakshi Karoo' },
              { id: 'c5', name: 'Photography Club', category: 'cultural', desc: 'Workshops, photo-walks and exhibitions to develop visual storytelling skills.', contact: 'photo@swa.edu', faculty: 'Mr. Bharat Gher' },
              { id: 'c6', name: 'Music & Performing Arts', category: 'cultural', desc: 'Choirs, bands, and performance showcases fostering musical and stage talent.', contact: 'music@swa.edu', faculty: 'Ms. Anita Kulkarni' },
              { id: 'c7', name: 'Environmental Action Group', category: 'social', desc: 'Campus sustainability initiatives, tree-planting drives and awareness campaigns.', contact: 'enviro@swa.edu', faculty: 'Dr. Vivek Sharma' },
              { id: 'c8', name: 'Entrepreneurship & Startups Club', category: 'technical', desc: 'Startup ideation, mentorship, and ties with local entrepreneurs and incubators.', contact: 'startup@swa.edu', faculty: 'Mr. Bharat Gher' },
              { id: 'c9', name: 'Theatre & Drama Club', category: 'cultural', desc: 'Stage productions, acting workshops and script-writing sessions.', contact: 'theatre@swa.edu', faculty: 'Ms. Priya Nair' },
              { id: 'c10', name: 'Astronomy & Space Science Club', category: 'academic', desc: 'Stargazing nights, guest lectures and projects on astronomy and space science.', contact: 'astro@swa.edu', faculty: 'Dr. Nandkishor Meshram' },
              { id: 'c11', name: 'Biomedical & Health Sciences Society', category: 'academic', desc: 'Seminars, health camps and student research collaboration in biomedical topics.', contact: 'biomed@swa.edu', faculty: 'Dr. Sudhakar Akhare' },
              { id: 'c12', name: 'Film & Media Club', category: 'cultural', desc: 'Short film projects, editing workshops and media production activities.', contact: 'media@swa.edu', faculty: 'Mr. Rajesh Khope' }
            ];

          // Merge seeded entries into stored clubs without duplicating by id
          var existingIds = new Set((clubs||[]).map(function(c){ return c.id; }));
          seeded.forEach(function(s){ if(!existingIds.has(s.id)){ clubs.push(s); existingIds.add(s.id); } });
          // if we added seeded entries to an initially empty store, persist
          save(clubs);

          var grid = document.getElementById('clubs-grid');
          var search = document.getElementById('club-search');
          var filter = document.getElementById('club-filter');
          var clear = document.getElementById('club-clear');

          function render(list){
            grid.innerHTML = '';
            if(!list || !list.length){ grid.innerHTML = '<p class="muted">No clubs match your search.</p>'; return; }
            list.forEach(function(cl){
              var a = document.createElement('article'); a.className='card'; a.style.padding='12px';
              a.innerHTML = '<h3 style="margin:0 0 6px">'+(cl.name||'Untitled')+'</h3>'
                + '<div style="font-size:0.95rem;color:#334155;margin-bottom:8px">'+(cl.desc||'')+'</div>'
                + '<div style="font-size:0.85rem;color:#64748b">Faculty: '+(cl.faculty||'—')+'</div>'
                + '<div style="font-size:0.85rem;color:#64748b">Contact: <a href="mailto:'+ (cl.contact || '') +'">'+ (cl.contact || '—') +'</a></div>';
              grid.appendChild(a);
            });
          }

          function applyFilters(){
            var q = (search.value||'').toLowerCase().trim();
            var cat = filter.value || 'all';
            var out = clubs.filter(function(c){
              var matchQ = q ? ((c.name||'').toLowerCase().indexOf(q) !== -1) || ((c.desc||'').toLowerCase().indexOf(q) !== -1) : true;
              var matchCat = (cat === 'all') ? true : (c.category === cat);
              return matchQ && matchCat;
            });
            render(out);
          }

          search.addEventListener('input', applyFilters);
          filter.addEventListener('change', applyFilters);
          clear.addEventListener('click', function(){ search.value=''; filter.value='all'; applyFilters(); });

          // initial render
          render(clubs.sort(function(a,b){ return (a.name||'').localeCompare(b.name||''); }));
        })();
        </script>
      </section>

          <script>
          // Start Club and Club Requests handling
          (function(){
            var REQ_KEY = 'swa_club_requests';
            var CLUB_KEY = 'swa_clubs';
            function loadReq(){ try{ var s=localStorage.getItem(REQ_KEY); return s?JSON.parse(s):[] }catch(e){return[]} }
            function saveReq(arr){ try{ localStorage.setItem(REQ_KEY, JSON.stringify(arr||[])); }catch(e){console.error(e);} }
            function loadClubs(){ try{ var s=localStorage.getItem(CLUB_KEY); return s?JSON.parse(s):[] }catch(e){return[]} }
            function saveClubs(arr){ try{ localStorage.setItem(CLUB_KEY, JSON.stringify(arr||[])); }catch(e){console.error(e);} }

            // wire open buttons via delegation (existing panel system already covers many open-* buttons)
            document.addEventListener('click', function(e){
              var openStart = e.target.closest && e.target.closest('.open-start-club');
              if(openStart){ e.preventDefault(); var tpl = document.getElementById('tpl-start-club'); var panel = document.getElementById('active-panel'); var content = document.getElementById('panel-content'); content.innerHTML = tpl ? tpl.innerHTML : '<p>Form coming soon.</p>'; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(function(){ var form = content.querySelector('#start-club-form'); if(form){ form.addEventListener('submit', function(ev){ ev.preventDefault(); var data = {}; new FormData(form).forEach(function(v,k){ data[k]=v }); data.id = 'req_' + Date.now(); data.status='pending'; var reqs = loadReq(); reqs.push(data); saveReq(reqs); showToast && showToast('Request submitted — pending secretary approval'); panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); content.innerHTML=''; }); } },60); return; }

              var openReq = e.target.closest && e.target.closest('.open-club-requests');
              if(openReq){ e.preventDefault(); var tpl = document.getElementById('tpl-club-requests'); var panel = document.getElementById('active-panel'); var content = document.getElementById('panel-content'); content.innerHTML = tpl ? tpl.innerHTML : '<p>Requests coming soon.</p>'; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(function(){ initClubRequests(content); },60); return; }
            });

            function initClubRequests(container){
              var wrapper = container.querySelector('#club-requests-wrapper');
              var verify = container.querySelector('#club-verify');
              var secret = container.querySelector('#club-secret');
              function render(){
                var reqs = loadReq() || [];
                wrapper.innerHTML = '';
                if(!reqs.length){ wrapper.innerHTML = '<p class="muted">No pending requests.</p>'; return; }
                reqs.forEach(function(r){
                  var card = document.createElement('article'); card.className='card'; card.style.padding='10px';
                  card.innerHTML = '<h3 style="margin:0 0 6px">'+(r.name||'Untitled')+' <small style="font-size:0.85rem;color:#64748b">('+ (r.category||'') +')</small></h3>'
                    + '<div style="font-size:0.95rem;color:#334155;margin-bottom:8px">'+(r.desc||'')+'</div>'
                    + '<div style="font-size:0.85rem;color:#64748b">Contact: <a href="mailto:'+(r.contact||'')+'">'+(r.contact||'')+'</a></div>'
                    + '<div style="margin-top:8px">Requested by: <em>'+ (r.requester||'Anonymous') +'</em></div>'
                    + '<div style="margin-top:8px"><button class="btn btn-approve" data-id="'+r.id+'" style="margin-right:8px">Approve</button><button class="btn btn-deny" data-id="'+r.id+'">Deny</button></div>';
                  wrapper.appendChild(card);
                });
                // wire approve/deny
                wrapper.querySelectorAll('.btn-approve').forEach(function(b){ b.addEventListener('click', function(){ doAction(b.dataset.id, 'approve'); }); });
                wrapper.querySelectorAll('.btn-deny').forEach(function(b){ b.addEventListener('click', function(){ doAction(b.dataset.id, 'deny'); }); });
              }

              function doAction(id, action){
                var pwd = secret && secret.value ? secret.value.trim() : '';
                if(pwd !== '123'){ showToast && showToast('Incorrect secretary password'); return; }
                var reqs = loadReq() || [];
                var idx = reqs.findIndex(function(r){ return r.id === id; });
                if(idx === -1) return; var item = reqs[idx];
                if(action === 'approve'){
                  var clubs = loadClubs() || [];
                  // append approved club at the end
                  var newClub = { id: 'c_' + Date.now(), name: item.name, category: item.category, desc: item.desc, contact: item.contact, faculty: item.faculty };
                  clubs.push(newClub); saveClubs(clubs); showToast && showToast('Club approved and added to directory');
                } else { showToast && showToast('Request denied'); }
                // remove request and re-render
                reqs.splice(idx,1); saveReq(reqs); render();
              }

              render();
            }
          })();
          </script>

      <section id="start-club" class="section container reveal">
        <h2>Start a New Club</h2>
        <p>Guidelines, recognition policy, and application form for students who want to start a new registered club or chapter.</p>
        <div style="margin-top:0.8rem;display:flex;gap:10px;flex-wrap:wrap;">
          <button class="btn open-start-club" style="padding:8px 12px">Start a Club</button>
          <button class="btn open-club-requests" style="padding:8px 12px">See Pending Requests (Secretary)</button>
        </div>
      </section>

      <section id="calendar" class="section container reveal">
        <h2>Event Calendar</h2>
        <p>Consolidated schedule of SWA events, club meetings and major campus-wide events. Use this calendar to plan and register.</p>
      </section>

      <section id="sports" class="section container reveal">
        <h2>Sports &amp; Recreation</h2>
        <p>Information on intramural leagues, sports facility booking, fitness centre access and upcoming tournaments.</p>
      </section>

      <section id="culture" class="section container reveal">
        <h2>Cultural &amp; Arts Programs</h2>
        <p>Details of cultural festivals, art exhibitions, music and drama events, and how to participate or volunteer.</p>
      </section>

      <section id="bylaws" class="section container reveal">
        <h2>SWA Constitution &amp; By-Laws</h2>
        <p>Download the full constitution and by-laws governing the Student Welfare Association, including rules for elections and governance.</p>
      </section>

      <!-- Bylaws — public download list (manager separated) -->
      <template id="tpl-bylaws">
        <section class="section container">
          <h2 tabindex="-1">SWA Constitution &amp; By-Laws — Punlic Downloads</h2>
          

          <div style="max-width:720px;display:grid;gap:12px">
            <div class="card" style="padding:12px">
              <h3>Available Documents</h3>
              <ul id="public-bylaw-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px">
                <li class="muted">No documents published yet.</li>
              </ul>
              <div id="bylaw-storage-status" class="muted small" style="margin-top:8px"></div>
            </div>
          </div>
        </section>
      </template>

      <!-- Bylaws Manager — Secretary only (full CRUD) -->
      <template id="tpl-bylaws-manager">
        <section class="section container">
          <h2 tabindex="-1">Manage SWA Documents — Secretary</h2>
          <p class="muted small">Authenticate to add, replace, or delete documents. Public users only see the public download list.</p>
          <div style="max-width:820px;display:grid;gap:12px">
            <div class="card" style="padding:12px">
              <div style="display:flex;gap:8px;align-items:center">
                <input id="mgr-secret" type="password" placeholder="Secretary password" style="flex:1;min-width:200px" />
                <button id="mgr-unlock" class="btn btn-primary">Unlock</button>
                <button id="mgr-lock" class="btn btn-outline" style="display:none">Lock</button>
              </div>
              <div id="mgr-controls" style="margin-top:12px;display:none">
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
                  <button id="mgr-add" class="btn btn-primary">Add New Document</button>
                  <div class="muted small">Add a titled document and upload a PDF. Replacements and deletes are available per item.</div>
                </div>

                <div id="mgr-add-form" style="display:none;border:1px dashed #e6e6e6;padding:8px;border-radius:6px;margin-bottom:8px">
                  <label style="display:block;margin-bottom:6px">Title<br><input id="mgr-new-title" type="text" style="width:100%" placeholder="E.g. Board Agenda Oct 2025"></label>
                  <label style="display:block;margin-bottom:6px">Upload PDF<br><input id="mgr-new-file" type="file" accept="application/pdf"></label>
                  <div style="display:flex;gap:8px;margin-top:6px"><button id="mgr-create" class="btn btn-primary">Create</button><button id="mgr-cancel" class="btn btn-outline">Cancel</button></div>
                </div>

                <div>
                  <h4>Managed Documents</h4>
                  <ul id="mgr-doc-list" style="list-style:none;padding:0;margin:0;display:grid;gap:8px"></ul>
                </div>

                <div id="mgr-msg" class="muted small" style="margin-top:8px;display:none"></div>
              </div>
            </div>
          </div>
        </section>
      </template>
      </section>



      
    
      <section id="minutes" class="section container reveal">
        <h2>Meeting Minutes (Archive)</h2>
        <p>Archive of General Body Meeting (GBM) minutes and Executive Council meeting notes for transparency and record-keeping.</p>
      </section>

      <section id="budget" class="section container reveal">
        <h2>Budget &amp; Financial Statements</h2>
        <p>Transparency reports showing income, expenditures, audited accounts, and budget summaries for SWA activities.</p>
      </section>

      <section id="notifications" class="section container reveal">
        <h2>Official Notifications &amp; Circulars</h2>
        <p>Latest administrative announcements, policy circulars and important deadlines from the SWA and campus administration.</p>
      </section>

      <section id="grievance" class="section container reveal">
        <h2>Report a Grievance (Confidential)</h2>
        <p>Submit a formal grievance confidentially via the online form. Details on the procedure, expected timelines and support contacts are provided here.</p>
      </section>

      <section id="antiragging" class="section container reveal">
        <h2>Anti-Ragging Policy</h2>
        <p>Rules, emergency contacts and steps to report ragging incidents. The SWA works closely with the administration to ensure student safety.</p>
      </section>

      <section id="icc" class="section container reveal">
        <h2>Internal Complaints Committee (ICC)</h2>
        <p>Information on the ICC, how to file complaints of harassment or misconduct, and the support resources available to complainants.</p>
      </section>

      <section id="code-of-conduct" class="section container reveal">
        <h2>Code of Conduct</h2>
        <p>Institutional rules governing student behaviour, disciplinary procedures, and appeals processes.</p>
      </section>

      <section id="forms" class="section container reveal">
        <h2>All Forms</h2>
        <p>Central repository for downloadable application, reimbursement and request forms (PDF/Doc). Updated regularly.</p>
      </section>

      <section id="links" class="section container reveal">
        <h2>Important University Links</h2>
        <p>Quick links to the Registrar, Library, IT Services, Student Affairs and other central services useful to students.</p>
      </section>

      <section id="handbooks" class="section container reveal">
        <h2>Student Handbooks</h2>
        <p>Download student handbooks, orientation guides and program-specific policies helpful for new and returning students.</p>
      </section>

      <section id="faqs" class="section container reveal">
        <h2>FAQs</h2>
        <p>Answers to the most frequently asked questions about SWA membership, events, funds and services.</p>
      </section>

      <section id="donate-ways" class="section container reveal">
        <h2>Ways to Donate</h2>
        <p>Information on how to contribute: one-time gifts, recurring donations, in-kind contributions, and legacy giving.</p>
      </section>

      <section id="donate-online" class="section container reveal">
        <h2>Donate Online</h2>
        <p>Secure online donation portal (link or embedded form). Instructions for international donors and tax receipts.</p>
      </section>

      <section id="corporate" class="section container reveal">
        <h2>Corporate Sponsors</h2>
        <p>Information for corporate partners interested in sponsoring events or establishing corporate social responsibility (CSR) partnerships.</p>
      </section>

      <section id="scholarship-funds" class="section container reveal">
        <h2>Scholarship Funds</h2>
        <p>Overview of donor-supported scholarship programs, eligibility criteria and application processes.</p>
      </section>

      <section id="donation-transparency" class="section container reveal">
        <h2>Donation Transparency</h2>
        <p>How donated funds are managed, reporting timelines, and links to financial disclosures related to donor funds.</p>
      </section>

      <section id="volunteer-donor" class="section container reveal">
        <h2>Volunteer as Donor</h2>
        <p>Opportunities for volunteers to support fundraising activities and community outreach. Volunteer application form and contact details.</p>
      </section>
      
      <section id="office-bearers" class="section container reveal">
  <h2>CEO & Administrative Staff Members</h2>
  <div class="team-feature">
    <div class="president">
      <img src="./assets/images/ashpak.jpg" alt="Chief Executive officer " class="portrait-large" />
      <h3><b>Ashpak Ansari</b></h3>
      <p class="Menu">Chief Executive Officer <br> Administration & Implementation</p>
      <p class="small">Student Welfare Association <br> <a href="mailto:ceo@swa.edu">ceo@swa.edu</a></p>
    </div>
    <div class="officers">
      <figure class="officer-card">
        <img src="./assets/images/gher.jpeg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Bharat Gher</h3>
            <p class="officer-role">Project Director</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:project.director@swa.edu">project.director@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      <figure class="officer-card">
        <img src="./assets/images/sakshi.jpg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Sakshi Karoo</h3>
            <p class="officer-role">Project Officer (Urban)</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:po.urban@swa.edu">po.urban@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      
       <figure class="officer-card">
        <img src="./assets/images/sachin.jpeg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Sachin Sonkusare</h3>
            <p class="officer-role">Project Officer (Rural)</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:po.rural@swa.edu">po.rural@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>

       <figure class="officer-card">
        <img src="./assets/images/Mrunal.jpeg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Mrunal Saharkar</h3>
            <p class="officer-role">Accountant</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:accountant@swa.edu">accountant@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
       <figure class="officer-card">
        <img src="./assets/images/dummy.jpg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Shrikant Bansod</h3>
            <p class="officer-role">Sr. Clerk</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:sr.clerk@swa.edu">sr.clerk@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
       <figure class="officer-card">
        <img src="./assets/images/dummy.jpg" alt="Office Bearer" class="officer-portrait" />
        <figcaption>
          <div class="officer-info">
            <h3 class="officer-name">Rajesh Khope</h3>
            <p class="officer-role">Computer Operator</p>
            <p class="small">Student Welfare Association <br> <a href="mailto:computer.operator@swa.edu">computer.operator@swa.edu</a></p>
          </div>
        </figcaption>
      </figure>
      <!-- Add more office bearers as needed -->
    </div>
  </div>
  <p class="muted small" style="margin-top:0.6rem">Contact office bearers via the email links above or visit the <a href="#contact">Contact</a> section.</p>
</section>
      
    </main>


    <!-- Tenders & Notices: full-width section above the footer -->
    <section id="tenders-notices-section" class="section" aria-label="Tenders and Notices" style="background:var(--muted-bg);padding:24px 0;color:#fff;">
      <div class="container" style="max-width:1200px;margin:0 auto;">
        <h2 style="margin:0 0 12px"> <center>Tenders &amp; Notices</center></h2>
        <div id="tn-list" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;color:#fff"></div>
      </div>
    </section>

    <footer class="site-footer">
      <div class="container footer-inner" style="display:flex;gap:2rem;align-items:flex-start;flex-wrap:wrap">
        <div class="footer-about" style="flex:1 1 480px;min-width:240px">
          <div style="text-align: justify; max-width: 600px; margin: 0 auto;">
    <h1 style="margin:10px 0 0.5rem">Student Welfare Association</h1>
    <div style="margin:0;color:var(--muted);line-height:1.5">
        <p>Focusing on student welfare indicates a commitment to improving the well-being, academic success, and overall experiences of students. This could involve advocating for better educational policies, mental health support, and resources to create a conducive learning environment.</p>
    </div>
    </div>
  
  </div>

    

        <div class="footer-contact" style="flex:0 0 320px;min-width:220px">
          <h3 style="margin:0 0 .4rem">Let's Talk</h3 >
<address style="font-style: normal; line-height: 1.6; color: #CCCCCC;">
    Student Welfare Association, Umred<br>
    e-mail : <a href="mailto:swaudn@gmail.com" class="email-link" style="color: #CCCCCC;">swaudn@gmail.com</a><br>
    WhatsApp : +91 9423403193<br>
    Contact : +91 9021150048
</address>
          <div style="margin-top:0.6rem;font-weight:700;color: #FFFFFF;">Follow us</div>
         <div class="social-links" style="margin-top:0.5rem;display:flex;gap:0.5rem;align-items:center;flex-wrap:wrap">
    
    <a class="social-btn facebook" href="https://www.facebook.com/p/Student-Welfare-Association-100063998864831/" aria-label="Facebook" title="Visit our Facebook Page">
        <i class="fab fa-facebook-f"></i>
    </a>
    
    <a class="social-btn instagram" href="https://www.instagram.com/krishnakaroo/" aria-label="Instagram" title="Follow us on Instagram">
        <i class="fab fa-instagram"></i>
    </a>
    
    <a class="social-btn x" href="https://x.com/home" aria-label="X" title="Follow us on X">
        <i class="fab fa-x-twitter"></i> 
    </a>
    
    <a class="social-btn linkedin" href="https://www.linkedin.com/feed/?doFeedRefresh=true&nis=true&lipi=urn%3Ali%3Apage%3Ad_flagship3_feed%3BnWD18WUzTqSSE4yYO8erIQ%3D%3D" aria-label="LinkedIn" title="Connect with us on LinkedIn">
        <i class="fab fa-linkedin-in"></i>
    </a>
    
    <a class="social-btn youtube" href="https://www.youtube.com/@krishna80001" aria-label="YouTube" title="Subscribe on YouTube">
        <i class="fab fa-youtube"></i>
    </a>
    
    <a class="social-btn telegram" href="https://telegram.org/L" aria-label="Telegram" title="Join us on Telegram">
        <i class="fab fa-telegram"></i>
    </a>
    
    </div>
        </div>
  </div>

<footer style="background-color: #1A237E; padding: 20px 0; color: #FFFFFF;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 15px;">

        <div style="border-top: 1px solid #3F51B5; padding-top: 15px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
      <p style="margin: 5px 20px 5px 0; font-size: 14px; color: #FFFFFF; display:flex; align-items:center; gap:12px;">
        <span>Visits Counter :</span>
        <strong id="visitor-count" style="font-weight: bold;">0</strong>
                <button id="btn-show-add-footer" class="btn btn-outline" style="margin-left:8px;">Add Life Member</button>
    <button id="btn-show-photo-footer" class="btn btn-outline" style="margin-left:8px;">Add Photo</button>
    <button id="btn-show-notice-footer" class="btn btn-outline" style="margin-left:8px;">Upload Notice/Tender</button>
                
      </p>
           
      <nav style="display: flex; gap: 15px; flex-wrap: wrap;">
                <a href="./assets/images/Reports/work flow.pdf" style="color: #FFFFFF; text-decoration: none; font-size: 14px;">Workflow</a>
                <a href="https://photos.app.goo.gl/iUbBRYXyLgH2paj36" style="color: #FFFFFF; text-decoration: none; font-size: 14px;">Photo Gallery</a>
                <a href="#" class="open-about" style="color: #FFFFFF; text-decoration: none; font-size: 14px;">About Us</a>
                <a href="#" id="footer-feedback-link" style="color: #FFFFFF; text-decoration: none; font-size: 14px;">Feedback</a>
                <a href="#" class="open-disclaimer" style="color: #FFFFFF; text-decoration: none; font-size: 14px;">Disclaimer</a>
            </nav>
        </div>

        <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 15px; padding-top: 15px;">
            <p style="margin: 0; text-align: center; color: #FFD54F; font-size: 1rem; font-weight: 500;">
                &copy; <span id="year">2025</span> Student Welfare Association. All rights reserved.
            </p>
        </div>
                
    </div>
</footer>

      <!-- WhatsApp floating chat button -->
     <a id="whatsapp-chat" class="whatsapp-chat" href="YOUR_WHATSAPP_LINK" aria-label="Chat on WhatsApp" title="Chat with us on WhatsApp">
    <i class="fab fa-whatsapp fa-4x"></i> 
</a>

  <script id="gallery-manifest" type="application/json">[
  "a0c0949e-2110-44ce-b076-2b6008876e92.jpg",
  "a720a0dd-7c7d-41cb-a0ce-63262eb4e127.jpg",
  "a83a2c03-259c-46c1-9e66-2d5a6f451a89.jpg",
  "aa08b62b-462c-4e45-a84f-3e3d98721323.jpg",
  "dac2201f-49a4-4b9c-9477-4d00c3d8d994.jpg"
]</script>
  <script src="assets/js/script.js"></script>

    <!-- Hidden templates: not rendered until injected into #panel-content on click -->
    <template id="tpl-annual">
      <section class="section container">
        <h2 tabindex="-1">Annual Reports </h2>
        <p class="lead muted">Select a session below to view the annual report details.</p>
        <div class="grid cards">
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2015-16">Session 2015-16</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2016-17">Session 2016-17</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2017-18">Session 2017-18</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2018-19">Session 2018-19</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2019-20">Session 2019-20</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2020-21">Session 2020-21</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2021-22">Session 2021-22</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2022-23">Session 2022-23</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2023-24">Session 2023-24</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2024-25">Session 2024-25</a></div></article>
          <article class="card"><div class="card-body"><a href="#" class="report-link" data-year="2025-26">Session 2025-26</a></div></article>
        </div>
        </section>
    </template>
    
    <!-- Start Club panel template -->
    <template id="tpl-start-club">
      <section class="section container">
        <h2 tabindex="-1">Start a New Club</h2>
        <div style="max-width:720px">
          <p>Please complete the form to request a new registered club. Requests will be reviewed by the Secretary.</p>
          <form id="start-club-form">
            <div style="margin-bottom:8px"><label>Club Name:<br><input name="name" type="text" required style="width:100%" /></label></div>
            <div style="margin-bottom:8px"><label>Category:<br><select name="category" required style="width:100%"><option value="cultural">Cultural</option><option value="academic">Academic</option><option value="sports">Sports</option><option value="social">Social & Service</option><option value="technical">Technical</option></select></label></div>
            <div style="margin-bottom:8px"><label>Short Description:<br><textarea name="desc" rows="4" required style="width:100%"></textarea></label></div>
            <div style="margin-bottom:8px"><label>Primary Contact Email:<br><input name="contact" type="email" required style="width:100%" /></label></div>
            <div style="margin-bottom:8px"><label>Faculty Sponsor:<br><input name="faculty" type="text" required style="width:100%" /></label></div>
            <div style="margin-bottom:12px"><label>Proposed Activities (one line each):<br><textarea name="activities" rows="3" placeholder="e.g., weekly workshops, exhibitions" style="width:100%"></textarea></label></div>
            <div><button type="submit" class="btn btn-primary">Submit Request</button></div>
          </form>
        </div>
      </section>
    </template>

    <!-- Club Requests (secretary) panel template -->
    <template id="tpl-club-requests">
      <section class="section container">
        <h2 tabindex="-1">Pending Club Requests</h2>
        <div style="max-width:900px">
          <p>Secretary-only panel: review, approve or deny pending club creation requests.</p>
          <div id="club-requests-wrapper"></div>
          <div style="margin-top:12px"><label>Secretary password:<br><input id="club-secret" type="password" placeholder="Enter secretary password" style="width:220px"/></label>
          <button id="club-verify" class="btn" style="margin-left:8px">Verify</button></div>
        </div>
      </section>
    </template>

    <!-- About Us panel template -->
    <template id="tpl-about">
      <section class="section container">
        
        <h2 tabindex="-1">About Us</h2>
        <div class="max-w-3xl bg-white p-8 rounded-xl shadow-2xl border border-gray-100">
        <h1 class="text-3xl font-extrabold mb-6 text-indigo-700 border-b pb-2"><center>Student Welfare Association, Umred (SWAU)</center></h1>
        
        <!-- text-justify is added here to align the text -->
        <div style="display: flex; gap: 30px; align-items: flex-start; flex-wrap: wrap;">
    <div style="flex: 1 1 50%; min-width: 300px;" class="about-text">
     
      <p>The **Student Welfare Association, Umred (SWAU)** is a student-led organization dedicated to empowering youth through **education, leadership, and community engagement**. Established with the vision of nurturing well-rounded individuals, SWAU works to create a supportive environment where every student can **thrive academically, socially, and personally**.</p>

        <p>Our mission is to promote student welfare by addressing academic, emotional, and social needs through various **initiatives, workshops, and outreach programs**. We collaborate with educational institutions, local organizations, and community leaders to foster opportunities for **growth, innovation, and civic responsibility**.</p>

        <p>At SWAU, we believe that every student deserves access to **guidance, resources, and a platform to express their potential**. From skill development sessions and career counseling to cultural and social events, we strive to make student life **more meaningful and inclusive**.</p>

        <p>Together, we are shaping a future where students are not only academically sound but also **socially responsible, confident, and ready to contribute positively to society**.</p>
    </div>

    <div style="flex: 1 1 40%; min-width: 300px;" class="about-image">
      
      <img src="./assets/images/about us.jpg" alt="About Us" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);">
    </div>
</div>
       </section>
    </template>

    <!-- Welfare Services templates -->
    <template id="tpl-welfare-financial">
      <section class="section container">
        <h2 tabindex="-1">Financial Aid &amp; Scholarships</h2>
        <div style="max-width:780px">
          <img src="https://images.unsplash.com/photo-1588702547923-7093a6c3ba33?q=80&w=1200&auto=format&fit=crop" alt="Financial aid" style="width:100%;max-height:280px;object-fit:cover;border-radius:8px;margin-bottom:12px"/>
          <p>We help students access scholarships, emergency funds, and guidance on filling applications. Our team maintains a list of available scholarships and assists with documentation, timelines and interview prep.</p>
          <ul>
            <li>Scholarship search and application assistance</li>
            <li>Emergency financial support (short-term)</li>
            <li>Workshops on budgeting and financial literacy</li>
          </ul>
        </div>
      </section>
    </template>

    <template id="tpl-welfare-counseling">
      <section class="section container">
        <h2 tabindex="-1">Counseling &amp; Wellness</h2>
        <div style="max-width:780px">
          <img src="https://images.unsplash.com/photo-1559757175-5701f5b58b86?q=80&w=1200&auto=format&fit=crop" alt="Counseling" style="width:100%;max-height:280px;object-fit:cover;border-radius:8px;margin-bottom:12px"/>
          <p>Our counseling service offers confidential one-on-one sessions, peer support groups, and wellbeing workshops. Trained volunteers and external counselors are available for mental health support and crisis referral.</p>
          <ul>
            <li>Confidential counseling appointments</li>
            <li>Group wellbeing workshops and mindfulness sessions</li>
            <li>Referral to professional services when needed</li>
          </ul>
        </div>
      </section>
    </template>

    <template id="tpl-welfare-health">
      <section class="section container">
        <h2 tabindex="-1">Health &amp; Insurance</h2>
        <div style="max-width:780px">
          <img src="https://images.unsplash.com/photo-1582719478172-1a8b6d5f6f4a?q=80&w=1200&auto=format&fit=crop" alt="Health" style="width:100%;max-height:280px;object-fit:cover;border-radius:8px;margin-bottom:12px"/>
          <p>We coordinate basic health screenings, awareness drives, and guide students on health insurance options. For emergencies, we maintain contacts with nearby clinics and hospitals.</p>
          <ul>
            <li>Periodic health camps and screenings</li>
            <li>Assistance with insurance enrollment and claims</li>
            <li>Information on local healthcare providers</li>
          </ul>
        </div>
      </section>
    </template>

    <template id="tpl-welfare-accommodation">
      <section class="section container">
        <h2 tabindex="-1">Accommodation Support</h2>
        <div style="max-width:780px">
          <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?q=80&w=1200&auto=format&fit=crop" alt="Accommodation" style="width:100%;max-height:280px;object-fit:cover;border-radius:8px;margin-bottom:12px"/>
          <p>Assistance in finding safe and affordable housing, guidance on tenancy agreements, and mediation support for student housing issues. We also keep a listing of vetted hostels and rental options near campus.</p>
          <ul>
            <li>Housing listings and verified contacts</li>
            <li>Advice on tenant rights and leases</li>
            <li>Mediation for roommate or landlord disputes</li>
          </ul>
        </div>
      </section>
    </template>

    <template id="tpl-welfare-career">
      <section class="section container">
        <h2 tabindex="-1">Career &amp; Placement Assistance</h2>
        <div style="max-width:780px">
          <img src="https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?q=80&w=1200&auto=format&fit=crop" alt="Career" style="width:100%;max-height:280px;object-fit:cover;border-radius:8px;margin-bottom:12px"/>
          <p>Support for CV writing, interview preparation, internship matching and employer networking. We run mock interviews, employer panels, and maintain a jobs board for internships and entry-level roles.</p>
          <ul>
            <li>CV &amp; cover letter clinics</li>
            <li>Mock interviews and alumni mentoring</li>
            <li>Job and internship listings curated for students</li>
          </ul>
        </div>
      </section>
    </template>

    <!-- Disclaimer panel template -->
    <template id="tpl-disclaimer">
    <div style="display: flex; gap: 30px; align-items: flex-start; flex-wrap: wrap;">

    <div style="flex: 1 1 55%; min-width: 300px;" class="disclaimer-text">
        <h2 tabindex="-1">Disclaimer</h2>
        <p><strong><h1>Disclaimer: Student Welfare Association (SWA), Umred</h1></strong></p>
        <p>The **Student Welfare Association (SWA), Umred**, is a non-profit, voluntary body dedicated to promoting the general welfare, interests, and academic success of students within Umred.</p>             
        <h4>1. Purpose and Scope</h4>
        <p>The SWA provides support, resources, and organizes activities for the benefit of the student community. This includes, but is not limited to, academic aid, social events, advocacy, and guidance on student-related matters.</p>

        <h4>2. Limitation of Liability</h4>
        <p>The SWA acts in good faith and strives for accuracy in all information and services provided. However:</p>
        <ul>
            <li>**No Guarantee:** The SWA does not guarantee specific outcomes regarding academic success, employment, financial assistance, or the resolution of personal issues. All assistance is offered as support and advice.</li>
            <li>**Voluntary Participation:** Participation in any SWA event, activity, or program is entirely voluntary. Students assume all risks associated with their participation.</li>
            <li>**Third-Party Information:** The SWA may share information, links, or resources from external sources. The SWA is not responsible for the accuracy, content, or policies of these third parties.</li>
            <li>**Personal Responsibility:** Students are ultimately responsible for their own decisions, academic performance, and adherence to the rules and regulations of their respective educational institutions. The SWA cannot intervene or override the disciplinary or administrative decisions of any academic body.</li>
        </ul>

        <h4>3. Privacy and Data</h4>
        <p>Any personal information shared with the SWA will be treated with confidentiality and used solely for the purpose of providing welfare support or managing association activities. The SWA will comply with applicable laws regarding data privacy.</p>

        <h4>4. Changes to Disclaimer</h4>
        <p>The SWA reserves the right to amend or update this disclaimer at any time without prior notice. Continued engagement with the SWA implies acceptance of the current disclaimer.</p>

        <p>In simple terms: The SWA is here to help and support you, but it is not a formal administrative body and cannot guarantee specific results or take responsibility for every decision you make or every external resource it shares.</p>
    </div>

    <div style="flex: 1 1 35%; min-width: 250px;" class="about-image">
       <br>
       <br>
       <br> 
      <img src="./assets/images/Disclmilear.png" alt="SWA Umred Disclaimer" style="width: 100%; height: auto; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);">
    </div>
</div>
      </section>
    </template>

    <!-- Notices & Tenders listing (rendered into page footer area) -->
    <template id="tpl-notices-panel">
      <section class="section container">
        <h2 tabindex="-1">Tenders &amp; Notices</h2>
        <div id="notices-approved" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px"></div>
      </section>
    </template>

    <!-- Panel for adding a tender/notice (secretary auth required) -->
    <template id="tpl-add-notice-panel">
      <section class="section container">
        <h2 tabindex="-1">Upload Notice / Tender </h2>
        <div style="max-width:720px">
          <div id="notice-auth" style="padding:12px;border-radius:8px;background:#021526;margin-bottom:12px;color:#fff">
            <h3 style="margin-top:0">Secretary Authentication Required</h3>
            <p style="color:#ddd;font-size:0.95rem">Enter secretary password to continue.</p>
            <label style="display:block;margin-bottom:8px">Password<br><input id="notice-secret" type="password" style="width:50%" /></label>
            <div style="display:flex;gap:8px"><button id="notice-verify" class="btn btn-primary">Verify</button><button id="notice-cancel" class="btn btn-outline">Cancel</button></div>
          </div>

          <!-- Existing notices (visible after auth) -->
          <div id="notice-existing" style="padding:10px;border-radius:8px;background:#04263a;margin-bottom:12px;color:#fff;display:none">
            <h4 style="margin:0 0 8px">Existing Notices / Tenders</h4>
            <div id="notice-existing-list" style="display:grid;gap:8px;max-height:260px;overflow:auto"></div>
          </div>

          <form id="notice-form" style="padding:12px;border-radius:8px;background:#021526;display:none;color:#fff">
            <label style="display:block;margin-bottom:8px">Tender/Notice Title <br>
            <input name="title" type="text" required style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Description with Approval number<br><textarea name="desc" rows="4" style="width:100%"></textarea></label>
            <input type="hidden" name="type" value="notice" />
            <label style="display:block;margin-bottom:8px">Attach File (optional)<br><input id="notice-file" name="file" type="file" accept="application/pdf,image/*" /></label>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Upload</button><button type="button" id="notice-close" class="btn btn-outline">Close</button></div>
          </form>
        </div>
      </section>
    </template>

    <script>
    // Notices / Tenders client-side handling
    (function(){
      var KEY = 'swa_notices';
      function load(){ try{ var s=localStorage.getItem(KEY); return s?JSON.parse(s):[] }catch(e){return[]} }
      function save(arr){ try{ localStorage.setItem(KEY, JSON.stringify(arr||[])); }catch(e){console.error(e);} }

      function renderNoticeCard(n){
        var card = document.createElement('article'); card.className='card'; card.style.padding='10px'; card.style.background='#0b2540';
  var h = document.createElement('h4'); h.style.margin='0 0 6px';
  var badge = document.createElement('span'); if(n.type && n.type.toLowerCase() === 'tender'){ badge.textContent = 'New'; badge.className = 'notice-type-badge notice-new'; } else { badge.textContent = 'Notice'; badge.className = 'notice-type-badge'; }
  h.textContent = n.title || 'Untitled'; h.appendChild(badge);
        var p = document.createElement('div'); p.textContent = n.desc || ''; p.style.fontSize='0.95rem'; p.style.color='#d1d5db'; p.style.marginTop='6px';
  var meta = document.createElement('div'); meta.style.marginTop='8px'; meta.style.fontSize='0.8rem'; meta.style.color='#93c5fd'; meta.textContent = 'Uploaded: ' + (n.createdAt || '');
  if(n.fileUrl){ var a = document.createElement('a'); a.href = n.fileUrl; a.target='_blank'; a.rel='noopener'; a.style.display='block'; a.style.marginTop='8px'; a.textContent = 'Download attachment'; if(n.fileName) a.download = n.fileName; card.appendChild(a); }
    card.appendChild(h); card.appendChild(p); card.appendChild(meta); return card;
      }

      function refreshFooterList(){
        try{
          var list = document.getElementById('tn-list'); if(!list) return; list.innerHTML = '';
          var arr = load(); if(!arr || !arr.length){ list.innerHTML = '<div style="color:#fff;opacity:0.8">No notices posted.</div>'; return; }
          arr.slice().reverse().forEach(function(n){ var el = document.createElement('div'); el.style.color='#fff'; el.style.fontSize='0.95rem'; el.style.padding='6px';
            var typeText = (n.type && n.type.toLowerCase() === 'tender') ? 'New' : 'Notice';
            var badgeHtml = (n.type && n.type.toLowerCase() === 'tender') ? '<span class="notice-type-badge notice-new">New</span>' : '<span class="notice-type-badge">Notice</span>';
            el.innerHTML = '<strong>'+escapeHtml(n.title||'Untitled')+' '+badgeHtml+'</strong>'+
              '<div style="font-size:0.85rem;color:#cbd5e1">'+(n.createdAt||'')+'</div>'+
              '<div style="margin-top:6px;font-size:0.95rem;color:#d1d5db">'+escapeHtml(n.desc||'')+'</div>';
            if(n.fileUrl){ var a = document.createElement('a'); a.href = n.fileUrl; a.target='_blank'; a.rel='noopener'; a.style.display='inline-block'; a.style.marginTop='6px'; a.style.color='#fff'; a.style.textDecoration='underline'; a.textContent = 'Download'; if(n.fileName) a.download = n.fileName; el.appendChild(a); }
            // delete control intentionally omitted from public list; deletion is available in the Upload panel after secretary auth
            list.appendChild(el); });
        }catch(e){console.error(e)}
      }

      function escapeHtml(s){ if(!s) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

      // open add-notice panel when footer button clicked
      document.addEventListener('click', function(e){
        var btn = e.target.closest && e.target.closest('#btn-show-notice-footer');
        if(btn){ e.preventDefault(); var tpl = document.getElementById('tpl-add-notice-panel'); var panel = document.getElementById('active-panel'); var ph = document.getElementById('panel-content'); if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(initNoticeBindings,50); } return; }
  // note: deletion is handled inside the Upload Notice/Tender panel (notice-delete-panel)
      });

      function initNoticeBindings(){
        var panel = document.getElementById('active-panel'); var ph = document.getElementById('panel-content');
        var auth = document.getElementById('notice-auth'); var verify = document.getElementById('notice-verify'); var cancel = document.getElementById('notice-cancel'); var form = document.getElementById('notice-form'); var closeBtn = document.getElementById('notice-close');
        function closePanel(){ if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); if(ph) ph.innerHTML=''; } }
        if(cancel) cancel.addEventListener('click', closePanel);
        if(closeBtn) closeBtn.addEventListener('click', closePanel);
  if(verify){ verify.addEventListener('click', function(ev){ ev.preventDefault(); var v = document.getElementById('notice-secret').value || ''; if(v.trim() === '123'){ if(auth) auth.style.display='none'; if(form) form.style.display = 'block'; try{ renderExistingNotices(); }catch(e){} } else { showToast && showToast('Incorrect secretary password'); } }); }

        // ensure the visible type select updates the hidden form input
        try{
          var select = document.getElementById('notice-type-select'); var hidden = form && form.querySelector('input[name="type"]');
          if(select && hidden){ select.addEventListener('change', function(){ hidden.value = select.value; }); hidden.value = select.value;
          }
        }catch(e){}

        // After verifying, render existing notices into the panel and wire delete buttons
        function renderExistingNotices(){ try{
          var listContainer = document.getElementById('notice-existing-list'); var wrapper = document.getElementById('notice-existing'); if(!listContainer || !wrapper) return; var arr = load(); listContainer.innerHTML = '';
          if(!arr || !arr.length){ listContainer.innerHTML = '<div style="color:#cbd5e1">No notices posted.</div>'; return; }
          // reverse so newest first
          arr.slice().reverse().forEach(function(n){ var row = document.createElement('div'); row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.padding='6px'; row.style.borderBottom = '1px solid rgba(255,255,255,0.04)'; var left = document.createElement('div'); left.style.flex='1'; left.innerHTML = '<strong style="display:block">'+escapeHtml(n.title||'Untitled')+'</strong><div style="font-size:0.85rem;color:#cbd5e1">'+(n.createdAt||'')+'</div>'; if(n.fileUrl){ var a = document.createElement('a'); a.href = n.fileUrl; a.target='_blank'; a.rel='noopener'; a.style.color='#93c5fd'; a.style.marginRight='8px'; a.textContent = 'Download'; if(n.fileName) a.download = n.fileName; left.appendChild(a); }
            var right = document.createElement('div'); var del = document.createElement('button'); del.className='btn btn-sm btn-outline notice-delete-panel'; del.textContent='Delete'; del.style.background='#7f1d1d'; del.style.color='#fff'; del.dataset.id = n.id; right.appendChild(del);
            row.appendChild(left); row.appendChild(right); listContainer.appendChild(row);
          });
          wrapper.style.display = 'block';
        }catch(e){console.error(e)} }

        // delegate delete clicks inside existing list
        document.addEventListener('click', function(ev){ var dbtn = ev.target.closest && ev.target.closest('.notice-delete-panel'); if(!dbtn) return; ev.preventDefault(); try{ var pass = document.getElementById('notice-secret').value || ''; if((pass||'').trim() !== '123'){ showToast && showToast('Please verify secretary password to delete'); return; } var id = dbtn.dataset && dbtn.dataset.id ? parseInt(dbtn.dataset.id,10) : null; if(!id) return; var arr = load(); var idx = arr.findIndex(function(x){ return x.id === id; }); if(idx === -1){ showToast && showToast('Notice not found'); return; } arr.splice(idx,1); save(arr); // refresh both panel and footer list
            renderExistingNotices(); refreshFooterList(); showToast && showToast('Notice deleted'); }catch(err){ console.error(err); showToast && showToast('Delete failed'); } });

          if(form){ form.addEventListener('submit', function(ev){ ev.preventDefault(); var fm = new FormData(form); var title = (fm.get('title')||'').trim(); if(!title){ showToast && showToast('Title required'); return; } var desc = (fm.get('desc')||'').trim(); var type = (fm.get('type')||'notice'); var file = document.getElementById('notice-file') && document.getElementById('notice-file').files[0];
          function finish(fileUrl, fileName){ var arr = load(); var obj = { id: Date.now(), title: title, desc: desc, type: type || 'notice', fileUrl: fileUrl || '', fileName: fileName || '', createdAt: (new Date()).toLocaleString() }; arr.push(obj); save(arr); refreshFooterList(); showToast && showToast('Notice posted'); form.reset(); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); if(ph) ph.innerHTML=''; } }
          if(file){ var fr = new FileReader(); fr.onload = function(evt){ // We store as dataURL if server not available
                // Ideally POST to server here; fallback to dataURL
                finish(evt.target.result, file.name);
            }; fr.readAsDataURL(file);
          } else { finish('', ''); }
        }); }
        // wire panel close button too
        panel.querySelector('.panel-close') && panel.querySelector('.panel-close').addEventListener('click', function(){ closePanel(); });
      }

      // initial render
      document.addEventListener('DOMContentLoaded', function(){ try{ refreshFooterList(); }catch(e){} });
    })();
    </script>

    <!-- Student Members template -->
    <template id="tpl-student-members">
      <section class="section container">
        <h2 tabindex="-1">Members of Student Welfare Association</h2>
        
        <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px">
          <div><button id="btn-become-member" class="btn btn-primary">Become a Member</button></div>
          <div style="margin-left:auto"><button id="btn-see-pending" class="btn btn-outline">See pending for approval</button></div>
        </div>
        <div id="student-members-wrap">
          <h3>Approved Members</h3>
          <div id="student-approved" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-bottom:18px"></div>
          <div id="student-pending-wrapper" style="margin-top:18px;display:none">
            <h3>Pending Approval</h3>
            <div id="student-pending" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;"></div>
          </div>
        </div>
      </section>
    </template>

    <!-- Become a Member form template -->
    <template id="tpl-become-member">
      <section class="section container">
        <h2 tabindex="-1">Become a Member</h2>
        <div style="max-width:640px">
          <form id="become-member-form" style="padding:12px;border-radius:8px;background:#021526;color:#fff">
            <label style="display:block;margin-bottom:8px">Full name<br><input name="name" type="text" required style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Email<br><input name="email" type="email" required style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Name of College<br><input name="college" type="text" style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Photo (optional)<br><input id="member-photo" name="photo" type="file" accept="image/*" style="width:100%" /></label>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Submit Application</button><button type="button" id="become-member-cancel" class="btn btn-outline">Cancel</button></div>
          </form>
        </div>
      </section>
    </template>

    <script>
    // Student members client-side storage and wiring
    (function(){
      var STORAGE_KEY = 'swa_student_members';
      // whether the pending list has been verified (secretary authenticated)
      var pendingVisible = false;

      function load(){ try{ var s=localStorage.getItem(STORAGE_KEY); return s?JSON.parse(s):[] }catch(e){return[]} }
      function save(arr){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(arr||[])); }catch(e){console.error(e);} }

      function renderCard(m){
        var photo = m.photo || './assets/images/dummy-person.svg';
        var el = document.createElement('article'); el.className='card member-card'; el.style.padding='10px'; el.style.textAlign='center';
        var wrap = document.createElement('div'); wrap.style.height='140px'; wrap.style.display='flex'; wrap.style.alignItems='center'; wrap.style.justifyContent='center'; wrap.style.marginBottom='8px';
        var img = document.createElement('img'); img.style.maxWidth='100%'; img.style.maxHeight='100%'; img.style.borderRadius='8px'; img.style.objectFit='cover'; img.src = photo; img.alt = m.name || ''; img.onerror = function(){ this.onerror=null; this.src='./assets/images/dummy-person.svg'; };
        wrap.appendChild(img);
        var h3 = document.createElement('h3'); h3.style.margin='6px 0 4px'; h3.style.fontSize='1rem'; h3.textContent = m.name || '—';
        var role = document.createElement('div'); role.style.fontSize='0.9rem'; role.style.color='#4b5563'; role.textContent = m.college ? m.college : '';
        var email = document.createElement('div'); email.style.marginTop='6px'; email.style.fontSize='0.85rem'; email.style.color='#334155'; email.textContent = m.email || '';
        el.appendChild(wrap); el.appendChild(h3); el.appendChild(role); el.appendChild(email);
        return el;
      }

      function refreshPanel(){
        var arr = load();
        var approved = arr.filter(function(x){ return !!x.approved; });
        var pending = arr.filter(function(x){ return !x.approved; });
        var appEl = document.getElementById('student-approved');
        var penEl = document.getElementById('student-pending');
        var pendingWrapper = document.getElementById('student-pending-wrapper');
        var countEl = document.getElementById('student-pending-count');
  // hide pending wrapper by default; will be shown only after secretary verifies via the button
  if(pendingWrapper){ if(pendingVisible){ pendingWrapper.style.display = 'block'; } else { pendingWrapper.style.display = 'none'; } }

        // wire the See Pending button once: prompt for secretary password and reveal pending on success
        try{
          var seeBtnLocal = document.getElementById('btn-see-pending');
          if(seeBtnLocal && !seeBtnLocal.dataset.wired){
            seeBtnLocal.dataset.wired = '1';
            seeBtnLocal.addEventListener('click', function(ev){ ev && ev.preventDefault && ev.preventDefault();
              try{
                // if auth UI already present, show it
                var authId = 'student-pending-inline-auth';
                var existing = document.getElementById(authId);
                if(!existing){
                  existing = document.createElement('div');
                  existing.id = authId;
                  existing.style.marginTop = '8px';
                  existing.style.display = 'flex';
                  existing.style.alignItems = 'center';
                  existing.style.gap = '8px';
                  existing.innerHTML = '<input id="student-pending-inline-secret" type="password" placeholder="Secretary password" style="width:180px;padding:6px;border-radius:4px;border:1px solid rgba(255,255,255,0.06)" />';
                  var ver = document.createElement('button'); ver.className='btn btn-primary'; ver.textContent = 'Verify'; ver.style.marginLeft='6px';
                  var cancel = document.createElement('button'); cancel.className='btn btn-outline'; cancel.textContent = 'Cancel'; cancel.style.marginLeft='6px';
                  existing.appendChild(ver); existing.appendChild(cancel);
                  seeBtnLocal.parentNode && seeBtnLocal.parentNode.insertBefore(existing, seeBtnLocal.nextSibling);

          ver.addEventListener('click', function(ev2){ ev2 && ev2.preventDefault && ev2.preventDefault(); var secret = document.getElementById('student-pending-inline-secret'); var v = secret ? (secret.value||'') : ''; if((v||'').trim() !== '123'){ showToast && showToast('Incorrect secretary password'); return; } // success
            // mark pending as visible so refreshPanel doesn't hide it
            pendingVisible = true;
            if(pendingWrapper) pendingWrapper.style.display = 'block'; try{ existing.style.display='none'; seeBtnLocal.style.display='none'; }catch(e){}; refreshPanel(); });

                  cancel.addEventListener('click', function(ev3){ ev3 && ev3.preventDefault && ev3.preventDefault(); try{ existing.style.display='none'; var s = document.getElementById('student-pending-inline-secret'); if(s) s.value=''; }catch(e){} });
                } else {
                  existing.style.display = existing.style.display === 'none' ? 'flex' : 'flex';
                }
              }catch(e){}
            });
          }
        }catch(e){}

        if(appEl){ appEl.innerHTML=''; approved.forEach(function(m){ appEl.appendChild(renderCard(m)); }); }
        if(penEl){ penEl.innerHTML=''; pending.forEach(function(m){
          var card = renderCard(m);
          var actions = document.createElement('div'); actions.style.marginTop='8px'; actions.style.display='flex'; actions.style.justifyContent='center'; actions.style.gap='8px';
          var approveBtn = document.createElement('button'); approveBtn.className='btn btn-sm btn-primary'; approveBtn.textContent='Approve';
          approveBtn.addEventListener('click', function(){ approveMember(m.id); });
          var rejectBtn = document.createElement('button'); rejectBtn.className='btn btn-sm btn-outline'; rejectBtn.textContent='Reject';
          rejectBtn.style.background = '#7f1d1d'; rejectBtn.style.color = '#fff';
          rejectBtn.addEventListener('click', function(){ rejectMember(m.id); });
          actions.appendChild(approveBtn); actions.appendChild(rejectBtn);
          card.appendChild(actions);
          penEl.appendChild(card);
        }); }
        if(countEl) countEl.textContent = pending.length;
      }

      function approveMember(id){
        // Require secretary authentication (password '123') before approving
        var pass = window.prompt('Secretary password required to approve the member:');
        if(pass === null) return; // user cancelled
        if((pass||'').trim() !== '123'){
          showToast && showToast('Incorrect secretary password');
          return;
        }
        var arr = load();
        var idx = arr.findIndex(function(x){ return x.id === id; });
        if(idx === -1) return; arr[idx].approved = true; arr[idx].approvedAt = (new Date()).toISOString();
        // Try server POST to /api/student-members/approve (if available)
        try{
          fetch('/api/student-members/approve', { method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify(arr[idx]) })
            .then(function(res){ if(!res.ok) throw new Error('server'); return res.json(); })
            .then(function(){ save(arr); refreshPanel(); showToast && showToast('Member approved'); })
            .catch(function(){ save(arr); refreshPanel(); showToast && showToast('Member approved (saved locally)'); });
        }catch(e){ save(arr); refreshPanel(); showToast && showToast('Member approved (saved locally)'); }
      }

      function rejectMember(id){
        // Require secretary authentication (password '123') before rejecting
        var pass = window.prompt('Secretary password required to reject the member:');
        if(pass === null) return; // user cancelled
        if((pass||'').trim() !== '123'){
          showToast && showToast('Incorrect secretary password');
          return;
        }
        var arr = load();
        var idx = arr.findIndex(function(x){ return x.id === id; });
        if(idx === -1) return;
        // remove the entry (or mark as rejected)
        var removed = arr.splice(idx,1)[0];
        // Try server POST to /api/student-members/reject (if available)
        try{
          fetch('/api/student-members/reject', { method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify(removed) })
            .then(function(res){ if(!res.ok) throw new Error('server'); return res.json(); })
            .then(function(){ save(arr); refreshPanel(); showToast && showToast('Member rejected'); })
            .catch(function(){ save(arr); refreshPanel(); showToast && showToast('Member rejected (saved locally)'); });
        }catch(e){ save(arr); refreshPanel(); showToast && showToast('Member rejected (saved locally)'); }
      }

      // handle form submit
      function initBecomeBindings(){
        var form = document.getElementById('become-member-form');
        if(!form) return;
        var cancel = document.getElementById('become-member-cancel');
        if(cancel) cancel.addEventListener('click', function(){ var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var ph=document.getElementById('panel-content'); if(ph) ph.innerHTML=''; } });
        form.addEventListener('submit', function(e){ e.preventDefault(); var fm = new FormData(form); var name = (fm.get('name')||'').trim(); if(!name) return showToast && showToast('Name required'); var email = (fm.get('email')||'').trim(); var college = (fm.get('college')||'').trim(); var file = document.getElementById('member-photo') && document.getElementById('member-photo').files[0];
          function finish(dataUrl){ var arr = load(); var id = Date.now() + Math.floor(Math.random()*999); var obj = { id: id, name: name, email: email, college: college, photo: dataUrl || '', approved: false, createdAt: (new Date()).toISOString() };
            // Try server POST
            try{
              fetch('/api/student-members', { method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify(obj) })
                .then(function(res){ if(!res.ok) throw new Error('server'); return res.json(); })
                .then(function(saved){ saved.approved = saved.approved || false; saved._server = true; arr.push(saved); save(arr); showToast && showToast('Application submitted'); var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var ph=document.getElementById('panel-content'); if(ph) ph.innerHTML=''; } refreshPanel(); })
                .catch(function(){ obj._server = false; arr.push(obj); save(arr); showToast && showToast('Application submitted (saved locally)'); var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var ph=document.getElementById('panel-content'); if(ph) ph.innerHTML=''; } refreshPanel(); });
            }catch(e){ obj._server = false; arr.push(obj); save(arr); showToast && showToast('Application saved locally'); var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var ph=document.getElementById('panel-content'); if(ph) ph.innerHTML=''; } refreshPanel(); }
          }
          if(file){ var chk = (function(f){ if(!f) return {ok:false}; if(typeof f.type === 'string' && f.type.indexOf('image/')!==0) return {ok:false}; if(f.size && f.size > 4*1024*1024) return {ok:false}; return {ok:true}; })(file); if(!chk.ok) return showToast && showToast('Invalid photo'); var fr = new FileReader(); fr.onload = function(evt){ finish(evt.target.result); }; fr.readAsDataURL(file); } else { finish('./assets/images/dummy-person.svg'); }
        });
      }

      // Delegation: open student members panel and wire become member button
      document.addEventListener('click', function(e){
        var btn = e.target.closest && e.target.closest('.open-students');
        if(btn){ e.preventDefault(); var tpl = document.getElementById('tpl-student-members'); var panel = document.getElementById('active-panel'); var ph = document.getElementById('panel-content'); if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(function(){ var bm = document.getElementById('btn-become-member'); if(bm) bm.addEventListener('click', function(ev){ ev.preventDefault(); var t = document.getElementById('tpl-become-member'); var ph2 = document.getElementById('panel-content'); if(t && ph2){ ph2.innerHTML = t.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(function(){ initBecomeBindings(); },40); } }); refreshPanel(); },40); }
          return; }

        // footer or other button to open become-member directly (if any)
        var direct = e.target.closest && e.target.closest('#btn-become-member');
        if(direct){ e.preventDefault(); var t = document.getElementById('tpl-become-member'); var panel = document.getElementById('active-panel'); var ph2 = document.getElementById('panel-content'); if(t && ph2){ ph2.innerHTML = t.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); setTimeout(function(){ initBecomeBindings(); },40); } return; }
      });

      // on load, ensure counts accurate if panel present
      document.addEventListener('DOMContentLoaded', function(){ try{ var el = document.getElementById('student-pending-count'); if(el) refreshPanel(); }catch(e){} });
    })();
    </script>

    <!-- Add Photo panel: allows secretary to add images to gallery (saved locally as dataURL) -->
    <template id="tpl-add-photo-panel">
      <section class="section container">
        <h2 tabindex="-1">Add Photo to Gallery</h2>
        <div style="max-width:640px; position:relative;">
          <div id="photo-panel-auth" style="padding:12px;border-radius:8px;background:#021526;margin-bottom:12px;color:#fff">
            <h3 style="margin-top:0">Secretary Authentication Required</h3>
            <p style="color:#ddd;font-size:0.95rem">Enter secretary password to continue.</p>
            <label style="display:block;margin-bottom:8px">Password<br><input id="photo-panel-secret" type="password" style="width:50%" /></label>
            <div style="display:flex;gap:8px"><button id="photo-panel-verify" class="btn btn-primary">Verify</button><button id="photo-panel-cancel" class="btn btn-outline">Cancel</button></div>
          </div>

          <form id="photo-panel-form" style="padding:12px;border-radius:8px;background:#021526;display:none;color:#fff">
            <h3 style="margin-top:0"><center>Add Photo</center></h3>
            <label style="display:block;margin-bottom:8px">Caption (optional)<br><input name="caption" type="text" style="width:80%" /></label>
            <label style="display:block;margin-bottom:8px">Select Photo<br><input id="photo-panel-file" name="photo" type="file" accept="image/*" style="width:100%" /></label>
            <div style="margin:8px 0"><img id="photo-panel-preview" src="./assets/images/dummy.jpg" alt="preview" style="width:180px;height:120px;object-fit:cover;border-radius:6px;border:1px solid rgba(255,255,255,0.06)"/></div>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Add Photo</button><button type="button" id="photo-panel-close" class="btn btn-outline">Close</button></div>
            <!-- Existing photos (secretary can delete) -->
            <hr style="border:none;border-top:1px solid rgba(255,255,255,0.06);margin:12px 0" />
            <h4 style="margin:6px 0 8px;color:#fff">Existing Gallery Photos</h4>
            <div id="photo-panel-existing" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px;margin-top:10px"></div>
          </form>
        </div>
      </section>
    </template>

    <script>
    function initFeedbackBindings(){
      var storageKey = 'swa_feedback';
      function load(){ try{ var s=localStorage.getItem(storageKey); return s?JSON.parse(s):[] }catch(e){return[]} }
      function save(arr){ try{ localStorage.setItem(storageKey, JSON.stringify(arr||[])); }catch(e){console.error(e);} }
      var form = document.getElementById('feedback-form');
      var list = document.getElementById('feedback-list');
  var closeBtn = document.getElementById('feedback-close');
      var authBlock = document.getElementById('feedback-auth');
      var verifyBtn = document.getElementById('feedback-verify');
      var cancelAuth = document.getElementById('feedback-cancel');
  var seeBtn = document.getElementById('btn-see-feedback');

      // render only populates the feedback-list element; list is kept hidden until secretary auth
      function render(){ if(!list) return; list.innerHTML=''; var arr=load(); arr.slice().reverse().forEach(function(f){ var el=document.createElement('div'); el.className='card'; el.style.padding='8px'; el.innerHTML='<strong>'+(f.name||'Anonymous')+'</strong> <span style="color:#777;font-size:0.85rem">'+(f.email?('&lt;'+f.email+'&gt;'):'')+'</span><div style="margin-top:6px">'+(f.feedback||'')+'</div>'; list.appendChild(el); }); }

  function showFeedbackList(){ if(!list) return; list.style.display = 'grid'; try{ render(); }catch(e){} }

  // helper to close the current active panel and clear its content
  function closeActivePanel(){ var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var content=document.getElementById('panel-content'); if(content) content.innerHTML=''; } }

      if(seeBtn){ seeBtn.addEventListener('click', function(ev){ ev.preventDefault(); if(authBlock) authBlock.style.display = 'block'; if(seebelow){} }); }
      if(verifyBtn){ verifyBtn.addEventListener('click', function(ev){ ev.preventDefault(); var v = (document.getElementById('feedback-secret')||{}).value || ''; if((v||'').trim() === '123'){ if(authBlock) authBlock.style.display = 'none'; showFeedbackList(); try{ showToast && showToast('Secretary verified — showing feedback'); }catch(e){} } else { showToast && showToast && showToast('Incorrect secretary password'); } }); }
      if(cancelAuth){ cancelAuth.addEventListener('click', function(ev){ ev && ev.preventDefault && ev.preventDefault(); // hide auth block only
        try{ if(authBlock) authBlock.style.display = 'none'; var inp = document.getElementById('feedback-secret'); if(inp) inp.value = ''; }catch(e){}
      }); }

      if(form){ form.addEventListener('submit', function(e){
        e.preventDefault();
        var fm=new FormData(form);
        var obj={ name:(fm.get('name')||'').trim(), email:(fm.get('email')||'').trim(), feedback:(fm.get('feedback')||'').trim(), createdAt:(new Date()).toISOString() };
        if(!obj.feedback){ alert('Please enter feedback'); return; }

        // Try server-first: POST to /api/feedback
        function saveLocal(){ var arr=load(); arr.push(obj); save(arr); // only render if the list is visible (i.e. secretary verified)
          if(list && list.style.display !== 'none'){ try{ render(); }catch(e){} }
          form.reset(); try{ showToast && showToast('Feedback saved — thank you'); }catch(e){}
          // close panel after saving locally
          try{ setTimeout(function(){ closeActivePanel(); }, 800); }catch(e){}
        }

        try{
          fetch('/api/feedback', { method: 'POST', headers: { 'Content-Type':'application/json' }, body: JSON.stringify(obj) })
            .then(function(res){ if(!res.ok) throw new Error('server error'); return res.json(); })
            .then(function(saved){
              try{ showToast && showToast('Your feedback is recorded successfully. We will certainly follow your advice.'); }catch(e){}
              // close the panel after a short delay (match local fallback)
              try{ setTimeout(function(){ closeActivePanel(); }, 800); }catch(e){}
              // reload list only if secretary already verified
              if(list && list.style.display !== 'none'){ try{ render(); }catch(e){} }
            })
            .catch(function(err){
              console.warn('Feedback POST failed, saving locally', err);
              saveLocal();
            });
        }catch(e){ console.warn('Feedback submit error',e); saveLocal(); }
      }); }

      if(closeBtn){ closeBtn.addEventListener('click', function(){ var panel=document.getElementById('active-panel'); if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); var ph=document.getElementById('panel-content'); if(ph) ph.innerHTML=''; } }); }

      // ensure feedback list starts hidden until auth; authBlock hidden by default and shown on "See Feedback"
      if(list){ list.style.display = 'none'; }
      if(authBlock){ authBlock.style.display = 'none'; }
    }
    </script>

    <!-- Feedback panel template -->
    <template id="tpl-feedback-panel">
      <section class="section container">
        <h2 tabindex="-1">Feedback</h2>
        <div style="max-width:720px">
          <div style="margin-bottom:10px;display:flex;gap:8px;align-items:center">
            <button id="btn-see-feedback" class="btn btn-outline">See Feedback</button>
            <small style="color:#bbb">(Secretary authentication required to view Feedback)</small>
          </div>
          <div id="feedback-auth" style="padding:12px;border-radius:8px;background:#021526;margin-bottom:12px;color:#fff">
            <h3 style="margin-top:0">Secretary Authentication to View Feedback</h3>
            <p style="color:#ddd;font-size:0.95rem">Enter secretary password to view submitted feedback entries.</p>
            <label style="display:block;margin-bottom:8px">Password<br><input id="feedback-secret" type="password" style="width:50%" /></label>
            <div style="display:flex;gap:8px"><button id="feedback-verify" class="btn btn-primary">Verify</button><button id="feedback-cancel" class="btn btn-outline">Close</button></div>
          </div>
          <form id="feedback-form" style="padding:12px;border-radius:8px;background:#021526;color:#fff">
            <label style="display:block;margin-bottom:8px">Your name (optional)<br><input name="name" type="text" style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Email (optional)<br><input name="email" type="email" style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Feedback<br><textarea name="feedback" rows="6" required style="width:100%"></textarea></label>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Send Feedback</button><button type="button" id="feedback-close" class="btn btn-outline">Close</button></div>
          </form>
          <div id="feedback-list" style="margin-top:12px;display:grid;gap:8px">
            <!-- stored feedback will render here -->
          </div>
        </div>
      </section>
    </template>

    <!-- Add-in-panel template: opens in the main active panel and requires secretary auth -->
    <template id="tpl-add-panel">
      <section class="section container">
        <h2 tabindex="-1"> Add Life Member</h2>
        <div style="max-width:640px; position:relative;">
          <!-- Floating preview at upper-right corner -->
          <img id="panel-photo-preview" src="./assets/images/dummy.jpg" alt="Preview" style="position:absolute;top:12px;right:12px;width:150px;height:150px;object-fit:cover;border-radius:8px;border:1px solid rgba(255,255,255,0.06);z-index:10" />
          <div id="add-panel-auth" style="padding:12px;border-radius:8px;background:#021526;margin-bottom:12px;color:#fff">
            <h3 style="margin-top:0">Secretary Authentication Required</h3>
            <p style="color:#ddd;font-size:0.95rem">Enter secretary password to continue.</p>
            <label style="display:block;margin-bottom:8px">Password<br><input id="panel-secret" type="password" style="width:50%" /></label>
            <div style="display:flex;gap:8px"><button id="panel-verify" class="btn btn-primary">Verify</button><button id="panel-cancel-auth" class="btn btn-outline">Cancel</button></div>
          </div>

          <form id="panel-add-form" style="padding:12px;border-radius:8px;background:#021526;display:none;color:#fff">
            <h3 style="margin-top:0"><center>Add Life Member</center></h3>
            <label style="display:block;margin-bottom:8px">Full name<br><input name="name" type="text" required style="width:50%" /></label>
            <label style="display:block;margin-bottom:8px">Email<br><input name="email" type="email" style="width:50%" /></label>
            <label style="display:block;margin-bottom:8px">Select Photo<br><input id="panel-photo" name="photo" type="file" accept="image/*" style="width:100%" /></label>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Add Member</button><button type="button" id="panel-close-btn" class="btn btn-outline">Close</button></div>
          </form>

          <style>
            /* Panel added list: 4 columns desktop, 2 columns medium, 1 column small */
            #panel-added-list { margin-top:12px; display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
            @media (max-width: 900px) { #panel-added-list { grid-template-columns: repeat(2, 1fr); } }
            @media (max-width: 480px) { #panel-added-list { grid-template-columns: repeat(1, 1fr); } }
          </style>
          <div id="panel-added-list">
            <!-- newly added members will appear here -->
          </div>
          <style>
            /* Panel added list: 4 columns desktop, 2 columns medium, 1 column small */
            #panel-added-list { margin-top:12px; display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
            @media (max-width: 900px) { #panel-added-list { grid-template-columns: repeat(2, 1fr); } }
            @media (max-width: 480px) { #panel-added-list { grid-template-columns: repeat(1, 1fr); } }
            .member-badge{display:inline-block;padding:2px 6px;border-radius:4px;font-size:0.7rem;margin-left:8px}
            .member-badge.server{background:#15803d;color:#fff}
            .member-badge.local{background:#334155;color:#fff}
          </style>
          <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
            <div id="panel-status" style="color:#fff;font-weight:600">Status: <span id="panel-status-value">Unknown</span></div>
            <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
              <button id="panel-export" class="btn btn-outline">Export</button>
              <input id="panel-import-file" type="file" accept="application/json" style="display:none" />
              <button id="panel-import" class="btn btn-outline">Import</button>
            </div>
          </div>
          <div id="panel-added-list">
            <!-- newly added members will appear here -->
          </div>
        </div>
      </section>
    </template>

    <!-- Individual annual report templates (placeholders) -->
    <template id="report-2015-16">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2015-16</h2>
        <p class="muted">Summary, highlights and downloadable file:</p>
        <p><a href="assets/reports/2015-16.pdf" target="_blank" rel="noopener">Download PDF — 2015-16</a></p>
      </section>
    </template>

    <template id="report-2016-17">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2016-17</h2>
        <p><a href="assets/reports/2016-17.pdf" target="_blank" rel="noopener">Download PDF — 2016-17</a></p>
      </section>
    </template>

    <template id="report-2017-18">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2017-18</h2>
        <p><a href="assets/reports/2017-18.pdf" target="_blank" rel="noopener">Download PDF — 2017-18</a></p>
      </section>
    </template>

    <template id="report-2018-19">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2018-19</h2>
        <p><a href="./assets/images/Reports/Anual Report 18-19.pdf" target="_blank" rel="noopener">Download PDF — 2018-19</a></p>
      </section>
    </template>

    <template id="report-2019-20">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2019-20</h2>
        <p><a href="./assets/images/Reports/Anual Report 19-20.pdf" target="_blank" rel="noopener">Download PDF — 2019-20</a></p>
      </section>
    </template>

    <template id="report-2020-21">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2020-21</h2>
        <p><a href="assets/reports/2020-21.pdf" target="_blank" rel="noopener">Download PDF — 2020-21</a></p>
      </section>
    </template>

    <template id="report-2021-22">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2021-22</h2>
        <p><a href="assets/reports/2021-22.pdf" target="_blank" rel="noopener">Download PDF — 2021-22</a></p>
      </section>
    </template>

    <template id="report-2022-23">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2022-23</h2>
        <p><a href="assets/reports/2022-23.pdf" target="_blank" rel="noopener">Download PDF — 2022-23</a></p>
      </section>
    </template>

    <template id="report-2023-24">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2023-24</h2>
        <p><a href="assets/reports/2023-24.pdf" target="_blank" rel="noopener">Download PDF — 2023-24</a></p>
      </section>
    </template>

    <template id="report-2024-25">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2024-25</h2>
        <p><a href="assets/reports/2024-25.pdf" target="_blank" rel="noopener">Download PDF — 2024-25</a></p>
      </section>
    </template>

    <template id="report-2025-26">
      <section class="section container">
        <h2 tabindex="-1">Annual Report — Session 2025-26</h2>
        <p><a href="assets/reports/2025-26.pdf" target="_blank" rel="noopener">Download PDF — 2025-26</a></p>
      </section>
    </template>

    <!-- Life Members template: injected into #panel-content -->
    <template id="tpl-life-members">
      <section class="section container">
        <h2 tabindex="-1">Life Members of Student Welfare Association</h2>
        <p class="lead muted">Below is the list of life members (photos, names, designation and email). Click any card for more details.</p>
          <div style="margin-bottom:12px">
          <!-- Newly added members (appears at top when an admin adds a member) -->
          <div id="new-members" style="margin-bottom:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px">
            <!-- new member cards will be prepended here -->
          </div>
          <div style="display:flex;gap:12px;align-items:center;margin-bottom:8px">
            <!-- Add button moved to footer -->
            <div id="add-form-placeholder" style="flex:1"></div>
          </div>
          <div class="members-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;">
            <!-- Member cards generated by JS -->
          </div>
        </div>
      </section>
    </template>

    <script>
    // Secretary auth and inline add-form injection for life-members panel
    (function(){
      document.addEventListener('click', function(e){
  var btn = e.target.closest && (e.target.closest('#btn-show-add') || e.target.closest('#btn-show-add-footer'));
  var feedbackLink = e.target.closest && e.target.closest('#footer-feedback-link');
  if(btn){
          e.preventDefault();
          // inject the add-panel template into the active panel
          var tpl = document.getElementById('tpl-add-panel');
          var panel = document.getElementById('active-panel');
          var ph = document.getElementById('panel-content');
          if(tpl && ph){
            ph.innerHTML = tpl.innerHTML;
            panel.classList.remove('hidden'); panel.setAttribute('aria-hidden','false');
          }
          try{ initAddPanelBindings(); }catch(err){console.error(err)}
          return;
        }

  var photoBtn = e.target.closest && e.target.closest('#btn-show-photo-footer');
  if(photoBtn){
    e.preventDefault();
    var tpl = document.getElementById('tpl-add-photo-panel');
    var panel = document.getElementById('active-panel');
    var ph = document.getElementById('panel-content');
    if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.remove('hidden'); panel.setAttribute('aria-hidden','false'); }
    // bind photo panel after a short delay
    setTimeout(function(){ try{ initAddPhotoPanelBindings(); }catch(e){console.error(e)} },50);
    return;
  }

  if(feedbackLink){
    e.preventDefault();
    var tpl = document.getElementById('tpl-feedback-panel');
    var panel = document.getElementById('active-panel');
    var ph = document.getElementById('panel-content');
    if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.remove('hidden'); panel.setAttribute('aria-hidden','false'); }
    // bind feedback form after a short delay
    setTimeout(function(){ try{ initFeedbackBindings(); }catch(e){console.error(e)} },50);
    return;
  }

        // import button removed; only handle show-add below

        var verify = e.target.closest && e.target.closest('#secretary-verify');
        if(verify){
          e.preventDefault();
          var pass = document.getElementById('secretary-pass');
          var value = pass && pass.value ? pass.value.trim() : '';
          if(value === '9423403193'){
            var auth = document.getElementById('secretary-auth');
            var action = auth && auth.dataset && auth.dataset.action ? auth.dataset.action : 'add';
            // import action removed
            // default: inject add form template into placeholder
            var tpl = document.getElementById('tpl-add-life');
            var ph = document.getElementById('add-form-placeholder');
            if(tpl && ph){ ph.innerHTML = tpl.innerHTML; }
            // hide auth UI
            if(auth) auth.style.display = 'none';
            // initialize bindings for the injected form
            try{ initPanelBindings(); }catch(e){}
            return;
          } else {
            try{ showToast && showToast('Incorrect secretary password'); }catch(e){ console.log('Incorrect secretary password'); }
          }
        }
      });
    })();
    </script>

    <script>
    // Add-panel bindings: auth + add member handling
    function initAddPanelBindings(){
      var DUMMY = './assets/images/dummy-person.svg';
      var panel = document.getElementById('active-panel');
      var ph = document.getElementById('panel-content');

  function closePanel(){ if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); ph.innerHTML=''; } }

      var verifyBtn = document.getElementById('panel-verify');
      var cancelAuth = document.getElementById('panel-cancel-auth');
      var secretInput = document.getElementById('panel-secret');
      var addForm = document.getElementById('panel-add-form');
      var closeBtn = document.getElementById('panel-close-btn');
      var addedList = document.getElementById('panel-added-list');

      if(cancelAuth){ cancelAuth.addEventListener('click', function(){ closePanel(); }); }
      if(closeBtn){ closeBtn.addEventListener('click', function(){ closePanel(); }); }

      if(verifyBtn){ verifyBtn.addEventListener('click', function(e){
        e.preventDefault();
        var v = secretInput && secretInput.value ? secretInput.value.trim() : '';
        if(v === '123'){
          // show form and hide auth block
          var auth = document.getElementById('add-panel-auth');
          if(auth) auth.style.display = 'none';
          if(addForm) addForm.style.display = 'block';
          // ensure preview shows dummy initially
          try{ var preview = document.getElementById('panel-photo-preview'); if(preview) preview.src = DUMMY; }catch(e){}
          // try to load from server, fallback to localStorage
            fetch('/api/members')
            .then(function(r){ if(!r.ok) throw new Error('no-server'); return r.json(); })
            .then(function(json){
              // render server members
              if(addedList){ addedList.innerHTML = ''; json.forEach(function(m){ addedList.appendChild(renderMemberCard(m)); }); }
              // cache locally
              try{ saveStored(json); }catch(e){}
            }).catch(function(){
              // fallback
              try{ renderStoredInto(addedList); }catch(e){console.error(e)}
            });
        } else {
          showToast && showToast('Incorrect secretary password');
        }
      }); }

      function readFileAsDataURL(file, cb){
        if(!file) return cb(null);
        var fr = new FileReader();
        fr.onload = function(){ cb(fr.result); };
        fr.onerror = function(){ cb(null); };
        fr.readAsDataURL(file);
      }

      function loadStored(){
        try{ var s = localStorage.getItem('swa_life_members'); return s ? JSON.parse(s) : []; }catch(e){ return []; }
      }
      function saveStored(arr){ try{ localStorage.setItem('swa_life_members', JSON.stringify(arr||[])); }catch(e){ console.error(e); } }

      function renderMemberCard(member){
        var img = member.photo || DUMMY;
        var el = document.createElement('figure'); el.className='officer-card';
        var badge = member._server ? '<span class="member-badge server">Server</span>' : '<span class="member-badge local">Local</span>';
        el.innerHTML = '<img src="'+img+'" alt="Member" class="officer-portrait"/>'+
          '<figcaption><div class="officer-info"><h3 class="officer-name">'+escapeHtml(member.name||'')+badge+'</h3><p class="officer-role">'+escapeHtml(member.role||'Life Member')+'</p><p class="small">Student Welfare Association <br> <a href="mailto:'+encodeURIComponent(member.email||'')+'">'+escapeHtml(member.email||'')+'</a></p></div></figcaption>'
          + '<div style="margin-top:8px;text-align:center"><button type="button" class="btn btn-sm btn-outline panel-member-delete" data-id="'+escapeHtml(member.id||'')+'" style="background:#7f1d1d;color:#fff">Delete</button></div>';
        return el;
      }

      function renderStoredInto(container){ if(!container) return; container.innerHTML=''; var arr = loadStored(); arr.forEach(function(m){ container.appendChild(renderMemberCard(m)); }); }

      function escapeHtml(s){ if(!s) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

      if(addForm){
        // wire photo preview
        var photoInput = document.getElementById('panel-photo');
        var photoPreview = document.getElementById('panel-photo-preview');
        if(photoInput && photoPreview){
          photoInput.addEventListener('change', function(){
            var f = photoInput.files && photoInput.files[0];
            if(!f){ photoPreview.src = DUMMY; return; }
            var fr = new FileReader(); fr.onload = function(evt){ photoPreview.src = evt.target.result; }; fr.readAsDataURL(f);
          });
        }
        addForm.addEventListener('submit', function(ev){
          ev.preventDefault();
          var fm = new FormData(addForm);
          var name = (fm.get('name') || '').trim();
          if(!name){ showToast && showToast('Name is required'); return; }
          var email = (fm.get('email') || '').trim();
          var file = document.getElementById('panel-photo') && document.getElementById('panel-photo').files[0];
          readFileAsDataURL(file, function(dataUrl){
            var member = { name: name, email: email, role: 'Life Member', photo: dataUrl || DUMMY };
            // try POST to server
            fetch('/api/members', {
              method: 'POST', headers: { 'Content-Type':'application/json' },
              body: JSON.stringify(member)
            }).then(function(r){ if(!r.ok) throw new Error('post-failed'); return r.json(); })
            .then(function(saved){
              // render and cache (mark as server)
              saved._server = true;
              if(addedList) addedList.insertBefore(renderMemberCard(saved), addedList.firstChild);
              var arr = loadStored(); arr.push(saved); saveStored(arr);
              var statusVal = document.getElementById('panel-status-value'); if(statusVal) statusVal.textContent = 'Saved on server';
              showToast && showToast('Member added and saved on server');
              addForm.reset();
              try{ // also update life members list in tpl-life-members if present
                var nm = document.getElementById('new-members'); if(nm){ nm.insertAdjacentHTML('afterbegin', '<article class="card member-card" style="padding:10px;text-align:center;">' + '<div style="height:140px;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">' + '<img src="'+(saved.photo||DUMMY)+'" alt="'+(saved.name||'')+'" style="max-width:100%;max-height:100%;border-radius:8px;object-fit:cover;"/>' + '</div><h3 style="margin:6px 0 4px;font-size:1rem">'+(saved.name||'')+'</h3><div style="font-size:0.9rem;color:#4b5563">'+(saved.role||'')+'</div><div style="margin-top:6px;font-size:0.85rem;color:#334155">'+(saved.email||'')+'</div></article>' ); }
              }catch(e){}
            }).catch(function(){
              // fallback to local-only save
              var arr = loadStored();
              member._server = false;
              // ensure a unique id so delete can find this record
              if(!member.id){ try{ member.id = Date.now() + Math.floor(Math.random()*99999); }catch(e){ member.id = String(Math.random()).slice(2,10); } }
              arr.push(member); saveStored(arr);
              if(addedList) addedList.insertBefore(renderMemberCard(member), addedList.firstChild);
              var statusVal = document.getElementById('panel-status-value'); if(statusVal) statusVal.textContent = 'Saved locally';
              showToast && showToast('Member saved locally (server unavailable)');
              addForm.reset();
            });
          });
        });
      }

      // delegate delete clicks for members inside this panel
      document.addEventListener('click', function(ev){
  var del = ev.target.closest && ev.target.closest('.panel-member-delete');
  console.log('panel-member-delete clicked', !!del, del && del.dataset && del.dataset.id);
        if(!del) return;
        ev.preventDefault();
        try{
          var id = del.dataset && del.dataset.id ? String(del.dataset.id) : null;
          if(!id) return;
          // show inline modal to authenticate secretary for this delete
          (function showDeleteAuth(){
            // create overlay
            var overlay = document.createElement('div'); overlay.className = 'delete-auth-overlay';
            overlay.style.position = 'fixed'; overlay.style.left = 0; overlay.style.top = 0; overlay.style.right = 0; overlay.style.bottom = 0; overlay.style.background = 'rgba(0,0,0,0.45)'; overlay.style.display = 'flex'; overlay.style.alignItems = 'center'; overlay.style.justifyContent = 'center'; overlay.style.zIndex = 9999;
            var box = document.createElement('div'); box.style.background = '#fff'; box.style.color = '#111'; box.style.padding = '18px'; box.style.borderRadius = '8px'; box.style.width = '320px'; box.style.maxWidth = '92%'; box.style.boxShadow = '0 6px 24px rgba(0,0,0,0.25)';
            var title = document.createElement('div'); title.textContent = 'Secretary authentication required'; title.style.fontWeight = '600'; title.style.marginBottom = '8px';
            var info = document.createElement('div'); info.textContent = 'Enter secretary password to confirm deletion.'; info.style.fontSize = '0.95rem'; info.style.color = '#333'; info.style.marginBottom = '12px';
            var input = document.createElement('input'); input.type = 'password'; input.id = 'delete-member-secret'; input.placeholder = 'Secretary password'; input.style.width = '100%'; input.style.padding = '8px'; input.style.marginBottom = '12px'; input.style.border = '1px solid rgba(0,0,0,0.12)'; input.style.borderRadius = '4px';
            var row = document.createElement('div'); row.style.display = 'flex'; row.style.justifyContent = 'flex-end'; row.style.gap = '8px';
            var btnCancel = document.createElement('button'); btnCancel.className = 'btn btn-outline'; btnCancel.textContent = 'Cancel';
            var btnVerify = document.createElement('button'); btnVerify.className = 'btn btn-primary'; btnVerify.textContent = 'Verify';
            row.appendChild(btnCancel); row.appendChild(btnVerify);
            box.appendChild(title); box.appendChild(info); box.appendChild(input); box.appendChild(row); overlay.appendChild(box); document.body.appendChild(overlay);
            input.focus();

            function cleanup(){ try{ overlay.remove(); }catch(e){} }

            btnCancel.addEventListener('click', function(){ cleanup(); });
            btnVerify.addEventListener('click', function(){ var val = (input.value||'').trim(); if(val !== '123'){ showToast && showToast('Incorrect secretary password'); input.value = ''; input.focus(); return; } // proceed with deletion
              try{
                var arr = loadStored() || [];
                var idx = arr.findIndex(function(m){ return String(m.id) === String(id); });
                if(idx === -1){ cleanup(); showToast && showToast('Member not found'); return; }
                var removed = arr.splice(idx,1)[0];
                // try server-side delete, fallback to local save
                try{
                  fetch('/api/life-members/delete', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ id: removed.id }) })
                    .then(function(res){ if(!res.ok) throw new Error('server'); return res.json(); })
                    .then(function(){ saveStored(arr); renderStoredInto(addedList); cleanup(); showToast && showToast('Member deleted'); })
                    .catch(function(){ saveStored(arr); renderStoredInto(addedList); cleanup(); showToast && showToast('Member deleted (saved locally)'); });
                }catch(e){ saveStored(arr); renderStoredInto(addedList); cleanup(); showToast && showToast('Member deleted (saved locally)'); }
              }catch(err){ console.error('delete member failed', err); cleanup(); showToast && showToast('Delete failed'); }
            });

            // allow Enter to verify
            input.addEventListener('keydown', function(ev2){ if(ev2.key === 'Enter'){ ev2.preventDefault(); btnVerify.click(); } });
          })();
        }catch(err){ console.error('delete member failed', err); showToast && showToast('Delete failed'); }
      });
      // export/import handlers
      var exportBtn = document.getElementById('panel-export');
      var importBtn = document.getElementById('panel-import');
      var importFile = document.getElementById('panel-import-file');
      if(exportBtn){ exportBtn.addEventListener('click', function(){
        var arr = loadStored() || [];
        var blob = new Blob([JSON.stringify(arr, null, 2)], { type: 'application/json' });
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a'); a.href = url; a.download = 'swa-life-members.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      }); }
      if(importBtn && importFile){ importBtn.addEventListener('click', function(){ importFile.click(); });
        importFile.addEventListener('change', function(){
          var f = importFile.files && importFile.files[0]; if(!f) return; var r = new FileReader(); r.onload = function(){ try{ var j = JSON.parse(r.result || '[]'); if(Array.isArray(j)){ var cur = loadStored(); var merged = cur.concat(j); saveStored(merged); if(addedList){ addedList.innerHTML=''; merged.forEach(function(m){ addedList.appendChild(renderMemberCard(m)); }); } showToast && showToast('Imported members'); } }catch(e){ showToast && showToast('Import failed: invalid JSON'); } }; r.readAsText(f);
        }); }

      // close panel when clicking outside or on close button already wired
      panel.querySelector('.panel-close') && panel.querySelector('.panel-close').addEventListener('click', closePanel);
    }
    </script>

    <script>
    // Photo panel bindings: secretary auth + local gallery upload
    function initAddPhotoPanelBindings(){
      var panel = document.getElementById('active-panel');
      var ph = document.getElementById('panel-content');
      var authBlock = document.getElementById('photo-panel-auth');
      var verifyBtn = document.getElementById('photo-panel-verify');
      var cancelBtn = document.getElementById('photo-panel-cancel');
      var secretInput = document.getElementById('photo-panel-secret');
      var form = document.getElementById('photo-panel-form');
      var fileInput = document.getElementById('photo-panel-file');
      var preview = document.getElementById('photo-panel-preview');
      var closeBtn = document.getElementById('photo-panel-close');

  function closePanel(){ if(panel){ panel.classList.remove('show'); panel.setAttribute('aria-hidden','true'); if(ph) ph.innerHTML = ''; } }
      if(cancelBtn) cancelBtn.addEventListener('click', function(){ closePanel(); });
      if(closeBtn) closeBtn.addEventListener('click', function(){ closePanel(); });

      if(verifyBtn){ verifyBtn.addEventListener('click', function(e){ e.preventDefault(); var v = secretInput && secretInput.value ? secretInput.value.trim() : ''; if(v === '123'){ if(authBlock) authBlock.style.display = 'none'; if(form) form.style.display = 'block'; if(preview) preview.src = './assets/images/dummy.jpg'; } else { showToast && showToast('Incorrect secretary password'); } }); }

      if(fileInput && preview){ fileInput.addEventListener('change', function(){ var f = fileInput.files && fileInput.files[0]; if(!f){ preview.src = './assets/images/dummy.jpg'; return; } var fr = new FileReader(); fr.onload = function(evt){ preview.src = evt.target.result; }; fr.readAsDataURL(f); }); }

      function loadGallery(){ try{ var s = localStorage.getItem('swa_gallery_photos'); return s ? JSON.parse(s) : []; }catch(e){ return []; } }
      function saveGallery(arr){ try{ localStorage.setItem('swa_gallery_photos', JSON.stringify(arr||[])); }catch(e){} }

      // Insert new uploaded photo at the start so newest photos appear first
      function appendToGallery(src, caption){ try{ var scroller = document.querySelector('.gallery-scroller'); if(!scroller) return; var figure = document.createElement('figure'); var img = document.createElement('img'); img.loading='lazy'; img.decoding='async'; img.src = src; img.alt = caption || ''; figure.appendChild(img); // prepend so newest uploaded items show first
        if(scroller.firstChild) scroller.insertBefore(figure, scroller.firstChild); else scroller.appendChild(figure);
      }catch(e){ console.error('appendToGallery', e); } }

      if(form){ form.addEventListener('submit', function(ev){ ev.preventDefault(); var fm = new FormData(form); var caption = (fm.get('caption')||'').trim(); var f = fileInput && fileInput.files && fileInput.files[0]; if(!f){ showToast && showToast('Please select a photo'); return; }
          // validate file before reading
          try{
            var check = (function(file){ var ok=true; if(!file) return {ok:false,reason:'no-file'}; if(typeof file.type === 'string' && file.type.indexOf('image/')!==0) return {ok:false,reason:'invalid-type'}; if(file.size && file.size > 4*1024*1024) return {ok:false,reason:'too-large'}; return {ok:true}; })(f);
            if(!check.ok){ if(check.reason==='invalid-type') return void(showToast && showToast('Please select an image file.')); if(check.reason==='too-large') return void(showToast && showToast('Photo too large. Max 4 MB.')); }
          }catch(e){ console.warn('file validation failed', e); }

          var fr = new FileReader();
          fr.onload = function(evt){
            var dataUrl = evt.target.result;
            // Try server upload first
            (function tryUpload(){
              try{
                fetch('/api/upload', { method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify({ filename: f.name, dataUrl: dataUrl, caption: caption }) })
                .then(function(resp){ if(!resp.ok) throw resp; return resp.json(); })
                .then(function(json){ if(json && json.ok && json.url){
                    // Save minimal record locally so we can render quickly and also known server copy exists
                    try{ var arr = loadGallery(); arr.unshift({ id: Date.now(), caption: caption, src: json.url, createdAt: (new Date()).toISOString(), server: true }); saveGallery(arr); }catch(e){}
                    appendToGallery(json.url, caption);
                    showToast && showToast('Photo uploaded and saved to gallery');
                    form.reset(); if(preview) preview.src = './assets/images/dummy.jpg';
                  } else {
                    throw new Error('upload failed');
                  } })
                .catch(function(err){
                  // fallback: save data URL locally
                  console.warn('Upload failed, falling back to local save', err);
                  try{ var arr = loadGallery(); var item = { id: Date.now(), caption: caption, src: dataUrl, createdAt: (new Date()).toISOString() }; arr.unshift(item); saveGallery(arr); appendToGallery(dataUrl, caption); showToast && showToast('Photo added to gallery (saved locally)'); form.reset(); if(preview) preview.src = './assets/images/dummy.jpg'; }catch(e){ console.error('fallback save failed', e); }
                });
              }catch(e){
                console.warn('upload try error', e);
                // fallback
                try{ var arr = loadGallery(); var item = { id: Date.now(), caption: caption, src: dataUrl, createdAt: (new Date()).toISOString() }; arr.unshift(item); saveGallery(arr); appendToGallery(dataUrl, caption); showToast && showToast('Photo added to gallery (saved locally)'); form.reset(); if(preview) preview.src = './assets/images/dummy.jpg'; }catch(e){ console.error('fallback save failed', e); }
              }
            })();
          };
          fr.readAsDataURL(f);
      }); }
      
      // render existing gallery into the panel with delete buttons (secretary-only)
      function renderExistingInPanel(){ try{
        var container = document.getElementById('photo-panel-existing'); if(!container) return; container.innerHTML = '';
        var arr = loadGallery() || [];
        if(!arr.length){ container.innerHTML = '<p class="muted" style="color:#ddd">No photos stored locally yet.</p>'; return; }
        arr.forEach(function(item){ try{
          var card = document.createElement('div'); card.style.display='flex'; card.style.flexDirection='column'; card.style.alignItems='stretch'; card.style.background='rgba(255,255,255,0.02)'; card.style.padding='6px'; card.style.borderRadius='6px';
          var img = document.createElement('img'); img.src = item.src || ''; img.alt = item.caption || ''; img.style.width='100%'; img.style.height='86px'; img.style.objectFit='cover'; img.style.borderRadius='4px'; img.loading='lazy'; img.decoding='async';
          var cap = document.createElement('div'); cap.textContent = item.caption || '' ; cap.style.fontSize='0.85rem'; cap.style.color='#ddd'; cap.style.margin='6px 0 4px'; cap.style.minHeight='24px';
          var btnRow = document.createElement('div'); btnRow.style.display='flex'; btnRow.style.justifyContent='space-between';
          var del = document.createElement('button'); del.className='btn btn-outline photo-delete'; del.textContent='Delete'; del.style.fontSize='0.8rem'; del.dataset.src = item.src || '';
          btnRow.appendChild(del);
          card.appendChild(img); card.appendChild(cap); card.appendChild(btnRow);
          container.appendChild(card);
        }catch(e){console.warn('renderExisting item failed', e);} });
      }catch(e){console.warn('renderExistingInPanel failed', e);} }

      // Delegate delete clicks inside panel
      document.addEventListener('click', function(e){ var del = e.target.closest && e.target.closest('.photo-delete'); if(!del) return; e.preventDefault(); try{
        // prompt for secretary password before delete
        var pass = prompt('Enter secretary password to delete photo:'); if(pass !== '123'){ showToast && showToast('Incorrect secretary password'); return; }
        var src = del.dataset && del.dataset.src ? del.dataset.src : null; if(!src) return; var arr = loadGallery(); var filtered = arr.filter(function(i){ return i && i.src !== src; }); saveGallery(filtered);
        // remove from DOM
        var card = del.closest && del.closest('div'); if(card) card.remove(); showToast && showToast('Photo removed from gallery');
        // Also remove from main scroller if present
        try{ var scrollerImgs = document.querySelectorAll('.gallery-scroller img'); scrollerImgs.forEach(function(img){ if(img && img.src && img.src === src) { var fig = img.closest && img.closest('figure'); if(fig) fig.remove(); } }); }catch(_){ }
      }catch(e){ console.error('photo delete failed', e);} });

      // Render existing on panel open
      try{ renderExistingInPanel(); }catch(e){}
    }
    </script>

    <script>
    // Initialize gallery on page load: prefer server manifest (newest-first), then localStorage fallbacks
    (function(){
      document.addEventListener('DOMContentLoaded', function(){
        try{
          var scroller = document.querySelector('.gallery-scroller');
          if(!scroller) return;
          // clear any placeholder images — we'll render from server/local
          scroller.innerHTML = '';

          // helper to render an item into the scroller
          function renderItem(src, alt){ try{ var figure = document.createElement('figure'); var img = document.createElement('img'); img.loading = 'lazy'; img.decoding = 'async'; img.src = src; img.alt = alt || ''; figure.appendChild(img); scroller.appendChild(figure); }catch(e){}}

          // Try to load server manifest which the server writes at /assets/data/gallery.json
          fetch('/assets/data/gallery.json').then(function(resp){ if(!resp.ok) throw resp; return resp.json(); }).then(function(list){
            // manifest is expected to be an array of filenames (newest first)
            if(Array.isArray(list) && list.length){
              list.forEach(function(filename){ var url = '/assets/gallary/' + filename; renderItem(url, filename); });
            }
            // Now append any locally-saved images that are not present on server manifest
            try{
              var s = localStorage.getItem('swa_gallery_photos'); var local = s ? JSON.parse(s) : [];
              var serverSet = new Set((list||[]).map(function(f){ return '/assets/gallary/'+f; }));
              // local array is already stored newest-first (we use unshift on save); append them after server items
              local.forEach(function(item){ if(!item || !item.src) return; if(serverSet.has(item.src)) return; renderItem(item.src, item.caption||''); });
            }catch(e){}
          }).catch(function(){
            // server manifest unavailable — render localStorage items if present, otherwise leave placeholders
            try{
              var s = localStorage.getItem('swa_gallery_photos'); var local = s ? JSON.parse(s) : [];
              if(local && local.length){ local.forEach(function(item){ if(!item || !item.src) return; renderItem(item.src, item.caption||''); }); }
            }catch(e){}
          });
        }catch(e){ console.warn('gallery init failed', e); }
      });
    })();
    </script>

    <!-- Add Life Member template: separate panel for adding new members -->
    <template id="tpl-add-life">
      <section class="section container">
        <h2 tabindex="-1">Add Life Member</h2>
        <div style="max-width:640px">
          <form id="add-life-member" style="padding:12px;border-radius:8px;background:#021526;">
            <h3 style="margin-top:0"><center>Add Life Member</center></h3>
            <label style="display:block;margin-bottom:8px">Full name<br><input name="name" type="text" required style="width:100%" /></label>
            
            <label style="display:block;margin-bottom:8px">Email<br><input name="email" type="email" style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px">Designation<br>
              <select name="role" required style="width:100%">
                <option value="Life Member">Life Member</option>
                <option value="Yearly Member">Yearly Member</option>
              </select>
            </label>
            <label style="display:block;margin-bottom:8px">Select Photo (required)<br><input id="photoFile" name="photo" type="file" accept="image/*" required style="width:100%" /></label>
            <label style="display:block;margin-bottom:8px"><input name="approved" type="checkbox" /> Approved by Secretary</label>
            <div style="display:flex;gap:8px"><button type="submit" class="btn btn-primary">Add Member</button><button type="button" id="clear-life-storage" class="btn btn-outline">Clear Stored Members</button></div>
            <p style="font-size:0.85rem;color:#334155;margin-top:8px">Only members added with "Approved by Secretary" checked will be stored and shown in the official list.</p>
          </form>
        </div>
      </section>
    </template>

    <script>
    // Robust fallback for person images: immediate onerror handler and naturalWidth check
    (function(){
      var DUMMY = './assets/images/dummy-person.svg';
      function applyTo(img){
        if(!img) return;
        // don't override if already pointing to dummy
        try{
          if(img.src && img.src.indexOf('dummy-person.svg') !== -1) return;
        }catch(e){}

        // attach error handler
        img.onerror = function(){
          try{ img.onerror = null; img.src = DUMMY; }catch(e){}
        };

        // if image already failed to load (naturalWidth === 0) or src empty, set dummy
        var src = img.getAttribute('src');
        if(!src || src.trim() === ''){
          img.src = DUMMY;
          return;
        }
        // If browser has already attempted load and it's broken
        if('naturalWidth' in img && img.naturalWidth === 0){
          img.src = DUMMY;
        }
      }

      function applyFallbacks(){
        // Be specific: only target known officer/team photo classes to avoid gallery images
        var selectors = ['img.officer-portrait', 'img.portrait-large', 'img.person-photo', '.officers img', '.team-feature img'];
        var imgs = document.querySelectorAll(selectors.join(','));
        imgs.forEach(applyTo);
      }

      if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', applyFallbacks);
      else applyFallbacks();
    })();
    </script>

      <script>
      // Life Members storage and render logic
      (function(){
        var STORAGE_KEY = 'swa_life_members';

        function loadMembers(){
          try{
            var raw = localStorage.getItem(STORAGE_KEY);
            return raw ? JSON.parse(raw) : [];
          }catch(e){ return []; }
        }
        function saveMembers(list){
          try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(list||[])); }catch(e){}
        }

        // Create a DOM member card safely (avoid innerHTML/XSS)
        function createMemberCard(m){
          var photo = (m && m.photo) ? m.photo : './assets/images/dummy-person.svg';
          var name = (m && m.name) ? m.name : '—';
          var role = (m && m.role) ? m.role : '—';
          var email = (m && m.email) ? m.email : '—';

          var article = document.createElement('article');
          article.className = 'card member-card';
          article.style.padding = '10px';
          article.style.textAlign = 'center';

          var wrap = document.createElement('div');
          wrap.style.height = '140px'; wrap.style.display = 'flex'; wrap.style.alignItems = 'center'; wrap.style.justifyContent = 'center'; wrap.style.marginBottom = '8px';
          var img = document.createElement('img');
          img.style.maxWidth = '100%'; img.style.maxHeight = '100%'; img.style.borderRadius = '8px'; img.style.objectFit = 'cover';
          img.loading = 'lazy'; img.decoding = 'async';
          img.src = photo;
          img.alt = name;
          img.onerror = function(){ this.onerror = null; this.src = './assets/images/dummy-person.svg'; };
          wrap.appendChild(img);

          var h3 = document.createElement('h3'); h3.style.margin = '6px 0 4px'; h3.style.fontSize = '1rem'; h3.textContent = name;
          var divRole = document.createElement('div'); divRole.style.fontSize = '0.9rem'; divRole.style.color = '#4b5563'; divRole.textContent = role;
          var divEmail = document.createElement('div'); divEmail.style.marginTop = '6px'; divEmail.style.fontSize = '0.85rem'; divEmail.style.color = '#334155'; divEmail.textContent = email;

          article.appendChild(wrap);
          article.appendChild(h3);
          article.appendChild(divRole);
          article.appendChild(divEmail);
          return article;
        }

        // Render life members into the provided container using safe DOM creation.
        function renderMembers(container, membersArr){
          if(!container) return;
          var stored = membersArr || loadMembers();
          if(!stored || stored.length === 0){ container.innerHTML = '<p class="muted">No life members stored yet.</p>'; return; }
          // clear and append
          container.innerHTML = '';
          stored.forEach(function(m){ container.appendChild(createMemberCard(m)); });
        }

        // When the Life Members or Add Life panel is opened we will call render on its grid and bind controls
          function initPanelBindings(){
            // small delay to allow injected template HTML to be present in DOM
            setTimeout(function(){
              try{
                // Do not call renderMembers here — open-life handler composes scanned + stored members
                var grid = document.querySelector('#panel-content .members-grid');

                // wire up form only when visible
                var form = document.querySelector('#panel-content #add-life-member');
                if(form && !form._bound){
                  form._bound = true;
                  form.addEventListener('submit', function(ev){
                    ev.preventDefault();
                    var data = new FormData(form);
                    // approval optional in this relaxed flow
                    var approved = data.get('approved');
                    var name = (data.get('name')||'').trim();
                    if(!name){ try{ showToast && showToast('Please provide a name.'); }catch(e){ console.log('Please provide a name.'); } return; }
                    var role = (data.get('role')||'').trim();
                    var email = (data.get('email')||'').trim();

                    // If a file was selected, read it as data URL and use that as the member photo
                    var fileInput = form.querySelector('#photoFile');
                    var file = fileInput && fileInput.files && fileInput.files[0];
                    var reader = null;
                        // helper: validate image file (type + size)
                        function validateImageFile(file, maxBytes){
                          maxBytes = maxBytes || 4 * 1024 * 1024; // default 4MB
                          if(!file) return { ok: false, reason: 'no-file' };
                          if(typeof file.type === 'string' && file.type.indexOf('image/') !== 0) return { ok: false, reason: 'invalid-type' };
                          if(file.size && file.size > maxBytes) return { ok: false, reason: 'too-large' };
                          return { ok: true };
                        }
                    function finishAdd(photoDataUrl){
                        var member = { name: name, role: role, email: email, photo: photoDataUrl };
                        var list = loadMembers(); list.push(member); saveMembers(list);
                        var grid2 = document.querySelector('#panel-content .members-grid');
                            // append the new member card to the end (safe DOM creation)
                            if(grid2){
                              try{
                                var card = createMemberCard(member);
                                grid2.appendChild(card);
                                // also show the new member at the very top in the 'new-members' panel
                                var newPane = document.querySelector('#panel-content #new-members');
                                if(newPane){ newPane.insertBefore(card.cloneNode(true), newPane.firstChild); }
                              }catch(e){ console.warn('new-members insert failed', e); }
                            }
                        form.reset();
                        // show congratulatory message
                        try{ showToast && showToast('congratulation you are now a life member of the association'); }catch(e){ console.log('congratulation you are now a life member of the association'); }

                        // open mail client to send congratulation email
                        try{
                          if(email){
                            var subject = 'Congratulations - Life Membership';
                            var body = 'Dear '+encodeURIComponent(name)+"%0D%0A%0D%0A"+encodeURIComponent('Congratulations! You are now a life member of the association.')+"%0D%0A%0D%0ARegards,";
                            var mailto = 'mailto:'+encodeURIComponent(email)+'?subject='+encodeURIComponent(subject)+'&body='+body;
                            var a = document.createElement('a'); a.href = mailto; a.style.display='none'; document.body.appendChild(a); a.click(); setTimeout(function(){ a.remove(); }, 1000);
                          }
                        }catch(e){ console.warn('failed to open mail client', e); }
                      }
                      if(file){
                        var chk = validateImageFile(file, 4 * 1024 * 1024);
                        if(!chk.ok){
                          if(chk.reason === 'invalid-type') showToast && showToast('Please select an image file (png/jpg).');
                          else if(chk.reason === 'too-large') showToast && showToast('Photo too large. Max 4 MB.');
                          else showToast && showToast('Invalid photo.');
                          return;
                        }
                        reader = new FileReader();
                        reader.onload = function(evt){ finishAdd(evt.target.result); };
                        reader.readAsDataURL(file);
                      } else {
                        // no file provided: use dummy image
                        finishAdd('./assets/images/dummy-person.svg');
                      }
                  });
                }

                // clear storage button
                var clearBtn = document.querySelector('#panel-content #clear-life-storage');
                if(clearBtn && !clearBtn._bound){
                  clearBtn._bound = true;
                  clearBtn.addEventListener('click', function(){
                    if(!confirm('Clear all stored life members?')) return;
                    localStorage.removeItem(STORAGE_KEY);
                    // Re-open the life members view so only scanned members are shown (stored removed)
                    var nav = document.querySelector('.open-life');
                    if(nav){ try{ nav.click(); }catch(e){ var g=document.querySelector('#panel-content .members-grid'); if(g) g.innerHTML=''; } }
                    else { var g=document.querySelector('#panel-content .members-grid'); if(g) g.innerHTML=''; }
                  });
                }

                // No generate-save-script support in this setup (external photo URLs only)
              }catch(err){ console.warn('initPanelBindings error',err); }
            },150);
          }

          // call initPanelBindings when Life Members nav is clicked
          document.addEventListener('click', function(e){
            if(e.target.closest && e.target.closest('.open-life')){ initPanelBindings(); }
          });

        // Also render when page loads if panel is visible
        document.addEventListener('DOMContentLoaded', function(){
          var grid = document.querySelector('#panel-content .members-grid');
          if(grid) renderMembers(grid);
        });
      })();
  </script>
  <script>
  // lightweight global showToast for non-blocking messages (used instead of alert)
      (function(){
        if(window.showToast) return; // already provided by main interactive script
        window.showToast = function(msg, timeout){
          timeout = timeout || 3000;
          try{
            var t = document.createElement('div');
            t.className = 'site-toast';
            t.textContent = msg;
            t.style.position='fixed'; t.style.right='16px'; t.style.bottom='16px'; t.style.background='#021526'; t.style.color='#fff'; t.style.padding='10px 14px'; t.style.borderRadius='6px'; t.style.zIndex=9999;
            document.body.appendChild(t);
            setTimeout(function(){ t.style.opacity='0'; setTimeout(function(){ t.remove(); }, 300); }, timeout);
          }catch(e){ try{ console.log(msg); }catch(_){} }
        };
      })();
      </script>
    
    <!-- Certificate Download / Upload panel (Secretary) -->
    <template id="tpl-download-certs">
      <section class="section container">
        <h2 tabindex="-1">Download Certificates — Secretary</h2>
        <p class="muted small">Secretary-only: upload an Excel (.xlsx/.xls/.csv) containing headers Sr.No., Participant_Name, Gender, College_Name. After upload you can preview or download individual certificates or all as a zip.</p>

        <div style="max-width:900px;display:grid;gap:12px">
          <div style="display:flex;gap:8px;align-items:center">
            <input id="cert-secret" type="password" placeholder="Secretary password" style="flex:1;min-width:200px" />
            <button id="cert-unlock" class="btn btn-primary">Unlock</button>
            <button id="cert-lock" class="btn btn-outline" style="display:none">Lock</button>
          </div>

          <div id="cert-controls" style="display:none;border:1px dashed #e6e6e6;padding:12px;border-radius:6px">
            <label style="display:block;margin-bottom:8px">Upload Excel (.xlsx/.xls/.csv) — first sheet must contain columns: Participant_Name, College_Name
              <input id="cert-file" type="file" accept=".xlsx,.xls,.csv" />
            </label>

            <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
              <button id="cert-parse" class="btn btn-primary">Parse & Preview</button>
              <button id="cert-download-all" class="btn btn-primary">Download All (zip)</button>
              <small class="muted">Large batches may take time; please be patient.</small>
            </div>

            <div style="display:flex;gap:8px;margin-top:12px;align-items:center">
              <input id="cert-search" type="text" placeholder="Search participant name..." style="flex:1;padding:8px;border:1px solid #ddd;border-radius:4px" />
              <button id="cert-download-byname" class="btn btn-primary">Download Certificate</button>
            </div>

      <div id="cert-msg" class="muted small" style="margin-top:8px;display:none"></div>
      <pre id="cert-debug" style="margin-top:8px;display:none;background:#0b1220;color:#d1f0ff;padding:8px;border-radius:6px;overflow:auto;max-height:200px;font-size:12px"></pre>

            <div id="cert-list-wrapper" style="margin-top:12px">
              <table id="cert-list" style="width:100%;border-collapse:collapse">
                <thead><tr style="background:#f3f4f6"><th style="padding:8px;border:1px solid #eee">#</th><th style="padding:8px;border:1px solid #eee">Participant</th><th style="padding:8px;border:1px solid #eee">College</th><th style="padding:8px;border:1px solid #eee">Actions</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>

            <div style="display:flex;gap:8px;align-items:center;margin-top:12px">
              <label style="display:flex;align-items:center;gap:8px"><input id="cert-select-all" type="checkbox" /> Select all</label>
       in the      <button id="cert-download-selected" class="btn btn-primary">Download Selected</button>
       in the      <small class="muted">Select rows below and click Download Selected (multiple => zip)</small>
       in the    </div>
       in the    <div id="cert-raw-preview" style="margin-top:8px;overflow:auto;max-height:320px;border:1px solid #eee;padding:8px;background:#fff;display:none"></div>

            <!-- off-DOM render area used by html2canvas -->
            <div id="cert-render-area" style="position:fixed;left:-9999px;top:-9999px;width:1122px;height:793px;overflow:hidden"></div>
          </div>
        </div>
      </section>
    </template>

    <script>
    /*
      Certificate panel wiring (self-contained).
      - Uses XLSX, html2canvas, jsPDF (jspdf.umd) and JSZip already included on page head.
      - Secretary password is '123' (same pattern as other manager panels).
    */
    (function(){
  // open the panel when nav/link with class .open-download-certs is clicked
  document.addEventListener('click', function(e){
        try{
          // primary selector: explicit class; fallback: anchor with href
          var btn = e.target.closest && e.target.closest('.open-download-certs');
          if(!btn) btn = e.target.closest && e.target.closest('a[href="#download-certificates"]');
          // debug: log click target so we can see if event reaches this handler
          if(btn){ console.debug('[cert-panel] open-click detected, target=', btn); }
          if(!btn) return;
          e.preventDefault();
          var tpl = document.getElementById('tpl-download-certs');
          var panel = document.getElementById('active-panel');
          var ph = document.getElementById('panel-content');
          if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); }
          // wire up controls after DOM insertion
          setTimeout(initCertPanel, 50);
        }catch(err){ console.error('[cert-panel] open handler error', err); }
      });

      // Fallback: attach a direct click handler to link(s) with class .open-download-certs
      // This runs on DOMContentLoaded and ensures the panel opens even if other delegation interferes.
      document.addEventListener('DOMContentLoaded', function(){
        try{
          // include both class and explicit href selectors (some nav items may be missing the class)
          var nodes = document.querySelectorAll('.open-download-certs, a[href="#download-certificates"]');
          console.debug('[cert-panel] DOMContentLoaded fallback attaching to', nodes.length, 'nodes');
          nodes.forEach(function(n){
            n.addEventListener('click', function(ev){
              try{
                ev.preventDefault();
                console.debug('[cert-panel] fallback handler invoked for', n, n.className || n.getAttribute('href'));
                var tpl = document.getElementById('tpl-download-certs'); var panel = document.getElementById('active-panel'); var ph = document.getElementById('panel-content');
                if(tpl && ph){ ph.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); }
                setTimeout(initCertPanel,50);
              }catch(err){ console.error('cert-panel fallback error', err); }
            });
          });
        }catch(e){ console.error('cert-panel attach error', e); }
      });

      // Fallback for Financials links: attach direct handlers to ensure panels open
      document.addEventListener('DOMContentLoaded', function(){
        try{
          // include class selectors and explicit href fallbacks for budget links
          var finNodes = document.querySelectorAll('.open-financials, .open-financials-manager, a[href="#budget"], a[href="#budget-manager"]');
          console.debug('[swa-fin] DOMContentLoaded fallback attaching to', finNodes.length, 'nodes');
          finNodes.forEach(function(n){
            n.addEventListener('click', function(ev){
              try{
                ev.preventDefault();
                console.debug('[swa-fin] fallback click on', n.className || n.getAttribute('href') || n);
                // prefer manager if element has manager class
                if(n.classList && n.classList.contains('open-financials-manager')){
                  var tpl = document.getElementById('tpl-financials-manager');
                  var panel = document.getElementById('active-panel');
                  var content = document.getElementById('panel-content');
                  if(tpl && content){ content.innerHTML = tpl.innerHTML; panel.classList.add('show'); panel.setAttribute('aria-hidden','false'); panel.scrollIntoView({ behavior:'smooth', block:'start' }); setTimeout(function(){ try{ /* re-run wiring similar to delegated handler */ }catch(e){} },60); }
                } else {
                  var tpl2 = document.getElementById('tpl-financials');
                  var panel2 = document.getElementById('active-panel');
                  var content2 = document.getElementById('panel-content');
                  if(tpl2 && content2){ content2.innerHTML = tpl2.innerHTML; panel2.classList.add('show'); panel2.setAttribute('aria-hidden','false'); panel2.scrollIntoView({ behavior:'smooth', block:'start' }); }
                }
              }catch(err){ console.error('[swa-fin] fallback handler error', err); }
            });
          });
        }catch(e){ console.error('[swa-fin] attach error', e); }
      });

      function initCertPanel(){
        try{
          var secret = document.getElementById('cert-secret');
          var unlock = document.getElementById('cert-unlock');
          var lockBtn = document.getElementById('cert-lock');
          var controls = document.getElementById('cert-controls');
          var fileInput = document.getElementById('cert-file');
          var parseBtn = document.getElementById('cert-parse');
          var listBody = document.querySelector('#cert-list tbody');
          var downloadAll = document.getElementById('cert-download-all');
          var msg = document.getElementById('cert-msg');
          var renderArea = document.getElementById('cert-render-area');

          function showMsg(t){ if(!msg) return; msg.style.display='block'; msg.textContent = t; setTimeout(function(){ try{ msg.style.display='none'; msg.textContent=''; }catch(e){} },3000); }

          // auth
          unlock && unlock.addEventListener('click', function(){
            var v = secret && secret.value ? secret.value.trim() : '';
            if(v === '123'){ sessionStorage.setItem('swa_cert_auth','1'); controls.style.display='block'; unlock.style.display='none'; lockBtn.style.display='inline-block'; showMsg('Unlocked'); }
            else showMsg('Incorrect password');
          });
          lockBtn && lockBtn.addEventListener('click', function(){
            sessionStorage.removeItem('swa_cert_auth'); controls.style.display='none'; lockBtn.style.display='none'; unlock.style.display='inline-block';
          });
          if(sessionStorage.getItem('swa_cert_auth')){ controls.style.display='block'; unlock.style.display='none'; lockBtn.style.display='inline-block'; }

          var parsedRows = [];

          // helper: normalize and format possible date values from CSV/XLSX
          function formatDateValue(v){
            if(v === null || typeof v === 'undefined' || v === '') return '';
            // Date object
            if(Object.prototype.toString.call(v) === '[object Date]'){
              if(isNaN(v.getTime())) return '';
              return v.toLocaleDateString();
            }
            // numeric Excel serial (common when raw values are numbers)
            if(typeof v === 'number'){
              try{
                // Excel date serial to JS date (handles 1900 system)
                var d = new Date(Math.round((v - 25569) * 86400 * 1000));
                return d.toLocaleDateString();
              }catch(e){ return String(v); }
            }
            // try parse string
            var s = String(v).trim();
            // empty
            if(!s) return '';
            // try ISO / natural parse
            var d2 = new Date(s);
            if(!isNaN(d2)) return d2.toLocaleDateString();
            return s;
          }

          parseBtn && parseBtn.addEventListener('click', function(){
            if(!fileInput || !fileInput.files || !fileInput.files[0]) { showMsg('Select an Excel or CSV file first'); return; }
            var f = fileInput.files[0];
            var name = (f.name || '').toLowerCase();
            // CSV handling
            if(name.endsWith('.csv')){
              var r2 = new FileReader();
              r2.onload = function(ev){
                try{
                  var text = ev.target.result;
                  // naive CSV parse: split lines, then commas (handles simple CSVs)
                  var lines = text.split(/\r?\n/).filter(function(l){ return l.trim().length > 0; });
                  if(lines.length === 0){ showMsg('CSV appears empty'); return; }
                  var headers = lines[0].split(/,|\t/).map(function(h){ return h.trim(); });
                  var rows = lines.slice(1).map(function(line){ var cols = line.split(/,|\t/); var obj = {}; headers.forEach(function(h,i){ obj[h] = (cols[i]||'').trim(); }); return obj; });
                  parsedRows = rows.map(function(r, idx){ function g(k){ for(var p in r){ if(p.trim().toLowerCase() === k) return r[p]; } return ''; }
                    var rawDate = r['Date'] || r['date'] || r['Event Date'] || r['Event_Date'] || g('date') || g('event date');
                    return { idx: idx+1, sr: r['Sr.No.']||r['Sr']||g('sr'), name: r['Participant_Name']||r['Participant Name']||r['Participant']||g('participant'), gender: r['Gender']||g('gender'), college: r['College_Name']||r['College']||g('college'), date: formatDateValue(rawDate) };
                  }).filter(function(x){ return x && (x.name || x.college); });
                  renderList(); showMsg('Parsed ' + parsedRows.length + ' rows (CSV)');
                  // debug
                  var dbg = document.getElementById('cert-debug'); if(dbg){ dbg.style.display='block'; dbg.textContent = JSON.stringify({ file: f.name, type: 'csv', rows: Math.min(parsedRows.length,5), sample: parsedRows.slice(0,5) }, null, 2); }
                }catch(err){ console.error('CSV parse error', err); showMsg('Could not parse CSV: ' + (err && err.message)); }
              };
              r2.readAsText(f);
              return;
            }
            // XLSX/XLS handling
            var reader = new FileReader();
            reader.onload = function(ev){
              try{
                var data = ev.target.result;
                // use array buffer mode which is more compatible across browsers
                var wb = XLSX.read(data, { type: 'array' });
                var first = wb.SheetNames[0];
                var ws = wb.Sheets[first];
                var json = XLSX.utils.sheet_to_json(ws, { defval: '' });
                parsedRows = json.map(function(r, idx){ function g(k){ for(var p in r){ if(p.trim().toLowerCase() === k) return r[p]; } return ''; }
                  var rawDate = r['Date'] || r['date'] || r['Event Date'] || r['Event_Date'] || g('date') || g('event date');
                  return { idx: idx+1, sr: r['Sr.No.'] || r['Sr.No'] || r['Sr'] || r['SrNo'] || g('sr.no.') || g('sr') || '', name: r['Participant_Name'] || r['Participant Name'] || r['Participant'] || g('participant_name') || g('participant'), gender: r['Gender'] || g('gender'), college: r['College_Name'] || r['College Name'] || r['College'] || g('college_name') || g('college'), date: formatDateValue(rawDate) };
                }).filter(function(x){ return x && (x.name || x.college); });
                renderList(); showMsg('Parsed ' + parsedRows.length + ' rows');
                var dbg = document.getElementById('cert-debug'); if(dbg){ dbg.style.display='block'; dbg.textContent = JSON.stringify({ file: f.name, sheets: wb.SheetNames, rows: Math.min(parsedRows.length,5), sample: parsedRows.slice(0,5) }, null, 2); }
              }catch(err){ console.error('XLSX parse error:', err); showMsg('Could not parse file: ' + (err && err.message ? err.message : 'unknown error')); }
            };
            // read as ArrayBuffer for XLSX
            reader.readAsArrayBuffer(f);
          });

          // warn if XLSX not present
          setTimeout(function(){ var dbg = document.getElementById('cert-debug'); if(typeof XLSX === 'undefined'){ if(dbg){ dbg.style.display='block'; dbg.textContent = 'Warning: XLSX library not found on page. XLSX parsing will fail. Please ensure xlsx.full.min.js is included.'; } } }, 200);

          function renderList(){
            if(!listBody) return;
            listBody.innerHTML = '';
            parsedRows.forEach(function(r, i){
              var tr = document.createElement('tr');
              tr.innerHTML = '<td style="padding:8px;border:1px solid #eee">'+(r.sr || (i+1))+'</td>'
                           + '<td style="padding:8px;border:1px solid #eee">'+escapeHtml(r.name || '')+'</td>'
                           + '<td style="padding:8px;border:1px solid #eee">'+escapeHtml(r.college || '')+'</td>'
                           + '<td style="padding:8px;border:1px solid #eee"><button class="btn cert-preview" data-i="'+i+'">Preview</button> <button class="btn cert-download" data-i="'+i+'">Download PDF</button></td>';
              listBody.appendChild(tr);
            });
            renderRawPreview();
          }

          function renderRawPreview(){
            var preview = document.getElementById('cert-raw-preview');
            if(!preview) return;
            if(!parsedRows || parsedRows.length === 0){ preview.style.display='none'; preview.innerHTML=''; return; }
            preview.style.display='block';
            var html = '<table style="width:100%;border-collapse:collapse"><thead><tr><th style="border:1px solid #eee;padding:6px">#</th><th style="border:1px solid #eee;padding:6px">Participant</th><th style="border:1px solid #eee;padding:6px">College</th></tr></thead><tbody>';
            parsedRows.forEach(function(r,i){ html += '<tr data-i="'+i+'"><td style="border:1px solid #eee;padding:6px"><input class="cert-row-select" type="checkbox" data-i="'+i+'" /></td><td style="border:1px solid #eee;padding:6px">'+(r.sr|| (i+1))+'</td><td style="border:1px solid #eee;padding:6px">'+escapeHtml(r.name||'')+'</td><td style="border:1px solid #eee;padding:6px">'+escapeHtml(r.college||'')+'</td></tr>'; });
            html += '</tbody></table>';
            preview.innerHTML = html;
          }

          // selection handlers
          var selectAll = document.getElementById('cert-select-all');
          var downloadSelectedBtn = document.getElementById('cert-download-selected');
          function updateSelectAllState(){
            var checks = Array.prototype.slice.call(document.querySelectorAll('#cert-raw-preview .cert-row-select'));
            if(!checks || checks.length===0){ if(selectAll) selectAll.checked = false; return; }
            var all = checks.every(function(c){ return c.checked; });
            var any = checks.some(function(c){ return c.checked; });
            if(selectAll) selectAll.checked = all;
          }
          document.addEventListener('change', function(ev){
            var c = ev.target.closest && ev.target.closest('.cert-row-select');
            if(c){ updateSelectAllState(); }
          });
          if(selectAll){ selectAll.addEventListener('change', function(){ var checks = document.querySelectorAll('#cert-raw-preview .cert-row-select'); for(var i=0;i<checks.length;i++){ checks[i].checked = selectAll.checked; } }); }

          if(downloadSelectedBtn){
            downloadSelectedBtn.addEventListener('click', function(){
              var checks = Array.prototype.slice.call(document.querySelectorAll('#cert-raw-preview .cert-row-select')).filter(function(c){ return c.checked; });
              if(!checks || checks.length===0){ showMsg('Select at least one participant'); return; }
              var indices = checks.map(function(c){ return parseInt(c.dataset.i,10); }).filter(function(n){ return !isNaN(n); });
              if(indices.length === 1){ downloadSingle(parsedRows[indices[0]]); return; }
              // multiple -> generate zip
              showMsg('Generating selected certificates...');
              var zip = new JSZip();
              var i = 0;
              function next(){
                if(i >= indices.length){
                  zip.generateAsync({type:'blob'}).then(function(content){ var a = document.createElement('a'); a.href = URL.createObjectURL(content); a.download = 'certificates_selected.zip'; document.body.appendChild(a); a.click(); a.remove(); showMsg('Selected certificates ready'); }); return; }
                var idx = indices[i++]; var r = parsedRows[idx]; renderArea.innerHTML=''; var el = composeCertificateElement(r.name, r.college); renderArea.appendChild(el);
                html2canvas(el, { scale: 2 }).then(function(canvas){ var pdf = new jspdf.jsPDF({ orientation: 'landscape', unit: 'px', format: [canvas.width, canvas.height] }); pdf.addImage(canvas.toDataURL('image/jpeg',0.92),'JPEG',0,0,canvas.width,canvas.height); var fname = (r.name||'certificate').replace(/[^\w\s\-]/g,'').replace(/\s+/g,'_') + '.pdf'; var data = pdf.output('arraybuffer'); zip.file(fname, data); setTimeout(next, 120); }).catch(function(err){ console.error('failed for', r, err); setTimeout(next, 120); });
              }
              next();
            });
          }

          // delegate actions
          document.addEventListener('click', function(ev){
            var p = ev.target.closest && ev.target.closest('.cert-preview');
            if(p){ ev.preventDefault(); var i = parseInt(p.dataset.i,10); previewCertificate(parsedRows[i]); return; }
            var d = ev.target.closest && ev.target.closest('.cert-download');
            if(d){ ev.preventDefault(); var i2 = parseInt(d.dataset.i,10); downloadSingle(parsedRows[i2]); return; }
          });

          // search & download by name
          var searchInput = document.getElementById('cert-search');
          var downloadByName = document.getElementById('cert-download-byname');
          if(searchInput){
            searchInput.addEventListener('keydown', function(ev){ if(ev.key === 'Enter'){ ev.preventDefault(); downloadByName && downloadByName.click(); } });
          }
          if(downloadByName){
            downloadByName.addEventListener('click', function(){
              var q = (searchInput && searchInput.value || '').trim().toLowerCase();
              if(!q){ showMsg('Enter a participant name to search'); return; }
              var found = parsedRows.find(function(r){ return (r.name||'').toLowerCase().indexOf(q) !== -1; });
              if(!found){ showMsg('No matching participant found'); return; }
              downloadSingle(found);
            });
          }

          function composeCertificateElement(name, college){
            // Create a fixed-size wrapper matching A4 landscape pixels used elsewhere
            var wrap = document.createElement('div');
            wrap.style.width = '1122px'; wrap.style.height = '793px'; wrap.style.boxSizing = 'border-box';

            // Embedded styles include a Google Fonts import so the element renders closely
            // to the Tailwind sample the user provided without requiring Tailwind in the page head.
           wrap.innerHTML = (
    '<div style="width:100%;height:100%;box-sizing:border-box;padding:20px;display:flex;align-items:center;justify-content:center;background:#f7f3ed;">'
    + '<style>@import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap");'
    + '.swa-cert{width:100%;height:100%;background:#fff;padding:60px 80px;border:12px solid #0b4f6c;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;font-family:Montserrat,Arial,sans-serif;position:relative;}'
    + '.swa-cert .logo-container{position:absolute;top:48px;left:48px;}'
    + '.swa-cert .main-title{font-family:Cinzel,Georgia,serif;font-size:36px;color:#0b4f6c;font-weight:700;text-align:center;margin-bottom:5px;text-transform:uppercase;letter-spacing:2px;}'
    + '.swa-cert .sub-title{font-family:Playfair Display,Georgia,serif;font-size:20px;color:#444;font-weight:400;text-align:center;margin-bottom:30px;font-style:italic;}'
    + '.swa-cert .presented{margin-top:24px;font-style:italic;color:#555;text-align:center;font-size:18px;}'
    + '.swa-cert .name{margin-top:24px;font-family:Cinzel,Georgia,serif;font-size:44px;color:#D4AF37;font-weight:700;text-align:center;word-break:break-word;line-height:1.2;text-transform:uppercase;}' // Decreased font-size to 44px
    + '.swa-cert .of{margin-top:16px;color:#444;font-size:20px;text-align:center;}'
    + '.swa-cert .college{margin-top:12px;font-family:Playfair Display,Georgia,serif;font-size:32px;color:#0b4f6c;font-weight:600;text-align:center;word-break:break-word;}'
    + '.swa-cert .description-text{margin-top:35px;max-width:900px;margin-left:auto;margin-right:auto;text-align:center;color:#333;font-size:17px;line-height:1.6;font-weight:400;}'
    + '.swa-cert .event-details{margin-top:45px;display:flex;justify-content:center;gap:50px;max-width:900px;margin-left:auto;margin-right:auto;text-align:center;color:#444;font-size:16px;}'
    + '.swa-cert .event-detail-label{font-weight:700;color:#0b4f6c;font-size:18px;margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;}'
    + '.swa-cert .event-detail-value{font-size:15px;color:#666;}'
    + '.swa-cert .footer{display:flex;justify-content:space-between;align-items:flex-end;margin-top:50px;padding-top:25px;border-top:1px solid #eee;}'
    + '.swa-cert .signature-block{text-align:left;}'
    + '.swa-cert .signame{font-weight:600;font-size:17px;margin-bottom:6px;border-bottom:1px solid #ccc;display:inline-block;padding-bottom:2px;font-family:Playfair Display,Georgia,serif;color:#222;}'
    + '.swa-cert .sig-title{font-size:13px;color:#666;font-family:Montserrat,Arial,sans-serif;font-weight:500;}'
    + '</style>'
    + '<div class="swa-cert">'
        // --- LOGO CONTAINER ---
        + '<div class="logo-container">'
            + '<img src="./assets/imagesw" alt="Student Welfare Association Logo" style="height:80px; width:auto; display:block;">'
        + '</div>'
        // --- CONTENT AREA ---
        + '<div>'
            + '<div class="main-title">Student Welfare Association</div>'
            + '<div class="sub-title">Umred Dist: Nagpur</div>'
            
            + '<div class="presented">This Certificate is Proudly Presented to</div>'
            + '<div class="name">' + escapeHtml(name) + '</div>'
            + '<div class="of">of</div>'
            + '<div class="college">' + escapeHtml(college) + '</div>'
            
            + '<div class="description-text">'
                + '<strong>For <span style="font-weight:700;color:#0b4f6c;">Successful Participation</span> in the <span style="text-decoration:underline;">[Workshop/Seminar/Conference Name]</span> organized by the Student Welfare Association to promote student development, leadership skills, and community engagement.</strong>'
            + '</div>'
            
            // --- EVENT DETAILS ---
            + '<div class="event-details">'
                + '<div style="flex:1">'
                    + '<div class="event-detail-label">DATE</div>'
                    + '<div class="event-detail-value">[e.g., November 25, 2025]</div>'
                + '</div>'
                + '<div style="flex:1">'
                    + '<div class="event-detail-label">TIME</div>'
                    + '<div class="event-detail-value">[e.g., 10:00 AM - 4:00 PM]</div>'
                + '</div>'
                + '<div style="flex:1">'
                    + '<div class="event-detail-label">VENUE</div>'
                    + '<div class="event-detail-value">[e.g., Auditorium, XYZ College]</div>'
                + '</div>'
            + '</div>'
        + '</div>'
        
        // --- FOOTER/SIGNATURES ---
        + '<div class="footer">'
            + '<div class="signature-block" style="text-align:left;">'
                + '<div class="signame">Karuna Karoo</div>'
                + '<div class="sig-title">President</div>'
            + '</div>'
            + '<div class="signature-block" style="text-align:right;">'
                + '<div class="signame">Prachi Ghugal</div>'
                + '<div class="sig-title">CEO, Student Development</div>'
            + '</div>'
        + '</div>'
    + '</div>'
    + '</div>'
);
    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  



          

          function previewCertificate(row){
            if(!row) return;
            renderArea.innerHTML = '';
            var el = composeCertificateElement(row.name, row.college);
            renderArea.appendChild(el);
            html2canvas(el, { scale: 2 }).then(function(canvas){
              var imgData = canvas.toDataURL('image/jpeg', 0.92);
              var pdf = new jspdf.jsPDF({ orientation: 'landscape', unit: 'px', format: [canvas.width, canvas.height] });
              pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);
              var blob = pdf.output('blob');
              var url = URL.createObjectURL(blob);
              window.open(url, '_blank');
              setTimeout(function(){ URL.revokeObjectURL(url); }, 20000);
            }).catch(function(err){ console.error(err); showMsg('Preview failed'); });
          }

          function downloadSingle(row){
            if(!row) return;
            renderArea.innerHTML = '';
            var el = composeCertificateElement(row.name, row.college);
            renderArea.appendChild(el);
            html2canvas(el, { scale: 2 }).then(function(canvas){
              var imgData = canvas.toDataURL('image/jpeg', 0.92);
              var pdf = new jspdf.jsPDF({ orientation: 'landscape', unit: 'px', format: [canvas.width, canvas.height] });
              pdf.addImage(imgData, 'JPEG', 0, 0, canvas.width, canvas.height);
              var fileName = (row.name || 'certificate').replace(/[^\w\s\-]/g,'').replace(/\s+/g,'_') + '.pdf';
              pdf.save(fileName);
              showMsg('Downloaded: ' + fileName);
            }).catch(function(err){ console.error(err); showMsg('Download failed'); });
          }

          downloadAll && downloadAll.addEventListener('click', function(){
            if(!parsedRows || !parsedRows.length) { showMsg('No rows parsed'); return; }
            showMsg('Generating certificates; this may take a moment...');
            var zip = new JSZip();
            var i = 0;
            function next(){
              if(i >= parsedRows.length){
                zip.generateAsync({type:'blob'}).then(function(content){
                  var a = document.createElement('a'); a.href = URL.createObjectURL(content); a.download = 'certificates.zip'; document.body.appendChild(a); a.click(); a.remove();
                  showMsg('All certificates ready for download');
                });
              // expose a global wrapper so preview windows can request a download back in the opener
              try{ window.swaCertDownloadSingle = function(row){ try{ downloadSingle(row); }catch(e){ console.error('swaCertDownloadSingle', e); } }; }catch(e){}

              function previewCertificate(row){
                if(!row) return;
                // render into the hidden renderArea for any sizing logic (not strictly necessary)
                renderArea.innerHTML = '';
                var el = composeCertificateElement(row.name, row.college);
                renderArea.appendChild(el);

                // Open a new window and write the certificate HTML directly for instant preview
                try{
                  var previewWin = window.open('', '_blank');
                  if(!previewWin){ showMsg('Could not open preview window (blocked by browser)'); return; }
                  var doc = previewWin.document;
                  var certHtml = el.innerHTML;
                  // simple HTML wrapper that includes a download button which calls back to opener
                  var safeRow = JSON.stringify(row).replace(/</g,'\\u003c');
                  var html = '<!doctype html><html><head><meta charset="utf-8"><title>Certificate Preview</title>'
                    + '<meta name="viewport" content="width=device-width,initial-scale=1">'
                    + '<style>body{margin:0;background:#f3f4f6;padding:20px;font-family:Arial,Helvetica,sans-serif} .preview-wrap{max-width:1122px;margin:0 auto}</style>'
                    + '</head><body><div class="preview-wrap">' + certHtml + '</div>'
                    + '<div style="text-align:center;margin:18px"><button id="swa-download">Download PDF</button> <button id="swa-close">Close</button></div>'
                    + '<script>document.getElementById("swa-download").addEventListener("click",function(){ try{ if(window.opener && window.opener.swaCertDownloadSingle){ window.opener.swaCertDownloadSingle(' + safeRow + '); } else { alert("Download not available"); } }catch(e){ console.error(e); alert("Download failed"); } });' 
                    + 'document.getElementById("swa-close").addEventListener("click",function(){ window.close(); });</'+'script></body></html>';
                  doc.open(); doc.write(html); doc.close();
                }catch(e){ console.error('previewCertificate open failed', e); showMsg('Preview failed'); }
              }
    <div id="gallery-lightbox" class="lightbox hidden" aria-hidden="true" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:99999;">
      <button id="lightbox-close" aria-label="Close" style="position:absolute;right:18px;top:18px;background:transparent;border:none;color:#fff;font-size:28px;">✕</button>
      <img id="lightbox-img" src="" alt="" style="max-width:95%;max-height:95%;box-shadow:0 4px 24px rgba(0,0,0,0.6);border-radius:6px;" />
      <div id="lightbox-caption" style="position:absolute;left:20px;right:20px;bottom:24px;color:#fff;text-align:center;font-size:0.95rem;max-width:90%;overflow-wrap:break-word"></div>
    </div>

    <script>
      (function(){
        var lb = document.getElementById('gallery-lightbox');
        var lbImg = document.getElementById('lightbox-img');
        var lbCaption = document.getElementById('lightbox-caption');
        var lbClose = document.getElementById('lightbox-close');
        function openLightbox(src, caption){
          if(!lb) return;
          lbImg.src = src;
          lbImg.alt = caption || '';
          lbCaption.textContent = caption || '';
          lb.classList.remove('hidden'); lb.setAttribute('aria-hidden','false');
        }
        function closeLightbox(){ if(!lb) return; lb.classList.add('hidden'); lb.setAttribute('aria-hidden','true'); lbImg.src=''; lbCaption.textContent=''; }

        // delegation: handle clicks on gallery images, including ones added dynamically
        document.addEventListener('click', function(e){
          var img = e.target.closest && e.target.closest('.gallery-scroller img');
          if(img){ e.preventDefault(); openLightbox(img.src, img.alt || img.getAttribute('data-caption') || ''); }
        });

        if(lbClose) lbClose.addEventListener('click', closeLightbox);
        // close on background click
        if(lb) lb.addEventListener('click', function(e){ if(e.target === lb) closeLightbox(); });
        // close on ESC
        document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeLightbox(); });
      })();
    </script>
  </body>
</html>
